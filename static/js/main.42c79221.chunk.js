(this["webpackJsonpdemon-slayer"]=this["webpackJsonpdemon-slayer"]||[]).push([[0],{78:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n(2),c=n.n(o),r=n(20),i=n.n(r),u=n(0),s=n(7),f=n(22),l=n(25),d=n(34),b=n(16),j=n(3),m=n(10),p=n(17),O={x:0,y:0,checkStatus:!1,boardStatus:!1,debut:!1,roundMove:1},x=Object(p.a)({name:"chess",initialState:[Object(u.a)({name:"Tanjirou",cn:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",id:1,step:3,attack:2,hp:1500,sp:125,dodge:80,fullValue:{hp:1500,sp:125},skill:[{name:"\u65ac\u64ca",atk:200,sp:0,hitfix:0},{name:"\u53c4\u4e4b\u578b\u2015\u6d41\u6d41\u821e",atk:350,sp:15,hitfix:10},{name:"\u634c\u4e4b\u578b\u2015\u6edd\u58fa",atk:500,sp:25,hitfix:5},{name:"\u62fe\u4e4b\u578b\u2015\u751f\u751f\u6d41\u8f49",atk:850,sp:50,hitfix:20}]},O),Object(u.a)({name:"Nezuko",cn:"\u7ac8\u9580 \u79b0\u8c46\u5b50",id:2,step:2,attack:2,hp:2200,sp:200,dodge:80,fullValue:{hp:2200,sp:200},skill:[{name:"\u722a\u64ca",atk:150,sp:0,hitfix:0},{name:"\u8e22\u64ca",atk:250,sp:10,hitfix:15},{name:"\u8840\u9b3c\u8853",atk:1e3,sp:80,hitfix:35}]},O),Object(u.a)({name:"Zenitsu",cn:"\u6211\u59bb\u5584\u9038",id:3,step:3,attack:2,hp:1250,sp:100,dodge:80,fullValue:{hp:1250,sp:100},skill:[{name:"\u65ac\u64ca",atk:200,sp:0,hitfix:0},{name:"\u58f9\u4e4b\u578b\u2015\u9739\u9742\u4e00\u9583",atk:400,sp:15,hitfix:15},{name:"\u58f9\u4e4b\u578b\u2015\u9739\u9742\u4e00\u9583\u516d\u9023",atk:1e3,sp:70,hitfix:30}]},O),Object(u.a)({name:"Inosuke",cn:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",id:4,step:3,attack:3,hp:1800,sp:100,dodge:70,fullValue:{hp:1800,sp:100},skill:[{name:"\u65ac\u64ca",atk:200,sp:0,hitfix:0},{name:"\u58f9\u4e4b\u7259\u2015\u7a7f\u900f\u523a\u5c04",atk:300,sp:10,hitfix:10},{name:"\u8cb3\u4e4b\u7259\u2015\u5229\u5203\u5c0d\u5288",atk:400,sp:15,hitfix:15},{name:"\u53c4\u4e4b\u7259\u2015\u7360\u7259\u6495\u626f",atk:600,sp:45,hitfix:25}]},O),Object(u.a)({name:"Rengoku",cn:"\u7149\u7344 \u674f\u58fd\u90ce",id:5,step:4,attack:4,hp:2500,sp:200,dodge:80,fullValue:{hp:2500,sp:200},skill:[{name:"\u65ac\u64ca",atk:300,sp:0,hitfix:10},{name:"\u58f9\u4e4b\u578b\u2015\u4e0d\u77e5\u706b",atk:400,sp:15,hitfix:30},{name:"\u8086\u4e4b\u578b\u2015\u76db\u708e\u7684\u873f\u8712",atk:500,sp:15,hitfix:25},{name:"\u4f0d\u4e4b\u578b\u2015\u708e\u864e",atk:800,sp:30,hitfix:30},{name:"\u7396\u4e4b\u578b\u2015\u7149\u7344",atk:1500,sp:100,hitfix:50}]},O),Object(u.a)({name:"Jotaro",cn:"\u7a7a\u6761 \u627f\u592a\u90ce",id:6,step:3,attack:3,hp:2400,sp:200,dodge:65,fullValue:{hp:2400,sp:200},skill:[{name:"\u66ff\u8eab\u653b\u64ca",atk:400,sp:0,hitfix:10},{name:"\u767d\u91d1\u4e4b\u661f",atk:500,sp:15,hitfix:30},{name:"\u767d\u91d1\u4e4b\u661f\u2015\u6642\u9593\u66ab\u505c",atk:1e3,sp:50,hitfix:80}]},O),Object(u.a)({name:"Josuke",cn:"\u6771\u65b9 \u4ed7\u52a9",id:7,step:3,attack:3,hp:2200,sp:180,dodge:55,fullValue:{hp:2200,sp:180},skill:[{name:"\u66ff\u8eab\u653b\u64ca",atk:300,sp:0,hitfix:15},{name:"\u760b\u72c2\u947d\u77f3",atk:400,sp:10,hitfix:25},{name:"\u760b\u72c2\u947d\u77f3\u2015\u653b\u9632\u4ea4\u66ff",atk:800,sp:30,hitfix:50}]},O)],reducers:{stageDebut:function(t,e){var n=e.payload.isDebutChess;t.map((function(e,a){return n.map((function(n){return e.name===n.get("name")?(t[a].roundMove=1,t[a].debut=!0,t[a].x=n.get("x"),t[a].y=n.get("y")):null}))}))},chessMove:function(t,e){var n=e.payload,a=n.key,o=n.changeX,c=n.changeY;t[a].x=o,t[a].y=c},chessSelected:function(t,e){var n=e.payload.key;t[n].boardStatus=!t[n].boardStatus},chessCheckStatus:function(t,e){var n=e.payload.key;t[n].checkStatus=!t[n].checkStatus},chessDefense:function(t,e){var n=e.payload,a=n.key,o=n.damage;t[a].hp-=o},chessAttackResult:function(t,e){var n=e.payload,a=n.key,o=n.lessSp;t[a].sp-=o},chessDead:function(t,e){var n=e.payload.key;t[n].debut=!1,t[n].hp=t[n].fullValue.hp,t[n].sp=t[n].fullValue.sp},chessMoved:function(t,e){t[e.payload.key].roundMove-=1},chessRoundRest:function(t){for(var e=0;e<t.length;e++)t[e].roundMove=1},chessDone:function(t){for(var e=0;e<t.length;e++)t[e].debut=!1,t[e].hp=t[e].fullValue.hp,t[e].sp=t[e].fullValue.sp,t[e].roundMove=1}}}),y=x.reducer,h=x.actions,k=h.stageDebut,g=h.chessMove,S=h.chessSelected,v=h.chessCheckStatus,T=h.chessAttackResult,w=h.chessDead,I=h.chessMoved,N=h.chessDefense,R=h.chessRoundRest,E=h.chessDone,H={x:0,y:0,checkStatus:!1,boardStatus:!1,debut:!1,roundAttack:!1},z=Object(p.a)({name:"enemyChess",initialState:[Object(u.a)({name:"Teoni",cn:"\u624b\u9b3c",id:1,hp:2e3,sp:100,dodge:25,fullValue:{hp:2e3,sp:100},skill:[{name:"\u80e1\u4e82\u6bc6\u6253",atk:200,sp:0,hitfix:10},{name:"\u4f60\u662f\u7b2c\u5341\u56db\u500b",atk:500,sp:25,hitfix:20}]},H),Object(u.a)({name:"Nomanooni",cn:"\u6cbc\u9b3c(\u58f9)",id:2,hp:1200,sp:120,dodge:25,fullValue:{hp:1200,sp:120},skill:[{name:"\u722a\u64ca",atk:150,sp:0,hitfix:15},{name:"\u5206\u8eab\u653b\u64ca",atk:300,sp:20,hitfix:30}]},H),Object(u.a)({name:"Nomanooni-2",cn:"\u6cbc\u9b3c(\u8cb3)",id:3,hp:1200,sp:120,dodge:25,fullValue:{hp:1200,sp:120},skill:[{name:"\u722a\u64ca",atk:150,sp:0,hitfix:15},{name:"\u5206\u8eab\u653b\u64ca",atk:300,sp:20,hitfix:30}]},H),Object(u.a)({name:"Nomanooni-3",cn:"\u6cbc\u9b3c(\u53c3)",id:4,hp:1200,sp:120,dodge:25,fullValue:{hp:1200,sp:120},skill:[{name:"\u722a\u64ca",atk:150,sp:0,hitfix:15},{name:"\u5206\u8eab\u653b\u64ca",atk:300,sp:20,hitfix:30}]},H),Object(u.a)({name:"Hakuji",cn:"\u7317\u7aa9\u5ea7",id:5,hp:4e3,sp:200,dodge:40,fullValue:{hp:4e3,sp:200},skill:[{name:"\u7834\u58de\u6bba\u653b\u64ca",atk:400,sp:0,hitfix:20},{name:"\u7834\u58de\u6bba\u2015\u4e82\u5f0f",atk:600,sp:15,hitfix:30},{name:"\u8853\u5f0f\u5c55\u958b\u2015\u7834\u58de\u6bba\u2015\u7f85\u91dd",atk:900,sp:30,hitfix:30}]},H)],reducers:{enemyStageDebut:function(t,e){var n=e.payload.isDebutChess;t.map((function(e,a){return n.map((function(n){return e.name===n.get("name")?(t[a].debut=!0,t[a].x=n.get("x"),t[a].y=n.get("y")):null}))}))},enemyChessSelected:function(t,e){var n=e.payload.key;t[n].boardStatus=!t[n].boardStatus},enemyChessCheckStatus:function(t,e){var n=e.payload.key;t[n].checkStatus=!t[n].checkStatus},enemyChessDefense:function(t,e){var n=e.payload,a=n.key,o=n.damage;t[a].hp-=o},enemyChessAttackResult:function(t,e){var n=e.payload,a=n.key,o=n.lessSp;t[a].sp-=o},enemyChessDead:function(t,e){var n=e.payload.key;t[n].debut=!1,t[n].hp=t[n].fullValue.hp,t[n].sp=t[n].fullValue.sp}}}),C=z.reducer,L=z.actions,P=L.enemyStageDebut,F=L.enemyChessSelected,M=L.enemyChessCheckStatus,U=L.enemyChessDefense,B=L.enemyChessAttackResult,G=L.enemyChessDead,J=n(4),A="localhost"===window.location.hostname?"./Demon-Slayer/":"./",D=new J.h,Y={open:new m.Howl({src:["".concat(A,"audio/bgm-open.mp3")],preload:"metadata",loop:!0,autoplay:!1}),round:new m.Howl({src:["".concat(A,"audio/bgm-round.mp3")],preload:"metadata",loop:!0,autoplay:!1}),HakujiRound:new m.Howl({src:["".concat(A,"audio/bgm-Hakuji-round.mp3")],preload:"metadata",loop:!0,autoplay:!1}),Hakuji:new m.Howl({src:["".concat(A,"audio/bgm-Hakuji.mp3")],preload:"metadata",loop:!0,autoplay:!1}),KimetsuNoYaiba:new m.Howl({src:["".concat(A,"audio/bgm-KimetsuNoYaiba.mp3")],preload:"metadata",loop:!0,autoplay:!1}),KimetsuNoYaibaEnemy:new m.Howl({src:["".concat(A,"audio/bgm-KimetsuNoYaibaEnemy.mp3")],preload:"metadata",loop:!0,autoplay:!1}),Jotaro:new m.Howl({src:["".concat(A,"audio/bgm-Jotaro.mp3")],preload:"metadata",loop:!0,autoplay:!1}),Josuke:new m.Howl({src:["".concat(A,"audio/bgm-Josuke.mp3")],preload:"metadata",loop:!0,autoplay:!1})},K={Tanjirou:{skill2:J.r.from("".concat(A,"video/Tanjirou/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Tanjirou/skill3.mp4")),skill4:J.r.from("".concat(A,"video/Tanjirou/skill4.mp4"))},Nezuko:{skill2:J.r.from("".concat(A,"video/Nezuko/skill2.mp4"))},Zenitsu:{skill2:J.r.from("".concat(A,"video/Zenitsu/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Zenitsu/skill3.mp4"))},Inosuke:{skill3:J.r.from("".concat(A,"video/Inosuke/skill3.mp4")),skill4:J.r.from("".concat(A,"video/Inosuke/skill4.mp4"))},Rengoku:{skill2:J.r.from("".concat(A,"video/Rengoku/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Rengoku/skill3.mp4")),skill4:J.r.from("".concat(A,"video/Rengoku/skill4.mp4")),skill5:J.r.from("".concat(A,"video/Rengoku/skill5.mp4"))},Hakuji:{skill2:J.r.from("".concat(A,"video/Hakuji/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Hakuji/skill3.mp4"))},Jotaro:{skill2:J.r.from("".concat(A,"video/Jotaro/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Jotaro/skill3.mp4"))},Josuke:{skill2:J.r.from("".concat(A,"video/Josuke/skill2.mp4")),skill3:J.r.from("".concat(A,"video/Josuke/skill3.mp4"))}};!function(){for(var t=Object.keys(K.Tanjirou),e=0;e<t.length;e++)K.Tanjirou["skill".concat(e+2)].baseTexture.resource.autoPlay=!1,K.Tanjirou["skill".concat(e+2)].baseTexture.resource.muted=!0;for(var n=Object.keys(K.Nezuko),a=0;a<n.length;a++)K.Nezuko["skill".concat(a+2)].baseTexture.resource.autoPlay=!1,K.Nezuko["skill".concat(a+2)].baseTexture.resource.muted=!0;for(var o=Object.keys(K.Zenitsu),c=0;c<o.length;c++)K.Zenitsu["skill".concat(c+2)].baseTexture.resource.autoPlay=!1,K.Zenitsu["skill".concat(c+2)].baseTexture.resource.muted=!0;for(var r=Object.keys(K.Inosuke),i=0;i<r.length;i++)K.Inosuke["skill".concat(i+3)].baseTexture.resource.autoPlay=!1,K.Inosuke["skill".concat(i+3)].baseTexture.resource.muted=!0;for(var u=Object.keys(K.Rengoku),s=0;s<u.length;s++)K.Rengoku["skill".concat(s+2)].baseTexture.resource.autoPlay=!1,K.Rengoku["skill".concat(s+2)].baseTexture.resource.muted=!0;for(var f=Object.keys(K.Hakuji),l=0;l<f.length;l++)K.Hakuji["skill".concat(l+2)].baseTexture.resource.autoPlay=!1,K.Hakuji["skill".concat(l+2)].baseTexture.resource.muted=!0;for(var d=Object.keys(K.Jotaro),b=0;b<d.length;b++)K.Jotaro["skill".concat(b+2)].baseTexture.resource.autoPlay=!1,K.Jotaro["skill".concat(b+2)].baseTexture.resource.muted=!0;for(var j=Object.keys(K.Josuke),m=0;m<j.length;m++)K.Josuke["skill".concat(m+2)].baseTexture.resource.autoPlay=!1,K.Josuke["skill".concat(m+2)].baseTexture.resource.muted=!0}(),D.add("Tanjirou-head-default","".concat(A,"imgs/Tanjirou/head-default.png")).add("Tanjirou-talk-default","".concat(A,"imgs/Tanjirou/talk-default.jpg")).add("Tanjirou-talk-attack","".concat(A,"imgs/Tanjirou/talk-attack.jpg")).add("Tanjirou-talk-def","".concat(A,"imgs/Tanjirou/talk-def.jpg")).add("Tanjirou-talk-dodge","".concat(A,"imgs/Tanjirou/talk-dodge.jpg")).add("Tanjirou-talk-dead","".concat(A,"imgs/Tanjirou/talk-dead.jpg")).add("Tanjirou-talk-worry","".concat(A,"imgs/Tanjirou/talk-worry.jpg")).add("Tanjirou-talk-usual","".concat(A,"imgs/Tanjirou/talk-usual.jpg")).add("Tanjirou-talk-error","".concat(A,"imgs/Tanjirou/talk-error.jpg")).add("Tanjirou-talk-cry","".concat(A,"imgs/Tanjirou/talk-cry.jpg")).add("Tanjirou-talk-afraid","".concat(A,"imgs/Tanjirou/talk-afraid.jpg")).add("Tanjirou-fight-typeA","".concat(A,"imgs/Tanjirou/fight-typeA.png")).add("Tanjirou-fight-typeB","".concat(A,"imgs/Tanjirou/fight-typeB.png")).add("Nezuko-head-default","".concat(A,"imgs/Nezuko/head-default.png")).add("Nezuko-talk-default","".concat(A,"imgs/Nezuko/talk-default.jpg")).add("Nezuko-talk-attack","".concat(A,"imgs/Nezuko/talk-attack.jpg")).add("Nezuko-talk-def","".concat(A,"imgs/Nezuko/talk-def.jpg")).add("Nezuko-talk-dodge","".concat(A,"imgs/Nezuko/talk-dodge.jpg")).add("Nezuko-talk-dead","".concat(A,"imgs/Nezuko/talk-dead.jpg")).add("Nezuko-talk-confuse","".concat(A,"imgs/Nezuko/talk-confuse.jpg")).add("Nezuko-fight","".concat(A,"imgs/Nezuko/fight.png")).add("Zenitsu-head-default","".concat(A,"imgs/Zenitsu/head-default.png")).add("Zenitsu-talk-default","".concat(A,"imgs/Zenitsu/talk-default.jpg")).add("Zenitsu-talk-attack","".concat(A,"imgs/Zenitsu/talk-attack.jpg")).add("Zenitsu-talk-def","".concat(A,"imgs/Zenitsu/talk-def.jpg")).add("Zenitsu-talk-dodge","".concat(A,"imgs/Zenitsu/talk-dodge.jpg")).add("Zenitsu-talk-dead","".concat(A,"imgs/Zenitsu/talk-dead.jpg")).add("Zenitsu-talk-usual","".concat(A,"imgs/Zenitsu/talk-usual.jpg")).add("Zenitsu-talk-fall","".concat(A,"imgs/Zenitsu/talk-fall.jpg")).add("Zenitsu-talk-afraid","".concat(A,"imgs/Zenitsu/talk-afraid.jpg")).add("Zenitsu-talk-happy","".concat(A,"imgs/Zenitsu/talk-happy.jpg")).add("Zenitsu-fight","".concat(A,"imgs/Zenitsu/fight.png")).add("Inosuke-head-default","".concat(A,"imgs/Inosuke/head-default.png")).add("Inosuke-talk-default","".concat(A,"imgs/Inosuke/talk-default.jpg")).add("Inosuke-talk-attack","".concat(A,"imgs/Inosuke/talk-attack.jpg")).add("Inosuke-talk-def","".concat(A,"imgs/Inosuke/talk-def.jpg")).add("Inosuke-talk-dodge","".concat(A,"imgs/Inosuke/talk-dodge.jpg")).add("Inosuke-talk-dead","".concat(A,"imgs/Inosuke/talk-dead.jpg")).add("Inosuke-talk-angry","".concat(A,"imgs/Inosuke/talk-angry.jpg")).add("Inosuke-fight","".concat(A,"imgs/Inosuke/fight.png")).add("Rengoku-head-default","".concat(A,"imgs/Rengoku/head-default.png")).add("Rengoku-talk-default","".concat(A,"imgs/Rengoku/talk-default.jpg")).add("Rengoku-talk-attack","".concat(A,"imgs/Rengoku/talk-attack.jpg")).add("Rengoku-talk-def","".concat(A,"imgs/Rengoku/talk-def.jpg")).add("Rengoku-talk-dodge","".concat(A,"imgs/Rengoku/talk-dodge.jpg")).add("Rengoku-talk-dead","".concat(A,"imgs/Rengoku/talk-dead.jpg")).add("Rengoku-talk-usual","".concat(A,"imgs/Rengoku/talk-usual.jpg")).add("Rengoku-talk-spark","".concat(A,"imgs/Rengoku/talk-spark.jpg")).add("Rengoku-talk-last","".concat(A,"imgs/Rengoku/talk-last.jpg")).add("Rengoku-fight","".concat(A,"imgs/Rengoku/fight.png")).add("Teoni-head-default","".concat(A,"imgs/Teoni/head-default.png")).add("Teoni-talk-default","".concat(A,"imgs/Teoni/talk-default.jpg")).add("Teoni-talk-attack","".concat(A,"imgs/Teoni/talk-attack.jpg")).add("Teoni-talk-def","".concat(A,"imgs/Teoni/talk-def.jpg")).add("Teoni-talk-dodge","".concat(A,"imgs/Teoni/talk-dodge.jpg")).add("Teoni-talk-dead","".concat(A,"imgs/Teoni/talk-dead.jpg")).add("Teoni-fight","".concat(A,"imgs/Teoni/fight.png")).add("Nomanooni-head-default","".concat(A,"imgs/Nomanooni/head-default.png")).add("Nomanooni-talk-default","".concat(A,"imgs/Nomanooni/talk-default.jpg")).add("Nomanooni-talk-attack","".concat(A,"imgs/Nomanooni/talk-attack.jpg")).add("Nomanooni-talk-def","".concat(A,"imgs/Nomanooni/talk-def.jpg")).add("Nomanooni-talk-dodge","".concat(A,"imgs/Nomanooni/talk-dodge.jpg")).add("Nomanooni-talk-dead","".concat(A,"imgs/Nomanooni/talk-dead.jpg")).add("Nomanooni-fight","".concat(A,"imgs/Nomanooni/fight.png")).add("Hakuji-head-default","".concat(A,"imgs/Hakuji/head-default.png")).add("Hakuji-talk-default","".concat(A,"imgs/Hakuji/talk-default.jpg")).add("Hakuji-talk-attack","".concat(A,"imgs/Hakuji/talk-attack.jpg")).add("Hakuji-talk-def","".concat(A,"imgs/Hakuji/talk-def.jpg")).add("Hakuji-talk-dodge","".concat(A,"imgs/Hakuji/talk-dodge.jpg")).add("Hakuji-talk-dead","".concat(A,"imgs/Hakuji/talk-dead.jpg")).add("Hakuji-talk-usual","".concat(A,"imgs/Hakuji/talk-usual.jpg")).add("Hakuji-fight","".concat(A,"imgs/Hakuji/fight.png")).add("Jotaro-head-default","".concat(A,"imgs/Jotaro/head-default.png")).add("Jotaro-talk-default","".concat(A,"imgs/Jotaro/talk-default.jpg")).add("Jotaro-talk-attack","".concat(A,"imgs/Jotaro/talk-attack.jpg")).add("Jotaro-talk-def","".concat(A,"imgs/Jotaro/talk-def.jpg")).add("Jotaro-talk-dodge","".concat(A,"imgs/Jotaro/talk-dodge.jpg")).add("Jotaro-talk-dead","".concat(A,"imgs/Jotaro/talk-dead.jpg")).add("Jotaro-talk-usual","".concat(A,"imgs/Jotaro/talk-usual.jpg")).add("Jotaro-talk-silent","".concat(A,"imgs/Jotaro/talk-silent.jpg")).add("Jotaro-talk-afraid","".concat(A,"imgs/Jotaro/talk-afraid.jpg")).add("Jotaro-fight","".concat(A,"imgs/Jotaro/fight.png")).add("Josuke-head-default","".concat(A,"imgs/Josuke/head-default.png")).add("Josuke-talk-default","".concat(A,"imgs/Josuke/talk-default.jpg")).add("Josuke-talk-attack","".concat(A,"imgs/Josuke/talk-attack.jpg")).add("Josuke-talk-def","".concat(A,"imgs/Josuke/talk-def.jpg")).add("Josuke-talk-dodge","".concat(A,"imgs/Josuke/talk-dodge.jpg")).add("Josuke-talk-dead","".concat(A,"imgs/Josuke/talk-dead.jpg")).add("Josuke-talk-usual","".concat(A,"imgs/Josuke/talk-usual.jpg")).add("Josuke-talk-angry","".concat(A,"imgs/Josuke/talk-angry.jpg")).add("Josuke-talk-stand","".concat(A,"imgs/Josuke/talk-stand.jpg")).add("Josuke-fight","".concat(A,"imgs/Josuke/fight.png")).add("stageOne-BG","".concat(A,"imgs/background/stage1-background.png")).add("stageOne-main-BG","".concat(A,"imgs/background/stage1-main-background.jpg")).add("stageThree-BG","".concat(A,"imgs/background/stage2-background.png")).add("stageThree-main-BG","".concat(A,"imgs/background/stage2-main-background.jpg")).add("logo","".concat(A,"imgs/common/logo.png")).add("atkIcon","".concat(A,"imgs/common/atk.png")).add("defIcon","".concat(A,"imgs/common/def.png")).add("otherIcon","".concat(A,"imgs/common/other.png")).add("closeIcon","".concat(A,"imgs/common/close.png")).add("muteIcon","".concat(A,"imgs/common/mute.png")).add("volumeIcon","".concat(A,"imgs/common/volume.png")).add("startBtn","".concat(A,"imgs/common/startBtn.png")).add("endBtn","".concat(A,"imgs/common/end.png")).add("fightOff","".concat(A,"imgs/common/fightOff.png")).add("fightDef","".concat(A,"imgs/common/fightDef.png")).add("trun","".concat(A,"imgs/common/trun.png")).add("next","".concat(A,"imgs/common/next.png")).load();var q=function(t){var e=t.logoWidth,n=void 0===e?200:e,o=t.startBtn,c=t.setLogoWidth,r=0;return Object(j.useTick)((function(t){if(!o){var e=r+=.28*t;c((function(t){return t+Math.floor(e)}))}})),Object(a.jsx)(j.Sprite,{anchor:.5,x:400,y:250,width:n,height:n,image:D.resources.logo.data})},V=function(t){var e=t.props,n=e.setStageStart,c=e.setCurrentBGM,r=Object(o.useState)(200),i=Object(s.a)(r,2),u=i[0],f=i[1],l=Object(o.useState)(!1),d=Object(s.a)(l,2),b=d[0],m=d[1],p=Object(o.useState)(!1),O=Object(s.a)(p,2),x=O[0],y=O[1];return Object(o.useEffect)((function(){u>=350&&y(!0)}),[u]),Object(a.jsx)(j.Container,{sortableChildren:!0,children:b?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q,{logoWidth:u,startBtn:x,setLogoWidth:f}),x&&Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,anchor:.5,x:400,y:450,width:120,height:56,image:D.resources.startBtn.data,pointertap:function(){Y.open.fade(1,0,1e3),n(!0),c("userRounds")}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.Graphics,{interactive:!0,buttonMode:!0,x:0,y:0,zIndex:1,draw:function(t){t.clear(),t.beginFill(0),t.drawRoundedRect(0,0,800,600,0),t.endFill()},pointertap:function(){Y.open.play(),m(!0)},alpha:.5}),Object(a.jsx)(j.Text,{text:"\u4efb\u610f\u9ede\u64ca",zIndex:2,anchor:.5,x:400,y:300,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:24,fill:"#ffffff"})})]})})},Z=20,X=15,W=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=[],n=0;n<X;n++)e.push(t(n,"0x383838"));return e}((function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a=0;a<Z;a++)n.push({x:a,y:t,color:e,alpha:0,zIndex:1,isInteractive:!1});return n})),_=Object(p.a)({name:"chessMap",initialState:W,reducers:{MoveSelect:function(t,e){for(var n=e.payload,a=n.position,o=n.step,c=n.changeColor,r=n.alphaVal,i=void 0===r?1:r,u=0;u<o+1;u++)a.x+u<=Z-1&&(t[a.y][a.x+u].color=c,t[a.y][a.x+u].isInteractive=!1,t[a.y][a.x+u].alpha=i,t[a.y][a.x+u].zIndex=1),a.y+u<=X-1&&(t[a.y+u][a.x].color=c,t[a.y+u][a.x].isInteractive=!1,t[a.y+u][a.x].alpha=i,t[a.y+u][a.x].zIndex=1),a.x-u>=0&&(t[a.y][a.x-u].color=c,t[a.y][a.x-u].isInteractive=!1,t[a.y][a.x-u].alpha=i,t[a.y][a.x-u].zIndex=1),a.y-u>=0&&(t[a.y-u][a.x].color=c,t[a.y-u][a.x].isInteractive=!1,t[a.y-u][a.x].alpha=i,t[a.y-u][a.x].zIndex=1)},GetMove:function(t,e){for(var n=e.payload,a=n.position,o=n.step,c=n.changeColor,r=n.currentChessPositions,i=0;i<o+1;i++)a.x+i<=Z-1&&(t[a.y][a.x+i].color=c,t[a.y][a.x+i].isInteractive=!0,t[a.y][a.x+i].alpha=.5,t[a.y][a.x+i].zIndex=1),a.y+i<=X-1&&(t[a.y+i][a.x].color=c,t[a.y+i][a.x].isInteractive=!0,t[a.y+i][a.x].alpha=.5,t[a.y+i][a.x].zIndex=1),a.x-i>=0&&(t[a.y][a.x-i].color=c,t[a.y][a.x-i].isInteractive=!0,t[a.y][a.x-i].alpha=.5,t[a.y][a.x-i].zIndex=1),a.y-i>=0&&(t[a.y-i][a.x].color=c,t[a.y-i][a.x].isInteractive=!0,t[a.y-i][a.x].alpha=.5,t[a.y-i][a.x].zIndex=1);r.map((function(e){return t[e.y][e.x].isInteractive=!1}))},GetAttack:function(t,e){for(var n=e.payload,a=n.position,o=n.step,c=n.changeColor,r=n.currentChessPositions,i=0;i<o+1;i++)a.x+i<=Z-1&&(t[a.y][a.x+i].color=c,t[a.y][a.x+i].isInteractive=!0,t[a.y][a.x+i].alpha=.5,t[a.y][a.x+i].zIndex=3),a.y+i<=X-1&&(t[a.y+i][a.x].color=c,t[a.y+i][a.x].isInteractive=!0,t[a.y+i][a.x].alpha=.5,t[a.y+i][a.x].zIndex=3),a.x-i>=0&&(t[a.y][a.x-i].color=c,t[a.y][a.x-i].isInteractive=!0,t[a.y][a.x-i].alpha=.5,t[a.y][a.x-i].zIndex=3),a.y-i>=0&&(t[a.y-i][a.x].color=c,t[a.y-i][a.x].isInteractive=!0,t[a.y-i][a.x].alpha=.5,t[a.y-i][a.x].zIndex=3);r.map((function(e){return t[e.y][e.x].isInteractive=!1,t[e.y][e.x].zIndex=1}))}}}),$=_.reducer,Q=_.actions,tt=Q.MoveSelect,et=Q.GetMove,nt=Q.GetAttack,at=J.r.WHITE,ot=function(t){var e=t.reduxProps,n=e.chess,o=e.enemyChess,r=e.chessMap,i=e.currentChess,s=e.dispatch,f=e.setTipStatus,l=e.setMoveStep,d=e.setBattleInfo;return Object(a.jsx)(c.a.Fragment,{children:r.map((function(t){return t.map((function(t,e){return Object(a.jsx)(j.Sprite,{interactive:t.isInteractive,buttonMode:t.isInteractive,zIndex:t.zIndex,width:40,height:40,x:40*t.x,y:40*t.y,tint:t.color,alpha:t.alpha,texture:at,pointertap:function(){switch(i.type){case"MOVE":f({title:"\u78ba\u5b9a\u79fb\u52d5?",status:!0,position:{x:t.x,y:t.y}}),s(tt({position:{x:n[i.key].x,y:n[i.key].y},step:n[i.key].step,changeColor:"0x06d6a0",alphaVal:.5}));break;case"ATTACK":if(function(t,e){var n=!1;return o.map((function(a){return a.debut&&t===a.x&&e===a.y?n=!0:null})),n}(t.x,t.y)){var e=function(t,e){var n={};return o.map((function(a,o){return a.debut&&t===a.x&&e===a.y?n=Object(u.a)(Object(u.a)({},a),{},{key:o}):null})),n}(t.x,t.y);d({status:!0,attacker:Object(u.a)({key:i.key},n[i.key]),target:Object(u.a)({key:e.key},e)}),s(tt({position:{x:n[i.key].x,y:n[i.key].y},step:n[i.key].attack,changeColor:"0x383838",alphaVal:0}))}else l(!0),s(tt({position:{x:n[i.key].x,y:n[i.key].y},step:n[i.key].acttack,changeColor:"0x383838",alphaVal:0}));break;default:return}}},e)}))}))})},ct=function(t){var e=t.props,n=e.chess,o=e.currentChess,c=e.tipStatus,r=e.currentBGM,i=e.dispatch,s=e.setMoveStep,f=e.setTipStatus,l=e.setOtherTab,d=e.setRoundNum,b=e.setUsualTip,m=e.setFadeBGM;return Object(a.jsxs)(j.Graphics,{x:400,y:300,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-90,-50,180,100,8),t.endFill()},children:[Object(a.jsx)(j.Text,{text:c.title,anchor:.5,x:0,y:-20,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:["#ffffff","#ffffff"]})}),Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,anchor:.5,text:"\u78ba\u5b9a",x:-32,y:20,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:24,fill:["#ffffff","#ffffff"]}),pointertap:function(){switch(o.type){case"MOVE":i(g({key:o.key,changeX:c.position.x,changeY:c.position.y})),i(I({key:o.key})),i(tt({position:{x:n[o.key].x,y:n[o.key].y},step:n[o.key].step,changeColor:"0x383838",alphaVal:0})),s(!0),f((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})}));break;case"ENDROUND":l(!1),d((function(t){return t+1})),f((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})})),b({title:"\u6575\u65b9\u56de\u5408",status:!0}),m(r);break;default:return}}}),Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,anchor:.5,text:"\u53d6\u6d88",x:32,y:20,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:24,fill:["#ffffff","#ffffff"]}),pointertap:function(){switch(o.type){case"MOVE":i(tt({position:{x:n[o.key].x,y:n[o.key].y},step:n[o.key].step,changeColor:"0x383838",alphaVal:0})),s(!0),f((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})}));break;case"ENDROUND":f((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})}));break;default:return}}})]})},rt=n(14),it=Object(rt.a)({stageOne:{debutChess:[{name:"Tanjirou",x:6,y:7}],debutEnemyChess:[{name:"Teoni",x:13,y:7}],ruleText:{win:"\u64ca\u6557\u624b\u9b3c\u3002",lose:"\u7ac3\u9580 \u70ad\u6cbb\u90ce \u6230\u6557\u3002"},recap:"\u524d\u60c5\u63d0\u8981\uff1a\u70ad\u6cbb\u90ce\u8207\u9b3c\u6bba\u968a\u58eb\u5011\u5373\u5c07\u8207\u300c\u708e\u67f1\u300d\u7149\u7344\u674f\u58fd\u90ce\u898b\u9762\uff0c\u4e26\u5354\u52a9\u4ed6\u6bba\u6b7b\u6f5b\u4f0f\u5728\u7121\u9650\u5217\u8eca\u4e0a\u7684\u60e1\u9b3c\u3002\u4eca\u591c\u662f\u7121\u9650\u5217\u8eca\u51fa\u767c\u7684\u524d\u4e00\u591c\uff0c\u70ad\u6cbb\u90ce\u5373\u5c07\u8981\u8207\u5176\u4ed6\u968a\u58eb\u96c6\u5408...\u3002",story:[{character:"Tanjirou-talk-default",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u5230\u9054\u8eca\u7ad9\u4e86\uff0c\u60f3\u4e0d\u5230\u73fe\u5728\u7684\u6771\u4eac\u5df2\u7d93\u9019\u9ebc\u7e41\u83ef\uff0c\u9023\u591c\u665a\u5230\u8655\u90fd\u662f\u71c8\u5149\u3002"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u9019\u4e00\u9663\u5b50\u7684\u7d93\u6b77\u8b93\u79b0\u8c46\u5b50\u7d2f\u58de\u4e86\uff0c\u4f3c\u4e4e\u5f88\u4e45\u6c92\u6709\u597d\u597d\u7761\u500b\u89ba\u4e86..)"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u79b0\u8c46\u5b50\uff0c\u4eca\u591c\u5c31\u597d\u597d\u5728\u65c5\u9928\u4f11\u606f\u5427! \u54e5\u54e5\u7b49\u7b49\u5148\u53bb\u8207\u4f0a\u4e4b\u52a9\u3001\u5584\u9038\u5011\u6703\u5408\u3002"},{character:"Nezuko-talk-dodge",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"\u55ef...(\u9ede\u982d)"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u90a3\u9ebc\u6211\u51fa\u53bb\u56c9!"},{character:"Nezuko-talk-dodge",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"\u55ef\u55ef...(\u8def\u4e0a\u5c0f\u5fc3)"},{character:"Tanjirou-talk-default",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u6b65\u884c\u5230\u5e02\u5340\u5916\u570d)"},{character:"Tanjirou-talk-default",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u8ddd\u96e2\u548c\u4f0a\u4e4b\u52a9\u3001\u5584\u9038\u6703\u5408\u9084\u6709\u4e00\u4e9b\u6642\u9593\uff0c\u5148\u4f86\u7368\u81ea\u4fee\u884c\u4e00\u4e0b\u5427!!"},{character:"Tanjirou-talk-default",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u60f3\u60f3\u81f3\u4eca\u5f88\u4e45\u6c92\u6709\u7368\u81ea\u63ee\u5200\u4fee\u7149\u4e86! \u771f\u662f\u61f7\u5ff5..\u54c8\u54c8\u3002"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u9a37\u52d5\u8072)..!!"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u9b3c\u7684\u6c23\u5473!?..\u597d\u719f\u6089?!!"},{character:"Teoni-talk-default",name:"\u624b\u9b3c",color:"#9d4edd",content:"\u7375\u9b3c\u4eba?!! \u771f\u662f\u525b\u597d\uff0c\u773c\u524d\u9001\u4f86\u7684\u98df\u7269!!"},{character:"Tanjirou-talk-def",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u624b\u9b3c!!!??..\u4e0d\u662f\u5728\u9b3c\u6bba\u968a\u8a66\u7149\u7684\u6642\u5019\u5c31\u64ca\u6557\u4ed6\u4e86\u55ce??"},{character:"Teoni-talk-default",name:"\u624b\u9b3c",color:"#9d4edd",content:"\u770b\u6211\u5403\u4e86\u4f60!!!"},{character:"Tanjirou-talk-def",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u771f\u662f\u5947\u602a!!..\u7a76\u7adf\u662f\u600e\u9ebc\u56de\u4e8b??..\u5f9e\u6c92\u807d\u5230\u6d88\u606f\u8aaa\u9019\u9644\u8fd1\u51fa\u73fe\u60e1\u9b3c\uff0c\u800c\u4e14\u9084\u662f\u6b7b\u904e\u4e00\u6b21\u7684\u624b\u9b3c.."},{character:"Tanjirou-talk-attack",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u51b7\u975c\u4e0b\u4f86! \u5fc5\u9808\u5728\u9019\u500b\u5730\u65b9\u6253\u5012\u4ed6!!"}],endStory:[{character:"Tanjirou-talk-def",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u7e3d\u7b97\u6210\u529f\u6253\u5012\u4ed6\u4e86!"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u624b\u9b3c\u770b\u8d77\u4f86\u4e26\u4e0d\u8a18\u5f97\u4e4b\u524d\u8207\u6211\u4ea4\u624b\u904e\u7684\u4e8b..\u800c\u4e14\u529b\u91cf\u4e5f\u6bd4\u904e\u5f80\u5f37\u5927\uff0c\u60f3\u5fc5\u662f\u6709\u4ec0\u9ebc\u5947\u602a\u7684\u4e8b\u60c5\u767c\u751f\u4e86\u5427.."},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u4e0d\u77e5\u9053\u4f0a\u4e4b\u52a9\u8207\u5584\u9038\u662f\u5426\u5e73\u5b89...."},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u5feb\u53eb\u8d77\u79b0\u8c46\u5b50\u4e00\u8d77\u8207\u4f0a\u4e4b\u52a9\u3001\u5584\u9038\u6703\u5408\u5427!!...."}],isWin:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)},isLose:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)}},stageTwo:{debutChess:[{name:"Zenitsu",x:11,y:10},{name:"Inosuke",x:9,y:10}],debutEnemyChess:[{name:"Nomanooni",x:10,y:5},{name:"Nomanooni-2",x:8,y:6},{name:"Nomanooni-3",x:12,y:6}],ruleText:{win:"\u64ca\u6557\u6240\u6709\u7684\u6cbc\u9b3c\u3002",lose:"\u6211\u59bb \u5584\u9038 / \u5634\u5e73 \u4f0a\u4e4b\u52a9 \u6230\u6557\u3002"},recap:"\u524d\u60c5\u63d0\u8981\uff1a\u7121\u9650\u5217\u8eca\u884c\u99db\u7684\u524d\u4e00\u591c\u665a\uff0c\u70ad\u6cbb\u90ce\u78b0\u4e0a\u4e86\u66fe\u7d93\u6253\u6557\u7684\u624b\u9b3c\uff0c\u4e26\u8207\u5176\u4ea4\u6230...\u540c\u4e00\u6642\u9593\u7684\u9644\u8fd1\uff0c\u5247\u662f\u6e96\u5099\u8207\u70ad\u6cbb\u90ce\u8207\u6703\u7684\u4f0a\u4e4b\u52a9\u8207\u5584\u9038\u3002\u6b64\u6642\u7684\u5468\u570d\u4e5f\u6563\u767c\u51fa\u4e86\u4e0d\u5c0b\u5e38\u7684\u6c23\u606f...",story:[{character:"Zenitsu-talk-usual",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u90a3\u500b..\u4f0a\u4e4b\u52a9..\u6211\u597d\u50cf\u807d\u5230\u751a\u9ebc\u5947\u602a\u7684\u8072\u97f3..\u4f60\u807d\u898b\u4e86\u55ce?"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u86e4? \u6211\u53ef\u662f\u751a\u9ebc\u90fd\u6c92\u770b\u898b\u5440!??"},{character:"Zenitsu-talk-usual",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u6211\u662f\u554f\u4f60\u8072\u97f3\u5440......."},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u672c\u5927\u723a\u624d\u4e0d\u7ba1\u6709\u751a\u9ebc\u8072\u97f3!! \u8a71\u8aaa\u7d0b\u6cbb\u90ce\u5230\u4e86\u6c92\u5440!!"},{character:"Zenitsu-talk-afraid",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u54c7\u554a\u554a\u554a\u554a!!!!! \u5947\u602a\u7684\u8072\u97f3\u53c8\u51fa\u73fe\u4e86\uff0c\u5feb\u9ede\u6551\u6211!!\u6551\u6551\u6211\u5440!!\u4f0a\u4e4b\u52a9~~~~~~~"},{character:"Inosuke-talk-angry",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u771f\u662f\u5435\u6b7b\u4e86!!\u6211\u751a\u9ebc\u6771\u897f\u90fd\u6c92\u6709\u770b\u898b\u554a!"},{character:"Zenitsu-talk-afraid",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u4e0d!\u4e0d!\u4e0d!\uff0c\u662f\u771f\u7684\u6709\u60e1\u9b3c\u51fa\u73fe\u4e86...."},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"!!!!(\u91ce\u7378\u7684\u76f4\u89ba\u611f\u61c9\u5230\u4e86\u60e1\u9b3c)"},{character:"Inosuke-talk-dodge",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u770b\u4f86\u662f\u771f\u7684\u6709\u6771\u897f\u8981\u4f86\u4e86! \u5feb\u62d4\u5200\u4f5c\u6230\u5427! \u771f\u9038!"},{character:"Zenitsu-talk-fall",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"!@#$%!...(\u6688\u5012)"},{character:"Nomanooni-talk-dodge",name:"\u6cbc\u9b3c(\u58f9)",color:"#9d4edd",content:"\u770b\u8d77\u4f86\u662f\u9001\u4e0a\u9580\u7684\u98df\u7269\u5440!!"},{character:"Nomanooni-talk-default",name:"\u6cbc\u9b3c(\u8cb3)",color:"#9d4edd",content:"\u4e0d\u662f\u5e74\u8f15\u5973\u5b50...\u4e0b\u7b49\u7684\u98df\u7269\u3002"},{character:"Nomanooni-talk-def",name:"\u6cbc\u9b3c(\u53c3)",color:"#9d4edd",content:"\u5225\u56c9\u55e6! \u5feb\u5403\u4e86\u4ed6\u5011\u5427!!!"},{character:"Inosuke-talk-def",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u6709\u610f\u601d! \u5c31\u8b93\u672c\u5927\u723a\u4f86\u966a\u966a\u4f60\u5011\u9019\u4e9b\u87bb\u87fb\u5427!!"},{character:"Zenitsu-talk-default",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u96f7\u4e4b\u547c\u5438...(\u89ba\u9192\u72c0\u614b)"}],endStory:[{character:"Inosuke-talk-dodge",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u547c\u5440!!.. \u9084\u633a\u8010\u6253\u5f97\u561b\uff0c\u9019\u4e9b\u50a2\u4f19\u3002"},{character:"Zenitsu-talk-default",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"...."},{character:"Inosuke-talk-dodge",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u505a\u4e86\u4e00\u9023\u4e32\u7684\u8a13\u7df4\uff0c\u770b\u4f86\u9084\u662f\u4e0d\u5920\uff0c\u53ef\u60e1!"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u4f0a\u4e4b\u52a9! \u5584\u9038! \u4f60\u5011\u6c92\u4e8b\u5427!?"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u554a~~ \u4f60\u7d42\u65bc\u51fa\u73fe\u5566! \u771f\u6cbb\u90ce\u3002"},{character:"Zenitsu-talk-usual",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u7591?~~ \u767c\u751f\u751a\u9ebc\u4e8b\u5566?! \u70ad\u6cbb\u90ce!??"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u592a\u597d\u4e86..\u770b\u4f86\u5169\u4f4d\u90fd\u5f88\u597d\u5462!"},{character:"Nezuko-talk-dodge",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"\u55ef\u55ef!!..."},{character:"Zenitsu-talk-happy",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u54c7!~~~ \u79b0\u8c46\u5b50\u91ac\u5440~ \u54c8\u54c8\u54c8\u54c8\u54c8!"},{character:"Nezuko-talk-confuse",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"~~~~~~~~"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u770b\u4f86\u5927\u5bb6\u7cbe\u795e\u90fd\u5f88\u597d\u5462..\u4e00\u8d77\u6298\u8fd4\u5427\u5404\u4f4d!!"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u60f3\u4e0d\u5230\u4efb\u52d9\u7684\u524d\u4e00\u65e5\u767c\u751f\u4e86\u9019\u6a23\u7684\u610f\u5916..\u4e0d\u77e5\u9053\u7149\u7344\u5148\u751f\u662f\u5426\u4e5f\u5e73\u5b89\u3002)"},{character:"Hakuji-talk-default",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u53c8\u898b\u9762\u4e86\u5440\uff0c\u9b3c\u6bba\u968a\u58eb\u5011\u3002"},{character:"Tanjirou-talk-afraid",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"....!!!!??"}],isWin:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)},isLose:function(t){var e=t.filter((function(t){return"Zenitsu"===t.name}))[0].debut,n=t.filter((function(t){return"Inosuke"===t.name}))[0].debut;return!1===e||!1===n}},stageThree:{debutChess:[{name:"Rengoku",x:7,y:5}],debutEnemyChess:[{name:"Hakuji",x:11,y:9}],ruleText:{win:"\u64ca\u6557\u7317\u7aa9\u5ea7\u3002",lose:"\u7149\u7344 \u674f\u58fd\u90ce \u6230\u6557\u3002"},recap:"\u524d\u60c5\u63d0\u8981\uff1a\u70ad\u6cbb\u90ce\u8207\u9b3c\u6bba\u968a\u58eb\u5011\u65bc\u7121\u9650\u5217\u8eca\u51fa\u767c\u7684\u524d\u4e00\u591c\u78b0\u4e0a\u4e86\u4e00\u9023\u4e32\u5947\u5999\u7684\u4e8b\u3002\u96d6\u7136\u64ca\u6557\u4e86\u624b\u9b3c\u53ca\u6cbc\u9b3c\uff0c\u4f46\u773c\u524d\u53c8\u51fa\u73fe\u4e86\u4e00\u500b\u6bd4\u904e\u5f80\u90fd\u9084\u8981\u5f37\u5927\u7684\u6575\u4eba...\u800c\u9b3c\u6bba\u968a\u58eb\u5011\u5fc5\u9808\u5728\u8ca0\u50b7\u7684\u60c5\u6cc1\u4e0b\u9762\u5c0d\u9019\u5834\u60e1\u6230\u3002",story:[{character:"Hakuji-talk-default",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u9b3c\u6bba\u968a\u7684\u7ac8\u9580\u70ad\u6cbb\u90ce!!\u80fd\u5920\u518d\u6b21\u9047\u5230\u4f60\u9019\u771f\u662f\u7de3\u5206\u554a\uff0c\u54c8\u54c8\u54c8\u3002"},{character:"Tanjirou-talk-afraid",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u4ed6\u662f\u8ab0?...\u662f\u9b3c!!!...\u597d\u5f37\u70c8\u7684\u6c23!!)"},{character:"Hakuji-talk-usual",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u4f60\u4e0d\u8a18\u5f97\u4e86\u55ce!!?\u7576\u521d\u5c0d\u6211\u5492\u7f75\u81bd\u5c0f\u9b3c\u7684\u4eba\u662f\u4f60\u6c92\u932f\u5427!!"},{character:"Tanjirou-talk-def",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u6211\u4e0d\u8a18\u5f97\u4f60\u662f\u8ab0!!..\u4f46\u5982\u679c\u4f60\u662f\u9b3c\u7684\u8a71\uff0c\u6211\u5c31\u5fc5\u9808\u6d88\u6ec5\u4f60!!"},{character:"Hakuji-talk-dodge",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u54c8\u54c8\u54c8!!\u90a3\u5c31\u5feb\u8b93\u6211\u77e5\u9053\u4f60\u6709\u591a\u5c11\u80fd\u8010\u5440! \u5f31\u5c0f\u7684\u87f2\u5b50\u3002"},{character:"Tanjirou-talk-def",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u5c0d\u624b\u4e0d\u662f\u5728\u865b\u5f35\u8072\u52e2..\u5be6\u529b\u975e\u540c\u5c0f\u53ef\uff0c\u770b\u8d77\u4f86\u662f\u5341\u4e8c\u9b3c\u6708\u7b49\u7d1a\u4ee5\u4e0a\u7684\u9b3c..\u51b7\u975c\u4e0b\u4f86\u3002)"},{character:"Inosuke-talk-dodge",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"(\u53ef\u60e1\u5440!..\u9019\u50a2\u4f19\u7684\u5be6\u529b\u53ef\u4e0d\u662f\u958b\u73a9\u7b11\u7684...\u672c\u5927\u723a\u7adf\u7136\u5728\u767c\u6296..\u3002)"},{character:"Zenitsu-talk-fall",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u70ad\u6cbb\u90ce...\u4f0a\u4e4b\u52a9...\u6211\u5011\u6b7b\u5b9a\u4e86\u5427!!!!!(\u6688\u5012)"},{character:"Hakuji-talk-dodge",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u5947\u602a!?\u9084\u6709\u4e00\u96bb\u9b3c\u55ce??"},{character:"Nezuko-talk-attack",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"\u55da!!....."},{character:"Hakuji-talk-usual",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u7adf\u7136\u9084\u6709\u88ab\u4eba\u985e\u8a13\u670d\u7684\u9b3c??\u771f\u662f\u5920\u4e86!!\u4f60\u5011\u6bcf\u500b\u90fd\u5225\u60f3\u6d3b\u8457\u96e2\u958b!!!"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u4f11\u60f3!!! \u5728\u5834\u7684\u6240\u6709\u4eba\uff0c\u4e00\u500b\u90fd\u4e0d\u6703\u6b7b!!!"},{character:"Hakuji-talk-def",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u55da\u5440!!!!!\u674f\u58fd\u90ce!!!\u6211\u592a\u958b\u5fc3\u4e86!!\u54c8\u54c8\u54c8\u54c8\u54c8\u54c8!!"},{character:"Hakuji-talk-def",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u9019\u6b21\u4e0d\u6703\u518d\u8b93\u4f60\u767d\u767d\u6b7b\u53bb\uff0c\u5feb\u6210\u70ba\u9b3c\u548c\u6211\u6c38\u9060\u6230\u9b25\u4e0b\u53bb\u5427!!"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u662f..\u662f\u7149\u7344\u5148\u751f!?"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u54e6!!\u7ac8\u9580\uff0c\u5feb\u548c\u5176\u4ed6\u4eba\u9060\u96e2\u9019\u500b\u5730\u65b9\uff0c\u6211\u4f86\u963b\u6b62\u773c\u524d\u7684\u60e1\u9b3c\u3002"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"(\u597d\u5f37...\u597d\u5f37!!...)"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u597d..\u597d\u7684\u7149\u7344\u5148\u751f\uff0c\u9084\u8acb\u591a\u5c0f\u5fc3\u3002"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u54e6!!! \u4ea4\u7d66\u6211\u5427\u3002"},{character:"Hakuji-talk-usual",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u518d\u4e00\u6b21\u7684\u76f8\u9047\u4e0d\u662f\u5de7\u5408\uff0c\u662f\u547d\u904b\u7684\u5b89\u6392\u5c0d\u5427!!..\u5feb\u6210\u70ba\u9b3c\u5427\uff0c\u674f\u58fd\u90ce!!!"},{character:"Rengoku-talk-attack",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u770b\u4f86\u4f60\u597d\u50cf\u8a8d\u8b58\u6211\uff0c\u4e0d\u904e\u6211\u662f\u4e0d\u6703\u6210\u70ba\u9b3c\u7684\uff0c\u6211\u6703\u76e1\u6211\u7684\u8077\u8cac\u65ac\u65b7\u4f60\u7684\u547d\uff0c\u60e1\u9b3c!!"}],endStory:[{character:"Rengoku-talk-last",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u55da!!.."},{character:"Hakuji-talk-usual",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u6c92\u7528\u7684!!\u4e0d\u7ba1\u600e\u9ebc\u780d\uff0c\u9b3c\u90fd\u80fd\u5920\u8f15\u6613\u5730\u7652\u5408\u50b7\u53e3\uff0c\u9019\u4f60\u9084\u4e0d\u660e\u767d\u55ce?..\u674f\u58fd\u90ce\u3002"},{character:"Rengoku-talk-dead",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u4e0d\u7ba1\u600e\u9ebc\u6a23\uff0c\u6211\u90fd\u6703\u7528\u6211\u7684\u751f\u547d\u4f5c\u6230\u5230\u6700\u5f8c\u4e00\u523b!!"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u7149\u7344\u5148\u751f!!!!....(\u4e0d\u597d\u4e86\uff0c\u9019\u6a23\u4e0b\u53bb\u7149\u7344\u5148\u751f\u6703\u55aa\u547d\u7684)"},{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u53ef\u60e1\u7684\u50a2\u4f19!!\u96e3\u9053\u4f60\u9084\u8981\u518d\u4e00\u6b21\u6d6a\u8cbb\u6210\u70ba\u9b3c\u7684\u6a5f\u6703\u55ce??"},{character:"Rengoku-talk-dead",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u6211\u662f\u708e\u67f1!\u7149\u7344\u674f\u58fd\u90ce!!\u6211\u7d55\u5c0d\u4e0d\u6703\u9003\u907f\u6211\u7684\u8077\u8cac!\u5c31\u7b97\u662f\u6b7b\u4e5f\u4e00\u6a23!!!"},{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u55da\u5440\u5440\u5440\u5440!!!!!...\u90a3\u4f60\u9084\u662f\u6b7b\u5427!!!\u674f\u58fd\u90ce!!!!!"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"!!??...(\u662f\u751a\u9ebc\u51fa\u73fe\u4e86!??)"},{character:"Jotaro-talk-silent",name:"????",color:"#00ff99",content:"\u9019\u4e9b\u4eba\u770b\u8d77\u4f86\u4e0d\u50cf\u662f\u66ff\u8eab\u4f7f\u8005\u5462\u3002"},{character:"Josuke-talk-usual",name:"????",color:"#00ff99",content:"\u662f\u5440!\u4f46\u6709\u4eba\u53d7\u50b7\u4e86\uff0c\u53ef\u4e0d\u80fd\u898b\u6b7b\u4e0d\u6551\u5c0d\u5427!?"},{character:"Jotaro-talk-dodge",name:"????",color:"#00ff99",content:"\u771f\u662f\u5920\u4e86..."},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"!!??...(\u662f\u751a\u9ebc\u4eba??...\u7570\u570b\u4eba!?...)"}],isWin:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)},isLose:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)}},stageFour:{debutChess:[{name:"Jotaro",x:7,y:6},{name:"Josuke",x:7,y:8}],debutEnemyChess:[{name:"Hakuji",x:13,y:7}],ruleText:{win:"\u64ca\u6557\u7317\u7aa9\u5ea7\u3002",lose:"\u7a7a\u6761\u627f\u592a\u90ce / \u6771\u65b9\u4ed7\u52a9 \u6230\u6557\u3002"},recap:"\u524d\u60c5\u63d0\u8981\uff1a\u70ba\u4e86\u4fdd\u8b77\u9b3c\u6bba\u968a\uff0c\u674f\u58fd\u90ce\u6b63\u8207\u7317\u7aa9\u5ea7\u9032\u884c\u4e00\u5834\u6b8a\u6b7b\u4e4b\u6230\u3002\u7015\u81e8\u6b7b\u4ea1\u7684\u674f\u58fd\u90ce\u5373\u5c07\u4f7f\u51fa\u6700\u5f8c\u7684\u529b\u91cf\u6b63\u9762\u8fce\u6230\u7317\u7aa9\u5ea7\u4e4b\u6642\uff0c\u773c\u524d\u51fa\u73fe\u4e86\u5169\u4f4d\u795e\u79d8\u7684\u6230\u58eb\u524d\u4f86\u52a9\u9663!?..",story:[{character:"Hakuji-talk-attack",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u9664\u4e86\u9b3c\u6bba\u968a\u58eb\uff0c\u7adf\u7136\u9084\u6709\u7570\u570b\u4eba?..\u7121\u6240\u8b02\uff0c\u5f88\u5feb\u5c31\u8f2a\u5230\u4f60\u5011\u4e86\u3002"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u9019\u5169\u4f4d\u7684\u670d\u88dd\u771f\u5947\u7570\uff0c\u4e0d\u50cf\u662f\u528d\u58eb...\u4e0d\u904e\u6563\u767c\u51fa\u4e86\u5f88\u5f37\u5927\u7684\u6c23..\u6211\u53ef\u4ee5\u611f\u89ba\u5f97\u5230!!)"},{character:"Jotaro-talk-dodge",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u4ed7\u52a9\uff0c\u50b7\u60a3\u5c31\u9ebb\u7169\u4f60\u4e86!!"},{character:"Josuke-talk-attack",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u597d\u7684\uff0c\u627f\u592a\u90ce\u5148\u751f!"},{character:"Hakuji-talk-def",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u72c2\u5984\u7684\u50a2\u4f19!\u81bd\u6562\u7121\u8996\u6211\u7684\u5fe0\u544a\u3002"},{character:"Rengoku-talk-dead",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u5169\u4f4d\u4fe0\u5ba2..\u5f88\u62b1\u6b49\u6c92\u8fa6\u6cd5\u6210\u529f\u963b\u6b62\u60e1\u9b3c\uff0c\u6211\u7684\u751f\u547d\u5c31\u5feb\u5230\u76e1\u982d\u4e86..\u8acb\u52d9\u5fc5\u5c0f\u5fc3\uff0c\u66ff\u6211\u4fdd\u8b77\u5728\u5834\u6240\u6709\u7684\u4eba\uff0c\u9ebb\u7169\u4e86!!"},{character:"Josuke-talk-dodge",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u90fd\u50b7\u5f97\u9019\u9ebc\u91cd\u9084\u64d4\u5fc3\u5176\u4ed6\u4eba\uff0c\u4f60\u771f\u662f\u8d85\u7d1aGreat\u7684\u5440!..\u71b1\u8840\u528d\u4fe0~"},{character:"Josuke-talk-attack",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u9019\u5c31\u8b93\u4f60\u91cd\u751f!!\u4e0a\u5427\uff0c\u760b\u72c2\u947d\u77f3!!"},{character:"Josuke-talk-stand",name:"\u760b\u72c2\u947d\u77f3(\u66ff\u8eab)",color:"#00ff99",content:"\u54c6\u5566\u5566\u5566\u5566\u5566\u5566\u5566!!!!"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#9d4edd",content:"\u767c\u751f\u4e86\u4ec0\u9ebc\u4e8b??\u7149\u7344\u5148\u751f!??"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u54e6\u54e6\u54e6\u554a\u554a!!!\u5f88\u5f37\u7684\u528d\u58eb\u5fa9\u6d3b\u4e86!!"},{character:"Rengoku-talk-spark",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u4e0d\u53ef\u601d\u8b70!!\u6211\u7684\u50b7\u52e2\u7adf\u7136\u77ac\u9593\u5c31\u75ca\u7652\u4e86.."},{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u53ef\u60e1!!!\u96e3\u9053\u9019\u5169\u500b\u5c31\u662f\u8fea\u5967\u5927\u4eba\u6240\u8aaa\u7684\u66ff\u8eab\u4f7f\u8005!??"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u66ff\u8eab\u4f7f\u8005!?\u548c\u9019\u4e00\u9023\u4e32\u5947\u602a\u7684\u4e8b\u60c5\u6709\u95dc\u9023\u55ce?)"},{character:"Jotaro-talk-attack",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u4f60\u8aaa\u4e86\u8fea\u5967\u5c0d\u5427!?\u6700\u7cdf\u7cd5\u7684\u60c5\u6cc1\u770b\u4f86\u9084\u662f\u767c\u751f\u4e86\u3002"},{character:"Josuke-talk-dodge",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u71b1\u8840\u528d\u58eb!\u63a5\u4e0b\u7684\u6230\u9b25\u5c31\u4ea4\u7d66\u6211\u548c\u627f\u592a\u90ce\u5148\u751f\u5427!\uff0c\u5176\u4ed6\u7684\u7a0d\u5f8c\u518d\u8aaa\u5427!"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u975e\u5e38\u611f\u8b1d\u5169\u4f4d\u4fe0\u5ba2\u7684\u76f8\u52a9!!\u90a3\u5c31\u842c\u4e8b\u62dc\u8a17\u4e86!!"},{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u53ef\u60e1\u7684\u50a2\u4f19!\u4f11\u60f3\u963b\u6493\u6211!\u9019\u53ef\u662f\u8fea\u5967\u5927\u4eba\u8cdc\u4e88\u6211\u518d\u6b21\u91cd\u751f\u7684\u6a5f\u6703!!!"},{character:"Josuke-talk-angry",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\b\b\b\b\u771f\u662f\u8d85\u7d1aGreat\u7684\u5440!!..\u6e96\u5099\u4e0a\u4e86\uff0c\u627f\u592a\u90ce\u5148\u751f\u3002"},{character:"Jotaro-talk-def",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u771f\u662f\u5920\u4e86!!"}],endStory:[{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u54bf\u5440\u5440\u5440\u5440!!!!!!!!!!!......\u53ef\u60e1\u7684\u4eba\u985e!!"},{character:"Jotaro-talk-dodge",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u5feb\u8aaa\u51fa\u8fea\u5967\u7684\u4e0b\u843d!\u5438\u8840\u9b3c\u3002"},{character:"Hakuji-talk-dead",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u55da...\u8fea\u5967\u5927\u4eba\u662f\u7121\u6240\u4e0d\u5728\u7684!!"},{character:"Hakuji-talk-def",name:"\u7317\u7aa9\u5ea7",color:"#9d4edd",content:"\u5c31\u7b97\u6211\u6b7b\u4e86!!\u53ea\u8981\u8fea\u5967\u5927\u4eba\u9084\u5728\uff0c\u6211\u5c31\u80fd\u5920\u518d\u6b21\u91cd\u751f!!..\u7b49\u8457\u5f8c\u6094\u5427\uff0c\u4eba\u985e!..\u54c8\u54c8\u54c8\u54c8\u54c8!(\u8a71\u8aaa\u5b8c\u5f8c\u6d88\u5931)"},{character:"Josuke-talk-def",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u547f!\u4e8b\u60c5\u679c\u7136\u6c92\u9019\u9ebc\u8f15\u6613\u7d50\u675f\u3002"},{character:"Jotaro-talk-silent",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u771f\u662f\u7684...."},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u90a3..\u90a3\u500b!\u975e\u5e38\u611f\u8b1d\u5169\u4f4d!!..\u4e0d\u904e..\u5169\u4f4d\u5230\u5e95\u662f\u4ec0\u9ebc\u4eba\u5462!!"},{character:"Josuke-talk-usual",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u54e6!!\u6211\u662f\u6771\u65b9\u4ed7\u52a9\uff0c\u53e6\u4e00\u4f4d\u5247\u662f\u7a7a\u6761\u627f\u592a\u90ce\u5148\u751f\uff0c\u8acb\u591a\u6307\u6559!"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u7591!?\u65e5\u672c\u570b\u7684\u540d\u5b57?\u5169\u4f4d\u4e5f\u662f\u65e5\u672c\u4eba\u55ce?"},{character:"Josuke-talk-usual",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u54e6~\u6211\u5011\u61c9\u8a72\u7b97\u662f\u5427!\u6211\u5abd\u662f\u65e5\u672c\u4eba\uff0c\u627f\u592a\u90ce\u5148\u751f\u7684\u7238\u7238\u4e5f\u662f\u65e5\u672c\u4eba\u3002\u6211\u7684\u7236\u89aa\u662f\u4e00\u4f4d\u66fe\u7d93\u9020\u8a2a\u904e\u65e5\u672c\u7684\u82f1\u570b\u4eba\uff0c\u540c\u6642\u4ed6\u4e5f\u662f\u627f\u592a\u90ce\u5148\u751f\u7684\u5916\u7956\u7236\u3002"},{character:"Tanjirou-talk-error",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u86e4#$@!!??..."},{character:"Jotaro-talk-default",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u7e3d\u4e4b\u6211\u5011\u662f\u5f9e\u5176\u4ed6\u7684\u6642\u7a7a\u4f86\u7684\uff0c\u70ba\u4e86\u627e\u5230\u4e26\u64ca\u6557\u525b\u624d\u90a3\u96bb\u5438\u8840\u9b3c\u63d0\u5230\u7684\u300e \u8fea\u5967 \u300f\u800c\u4f86\u7684\u3002"},{character:"Tanjirou-talk-error",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u7a7f\u8d8a\u6642\u7a7a!?\u7591!??..."},{character:"Jotaro-talk-default",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u6211\u60f3\u4f60\u5011\u61c9\u8a72\u4e5f\u78b0\u5230\u4e00\u4e9b\u5947\u602a\u7684\u4e8b\u60c5\u4e86\u5427?\u50cf\u662f\u9047\u898b\u6b7b\u53bb\u7684\u89aa\u4eba\u3001\u66fe\u7d93\u64ca\u6557\u904e\u7684\u6575\u4eba\u3001\u7b49\u7b49..\uff0c\u9019\u4e00\u5207\u90fd\u662f\u300e \u8fea\u5967 \u300f\u7684\u529b\u91cf\u7684\u3002"},{character:"Tanjirou-talk-dodge",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u539f..\u539f\u4f86\u5982\u6b64!\u602a\u4e0d\u5f97\u6211\u6703\u9047\u898b\u66fe\u7d93\u88ab\u6211\u6253\u6557\u904e\u7684\u624b\u9b3c..."},{character:"Jotaro-talk-default",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u88ab\u5fa9\u6d3b\u7684\u6b7b\u8457\uff0c\u53ef\u80fd\u6703\u662f\u751f\u5b58\u5728\u4e0d\u540c\u6642\u9593\u7dda\u7684\u6575\u4eba\uff0c\u4e5f\u8a31\u5b58\u5728\u65bc\u904e\u53bb\u3001\u672a\u4f86...\uff0c\u7e3d\u4e4b\u6211\u5011\u5f97\u5feb\u9ede\u627e\u5230\u300e \u8fea\u5967 \u300f\u624d\u884c\u3002"},{character:"Tanjirou-talk-error",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u60f3\u4e0d\u5230\u9019\u4e16\u754c\u9019\u9ebc\u7684\u8907\u96dc.."},{character:"Zenitsu-talk-usual",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u7591?..\u70ad\u6cbb\u90ce?..\u767c\u751f\u4ec0\u9ebc\u4e8b\u4e86?..\u9019\u5169\u4f4d\u662f\u8ab0\u5440??"},{character:"Zenitsu-talk-usual",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u5176\u4e2d\u4e00\u4f4d\u5148\u751f\u7684\u9aee\u578b...."},{character:"Josuke-talk-angry",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u86e4!??\u4f60\u525b\u624d\u8aaa\u6211\u7684\u9aee\u578b\u600e\u9ebc\u4e86\u55ce?\u6211\u53ef\u662f\u975e\u5e38\u5728\u610f\u5462!!!"},{character:"Zenitsu-talk-afraid",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u554a....\u4e0d\u4e0d\u4e0d\uff0c\u6211\u4ec0\u9ebc\u90fd\u6c92\u8aaa!!!!\u8acb\u653e\u904e\u6211!!!\u5c0d\u4e0d\u8d77!\u5c0d\u4e0d\u8d77!"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u6771\u65b9\u4ed7\u52a9\u5148\u751f\u3001\u7a7a\u6761\u627f\u592a\u90ce\u5148\u751f\u3002\u6211\u60f3\u95dc\u65bc\u4f60\u5011\u6240\u8aaa\u7684\u300e \u8fea\u5967 \u300f\uff0c\u4e5f\u8a31\u4e3b\u516c\u5927\u4eba\u6703\u77e5\u9053\u4e00\u4e9b\u4ec0\u9ebc...\u9700\u8981\u7684\u8a71\u6211\u4f86\u66ff\u5169\u4f4d\u5b89\u6392\u8207\u4e3b\u516c\u5927\u4eba\u6703\u9762\u5427!"},{character:"Jotaro-talk-default",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"\u90a3\u5c31\u9ebb\u7169\u4e86!"},{character:"Nezuko-talk-dodge",name:"\u7ac8\u9580 \u79b0\u8c46\u5b50",color:"#00ff99",content:"\u55ef\u54fc...!!"},{character:"Josuke-talk-def",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"...!?"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u554a!..\u90a3\u500b..\u5979\u662f\u6211\u7684\u59b9\u59b9\uff0c\u53eb\u505a\u79b0\u8c46\u5b50\uff0c\u4ed6\u96d6\u7136\u4e5f\u662f\u9b3c..\u4f46\u4ed6\u4e0d\u6703\u50b7\u5bb3\u4eba\u7684!!"},{character:"Josuke-talk-usual",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u653e\u5fc3\u5427!\u6211\u53ea\u662f\u597d\u5947\u5979\u8981\u8aaa\u4ec0\u9ebc\u800c\u5df2\uff0c\u770b\u8d77\u4f86\u5979\u66ab\u6642\u4e0d\u80fd\u8aaa\u8a71\u5462!"},{character:"Tanjirou-talk-worry",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"\u554a!!..\u6211\u6210\u70ba\u6bba\u9b3c\u528d\u58eb\u5c31\u662f\u70ba\u4e86\u8b93\u59b9\u59b9\u6062\u5fa9\u6210\u4eba\u985e\u7684..(\u539f\u4f86\u4ed7\u52a9\u5148\u751f\u8207\u627f\u592a\u90ce\u5148\u751f\u65e9\u5c31\u77e5\u9053\u79b0\u8c46\u5b50\u662f\u9b3c\u4e86...)"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u54e6\u54e6\u54e6\u554a\u554a!!!\u770b\u4f86\u53c8\u6709\u5169\u500b\u53b2\u5bb3\u7684\u50a2\u4f19\u51fa\u73fe\u4e86!!\u672c\u5927\u723a\u4e00\u5b9a\u6703\u8d85\u8d8a\u4f60\u5011\u7684!!"},{character:"Josuke-talk-attack",name:"\u6771\u65b9 \u4ed7\u52a9",color:"#00ff99",content:"\u54c8\u54c8!!\u4f60\u5011\u53ef\u771f\u662fGreat\u7684\u6709\u8da3\u5440!!\u71b1\u8840\u528d\u58eb\uff0c\u5feb\u66ff\u6211\u5011\u5e36\u8def\u898b\u4f60\u5011\u7684\u4e3b\u516c\u5427!"},{character:"Rengoku-talk-default",name:"\u7149\u7344 \u674f\u58fd\u90ce",color:"#00ff99",content:"\u6c92\u554f\u984c!!"},{character:"Tanjirou-talk-usual",name:"\u7ac8\u9580 \u70ad\u6cbb\u90ce",color:"#00ff99",content:"(\u592a\u597d\u4e86...\u591a\u8667\u9047\u4e0a\u4e86\u9019\u5169\u4f4d\u4e86\u4e0d\u8d77\u7684\u4eba\uff0c\u6551\u6d3b\u4e86\u674f\u58fd\u90ce\u5148\u751f\uff0c\u771f\u662f\u592a\u597d\u4e86...)"},{character:"Inosuke-talk-default",name:"\u5634\u5e73 \u4f0a\u4e4b\u52a9",color:"#00ff99",content:"\u54e6\u54e6\u54e6\u554a\u554a!!!\u8ddf\u6211\u6c7a\u9b25\u5427!!\u5169\u500b\u8b8a\u8eab\u4f7f\u8005!!"},{character:"Zenitsu-talk-afraid",name:"\u6211\u59bb \u5584\u9038",color:"#00ff99",content:"\u5feb\u4f4f\u624b\u554a!\u4f0a\u4e4b\u52a9...\u9019\u6a23\u6703\u6c92\u547d\u7684!!"},{character:"Jotaro-talk-default",name:"\u7a7a\u6761 \u627f\u592a\u90ce",color:"#00ff99",content:"(\u771f\u662f\u5920\u4e86!..)"}],isWin:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)},isLose:function(t){var e=0;return t.map((function(t){return t.debut?e+=t.hp:null})),!(e>0)}}}),ut=function(t){var e=t.props,n=e.stageStatus,c=e.chess,r=e.currentChess,i=e.enemyChess,u=e.currentBGM,f=e.animeShow,l=e.usualTip,d=e.setMoveStep,b=e.setUsualTip,m=e.setCurrentChess,p=e.setFadeBGM,O=e.setEnemyRoundTab,x=e.setRoundEnd,y=e.setStageStatus,h=e.setRoundNum,k=e.setRoundStart,g=e.dispatch,S=Object(o.useState)(["#ffffff","#ffffff"]),v=Object(s.a)(S,2),T=v[0],w=v[1];return Object(a.jsxs)(j.Graphics,{x:400,y:300,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-90,-50,180,100,8),t.endFill()},children:[Object(a.jsx)(j.Text,{text:l.title,anchor:.5,x:0,y:-20,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:T})}),Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,anchor:.5,text:"\u78ba\u5b9a",x:0,y:22,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:24,fill:["#ffffff","#ffffff"]}),pointertap:function(){switch(r.type){case"ATTACK":var t=it.getIn([n,"isWin"]),e=it.getIn([n,"isLose"]);t(i)?(w(["#ffffff","#06d6a0"]),m({key:0,type:"CHECKWIN"}),b({title:"\u4f5c\u6230\u7372\u52dd!",status:!0})):e(c)?(w(["#dc2f02","#d00000"]),m({key:0,type:"CHECKLOSE"}),b({title:"\u4f5c\u6230\u5931\u6557!",status:!0})):e(c)||"ENEMY"!==f.type?(d(!0),b({title:"",status:!1})):(b({title:"\u6211\u65b9\u56de\u5408",status:!0}),m({key:0,type:"USERROUND"}));break;case"CHECKWIN":x(!0),w(["#ffffff","#ffffff"]),b({title:"",status:!1});break;case"CHECKLOSE":w(["#ffffff","#ffffff"]),b({title:"GAME OVER",status:!0}),m({key:0,type:"GAMEOVER"});break;case"GAMEOVER":x(!1),k(!1),y("stageOne"),p(u),h(1),g(E());break;case"ENDROUND":O({oder:0,status:!0}),b({title:"",status:!1});break;case"USERROUND":p(u),d(!0),b({title:"",status:!1})}}})]})},st=function(t,e){return!(100+t-e<Math.round(100*Math.random()+1))},ft=function(t){var e=t.props,n=e.battleInfo,r=e.setMoveStep,i=e.setBattleInfo,u=e.setAnimeShow,f=e.setCurrentBGM,l=e.dispatch,d=Object(o.useState)({key:0}),b=Object(s.a)(d,2),m=b[0],p=b[1],O=function(t){var e=t.pX,n=void 0===e?0:e,o=t.pY,r=void 0===o?0:o,i=t.data;return Object(a.jsxs)(j.Container,{x:n,y:r,sortableChildren:!0,children:[Object(a.jsx)(j.Text,{text:"\u653b",x:220,y:0,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:30,fill:["#ffffff","#00ff99"]})}),Object(a.jsx)(j.Text,{text:i.cn,x:60,y:-3,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(i.hp," / ").concat(i.fullValue.hp),x:60,y:17,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ff6b6b"})}),Object(a.jsx)(j.Text,{text:"".concat(i.sp," / ").concat(i.fullValue.sp),x:60,y:34,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#0466c8"})}),Object(a.jsx)(j.Sprite,{width:50,height:50,x:0,y:0,image:D.resources["".concat(i.name,"-head-default")].data}),Object(a.jsx)(j.Text,{text:"\u62db\u5f0f\u9078\u64c7\uff1a",x:0,y:80,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffffff"})}),Object(a.jsx)(j.Graphics,{x:0,y:115,zIndex:1,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x0f0f1b"),t.drawRoundedRect(0,0,240,180,8),t.endFill()}}),i.skill.map((function(t,e){var n=i.sp-t.sp>=0;return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(j.Text,{zIndex:2,interactive:n,buttonMode:!0,text:t.name,x:18,y:130+32*e,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:22,fill:m.key===e&&n?["#ffffff","#00ff99"]:n?"#ffffff":"#8d99ae",fontWeight:m.key===e?600:300}),pointertap:function(){return p({key:e})}})},e)}))]})},x=function(t){var e,n=t.pX,o=void 0===n?0:n,c=t.pY,r=void 0===c?0:c,i=t.data;return Object(a.jsxs)(j.Container,{x:o,y:r,sortableChildren:!0,children:[Object(a.jsx)(j.Text,{text:"\u9632",x:0,y:0,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:30,fill:["#ffffff","#ee6c4d"]})}),Object(a.jsx)(j.Text,{text:i.cn,anchor:{x:1,y:0},x:190,y:-3,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(i.hp," / ").concat(i.fullValue.hp),anchor:{x:1,y:0},x:190,y:17,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ff6b6b"})}),Object(a.jsx)(j.Text,{text:"".concat(i.sp," / ").concat(i.fullValue.sp),anchor:{x:1,y:0},x:190,y:34,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#0466c8"})}),Object(a.jsx)(j.Sprite,{width:50,height:50,x:200,y:0,image:D.resources["".concat((e=i.name,~e.indexOf("Nomanooni")?"Nomanooni":e),"-head-default")].data})]})},y=function(t){var e=t.pX,n=t.pY,o=t.data;return Object(a.jsxs)(j.Container,{x:e,y:n,sortableChildren:!0,children:[Object(a.jsx)(j.Graphics,{x:0,y:0,zIndex:1,draw:function(t){t.clear(),t.lineStyle(1,"0x00ff99",1),t.beginFill("0x0f0f1b"),t.drawRoundedRect(0,0,265,215,8),t.endFill()}}),Object(a.jsx)(j.Text,{text:"\u62db\u5f0f\uff1a",zIndex:2,x:20,y:20,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(o.attacker.skill[m.key].name),zIndex:2,x:80,y:21,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#00ff99"})}),Object(a.jsx)(j.Text,{text:"\u653b\u64ca\u529b\uff1a",zIndex:2,x:20,y:50,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(o.attacker.skill[m.key].atk),zIndex:2,x:100,y:50,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#fdc500"})}),Object(a.jsx)(j.Text,{text:"\u547d\u4e2d\u7387\uff1a",zIndex:2,x:20,y:80,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(100+(o.attacker.skill[m.key].hitfix-o.target.dodge>=0?0:o.attacker.skill[m.key].hitfix-o.target.dodge),"%"),zIndex:2,x:100,y:80,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"\u6d88\u8017\uff1a",zIndex:2,x:20,y:110,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(o.attacker.skill[m.key].sp),zIndex:2,x:80,y:110,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#0466c8"})})]})};return Object(a.jsxs)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-300,-200,600,400,8),t.endFill()},children:[Object(a.jsx)(O,{pX:-270,pY:-180,data:n.attacker}),Object(a.jsx)(x,{pX:20,pY:-180,data:n.target}),Object(a.jsx)(y,{pX:0,pY:-100,data:n}),Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,text:"\u653b\u64ca",anchor:.5,x:165,y:160,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:28,fill:"#ffffff"}),pointertap:function(){f(n.attacker.name);var t=st(n.attacker.skill[m.key].hitfix,n.target.dodge);l(T({key:n.attacker.key,lessSp:n.attacker.skill[m.key].sp})),l(I({key:n.attacker.key})),t&&l(U({key:n.target.key,damage:n.attacker.skill[m.key].atk})),u({status:!0,type:"USER",isHit:t,attacker:{key:n.attacker.key,skill:n.attacker.skill[m.key],prevSP:n.attacker.sp},target:{key:n.target.key,isHit:t,prevLife:n.target.hp}}),i({status:!1,attacker:{key:""},target:{key:""}})}}),Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,text:"\u53d6\u6d88",anchor:.5,x:240,y:160,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:28,fill:"#ffffff"}),pointertap:function(){r(!0),i({status:!1,attacker:{key:""},target:{key:""}})}})]})},lt=n(8),dt=function(t){var e=t.props,n=e.stageStatus,o=e.BGstatus,c=e.BGprop,r=e.SkBGprop,i=e.setSkBGpops,s=e.setBGpops,f=function(t){switch(t){case"stageTwo":case"stageFour":return"stageOne";default:return t}};return Object(a.jsxs)(a.Fragment,{children:["STOP"===o.type&&Object(a.jsx)(j.Sprite,{x:-400,y:-100,zIndex:1,width:1600,height:500,anchor:.5,image:D.resources["".concat(f(n),"-BG")].data}),"STANDBY"===o.type&&Object(a.jsx)(lt.Spring,{from:{x:-400,y:-100},to:{x:c.toX,y:-100},config:{duration:c.duration},onRest:function(){-400===c.toX?s({toX:400,duration:2e4}):s({toX:-400,duration:-1e3})},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:1,width:1600,height:500,anchor:.5,image:D.resources["".concat(f(n),"-BG")].data},t))}}),"ENEMYSTANDBY"===o.type&&Object(a.jsx)(lt.Spring,{from:{x:400,y:-100},to:{x:-c.toX,y:-100},config:{duration:c.duration},onRest:function(){400===-c.toX?s({toX:400,duration:2e4}):s({toX:-400,duration:-1e3})},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:1,width:1600,height:500,anchor:.5,image:D.resources["".concat(f(n),"-BG")].data},t))}}),"SKILL"===o.type&&Object(a.jsx)(lt.Spring,{from:{x:-400,y:-100},to:{x:r.toX,y:-100},config:{duration:r.duration},onRest:function(){-400===r.toX?i({toX:400,duration:500}):i({toX:-400,duration:-1e3})},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:1,width:1600,height:500,anchor:.5,image:D.resources["".concat(f(n),"-BG")].data},t))}}),"ENEMYSKILL"===o.type&&Object(a.jsx)(lt.Spring,{from:{x:400,y:-100},to:{x:-r.toX,y:-100},config:{duration:r.duration},onRest:function(){400===-r.toX?i({toX:400,duration:500}):i({toX:-400,duration:-1e3})},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:1,width:1600,height:500,anchor:.5,image:D.resources["".concat(f(n),"-BG")].data},t))}})]})},bt=function(t){var e=t.right,n=void 0===e?{}:e,o=t.left,c=void 0===o?{}:o,r=t.showType,i=void 0===r?"":r,u=t.targetHp,s=void 0===u?0:u,f=t.attackerSp,l=void 0===f?0:f,d=function(t,e){return(Number(e)-Number(t))/(Number(e)/200)},b=function(t,e){return(Number(e)-Number(t))/(Number(e)/100)},m=function(t){return~t.indexOf("Nomanooni")?"Nomanooni":t};return Object(a.jsx)(j.Graphics,{x:-400,y:-300,zIndex:98,draw:function(t){t.clear(),t.beginFill("0x000f23"),t.drawRoundedRect(0,0,800,80,0),t.endFill()},children:Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Sprite,{width:42,height:42,x:370,y:40,anchor:.5,image:D.resources["".concat("USER"===i?"defIcon":"atkIcon")].data}),Object(a.jsx)(j.Sprite,{width:42,height:42,x:420,y:40,anchor:.5,image:D.resources["".concat("USER"===i?"atkIcon":"defIcon")].data}),Object(a.jsx)(j.Sprite,{width:50,height:50,x:50,y:15,image:D.resources["".concat(m(c.name),"-head-default")].data}),Object(a.jsx)(j.Text,{text:"".concat("USER"===i?s:c.hp," / ").concat(c.fullValue.hp),anchor:{x:1,y:0},x:320,y:10,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#e71d36"})}),Object(a.jsx)(j.Graphics,{x:320,y:35,zIndex:1,draw:function(t){t.clear(),t.beginFill("0xe71d36"),t.drawRoundedRect(0,0,-200,10,0),t.endFill()}}),Object(a.jsx)(j.Graphics,{x:320,y:35,zIndex:2,draw:function(t){t.clear(),t.beginFill("0x333533"),t.drawRoundedRect(-200,0,d("USER"===i?s:c.hp,c.fullValue.hp),10,0),t.endFill()}}),Object(a.jsx)(j.Text,{text:"".concat("USER"===i?c.sp:l," / ").concat(c.fullValue.sp),anchor:{x:1,y:.3},x:210,y:55,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#4A86E8"})}),Object(a.jsx)(j.Graphics,{x:320,y:55,zIndex:1,draw:function(t){t.clear(),t.beginFill("0x4A86E8"),t.drawRoundedRect(0,0,-100,10,0),t.endFill()}}),Object(a.jsx)(j.Graphics,{x:220,y:55,zIndex:2,draw:function(t){t.clear(),t.beginFill("0x333533"),t.drawRoundedRect(0,0,b("USER"===i?c.sp:l,c.fullValue.sp),10,0),t.endFill()}}),Object(a.jsx)(j.Sprite,{width:50,height:50,x:690,y:15,image:D.resources["".concat(m(n.name),"-head-default")].data}),Object(a.jsx)(j.Text,{text:"".concat("USER"===i?n.hp:s," / ").concat(n.fullValue.hp),anchor:{x:1,y:0},x:670,y:10,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#e71d36"})}),Object(a.jsx)(j.Graphics,{x:670,y:35,zIndex:1,draw:function(t){t.clear(),t.beginFill("0xe71d36"),t.drawRoundedRect(0,0,-200,10,0),t.endFill()}}),Object(a.jsx)(j.Graphics,{x:670,y:35,zIndex:2,draw:function(t){t.clear(),t.beginFill("0x333533"),t.drawRoundedRect(-200,0,d("USER"===i?n.hp:s,n.fullValue.hp),10,0),t.endFill()}}),Object(a.jsx)(j.Text,{text:"".concat("USER"===i?l:n.sp," / ").concat(n.fullValue.sp),anchor:{x:1,y:.3},x:560,y:55,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#4A86E8"})}),Object(a.jsx)(j.Graphics,{x:670,y:55,zIndex:1,draw:function(t){t.clear(),t.beginFill("0x4A86E8"),t.drawRoundedRect(0,0,-100,10,0),t.endFill()}}),Object(a.jsx)(j.Graphics,{x:570,y:55,zIndex:2,draw:function(t){t.clear(),t.beginFill("0x333533"),t.drawRoundedRect(0,0,b("USER"===i?l:n.sp,n.fullValue.sp),10,0),t.endFill()}})]})})},jt=Object(rt.a)({Tanjirou:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u6211\u8981\u6210\u70ba\u5f37\u8005\uff0c\u7528\u5f37\u8005\u7684\u529b\u91cf\u53bb\u4fdd\u8b77\u5f31\u8005\u3002","\u7121\u8ad6\u9b3c\u596a\u8d70\u591a\u5c11\u751f\u547d\uff0c\u4eba\u985e\u7684\u610f\u5fd7\u662f\u600e\u6a23\u90fd\u4e0d\u6703\u88ab\u6253\u6557\uff01"],dodge:["\u5371\u96aa!!","\u51b7\u975c\u4e0b\u4f86! \u53ef\u4ee5\u6230\u52dd\u7684\u3002"],def:["\u9b3c\u6bba\u968a\u4e0d\u6703\u88ab\u4e00\u9ede\u5c0f\u50b7\u7d66\u6253\u5012!","\u4e0d\u597d\u4e86! \u8abf\u6574\u547c\u5438\u3002"],dead:["\u5c0d\u4e0d\u8d77....\u9c57\u7027\u5e2b\u5085..","\u79b0\u8c46\u5b50..."]},Nezuko:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["......!!(\u4eba\u985e\u662f\u5bb6\u4eba)","......!!(\u6253\u5012\u60e1\u9b3c)"],dodge:["......!!(\u5371\u96aa)","......!!(\u6c92\u4e8b\u7684)"],def:["......!!(\u5371\u96aa)","......!!(\u6c92\u4e8b\u7684)"],dead:["......!?",".....(\u54e5\u54e5)"]},Zenitsu:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u96f7\u4e4b\u547c\u5438...","\u96f7\u4e4b\u547c\u5438!!"],dodge:["!!(\u547c\u5438)","..!!"],def:["!!(\u8abf\u6574\u547c\u5438)","..!!"],dead:["....","....(\u518d\u898b\u4e86,\u723a\u723a)"]},Inosuke:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u7378\u4e4b\u547c\u5438...\u7a81\u8c6c\u731b\u9032!!","\u8b93\u4f60\u77e5\u9053\u672c\u5927\u723a\u7684\u53b2\u5bb3!!"],dodge:["\u54c8\u54c8!! \u6839\u672c\u4e0d\u662f\u672c\u5927\u723a\u7684\u5c0d\u624b\u3002","\u9019\u9ede\u7a0b\u5ea6\u6839\u672c\u7121\u6cd5\u6253\u6557\u6211!!"],def:["\u54fc!..\u60f3\u6253\u6557\u672c\u5927\u723a\u6211\u9084\u65e9\u7684\u5f88!!","\u7d42\u65bc\u4f86\u500b\u50cf\u6a23\u7684\u5c0d\u624b\u4e86\u3002"],dead:["\u5514....\u53ef\u60e1\u554a!!...","\u60f3\u4e0d\u5230...\u672c\u5927\u723a\u7adf\u7136\u8f38\u4e86..."]},Rengoku:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u6211\u662f\u708e\u67f1 \u6211\u6703\u76e1\u6211\u7684\u8077\u8cac\u5230\u6700\u5f8c\u4e00\u523b!!","\u5728\u5834\u7684\u4eba\uff0c\u4e00\u500b\u90fd\u4e0d\u6703\u6b7b!!"],dodge:["\u770b\u4f86\u6211\u5011\u7684\u76ee\u6a19\u4e0d\u540c!","\u67f1\uff0c\u53ef\u4e0d\u6703\u8f15\u6613\u88ab\u6253\u6557!"],def:["\u67f1\uff0c\u53ef\u4e0d\u6703\u8f15\u6613\u88ab\u6253\u6557!","\u5c31\u7b97\u53d7\u4e86\u50b7\uff0c\u6211\u4e5f\u6703\u7e7c\u7e8c\u6230\u9b25\u4e0b\u53bb!!"],dead:["\u6bcd\u89aa\u5927\u4eba....\u8eab\u70ba\u60a8\u7684\u5b69\u5b50\u662f\u6211\u7684\u69ae\u5e78\u3002","\u6211\u8981\u4fdd\u8b77\u6240\u6709\u4eba\uff0c\u76f4\u5230\u6700\u5f8c\u4e00\u523b...."]},Jotaro:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u771f\u662f\u7684..","\u767d\u91d1\u4e4b\u661f!!"],dodge:["\u771f\u662f\u7684..","...!!"],def:["\u771f\u662f\u7684..","\u547f..!!"],dead:["\u547f.....","\u9019\u6a23\u5c31\u8f38\u4e86\u55ce!?......."]},Josuke:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u563f\u563f~\u9019\u53ef\u771f\u662f\u8d85\u7d1aGreat\u7684\u5440!","\u760b\u72c2\u947d\u77f3!!"],dodge:["\u771f\u5371\u96aa~","\u54c8~Lucky!"],def:["\u4e00\u9ede\u5c0f\u50b7!","\u5c31\u9019\u662f\u4f60\u5168\u90e8\u7684\u8a08\u756b\u4e86\u55ce?"],dead:["\u566b..\u4e0d\u597d\u4e86!","\u55da!?...\u7cdf\u4e86...."]},Teoni:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u7375\u9b3c\u4eba\u662f\u6700\u4e0a\u7b49\u7684\u98df\u7269!!","\u770b\u6211\u5403\u4e86\u4f60!!"],dodge:["\u6c92\u7528\u6c92\u7528 \u54c8\u54c8\u54c8\u54c8!","\u5c31\u9019\u9ede\u7a0b\u5ea6\u55ce? \u53ef\u60b2\u7684\u528d\u58eb\u3002"],def:["\u4e0d\u4e45\u5c31\u8f2a\u5230\u4f60\u7684\u6b7b\u671f\u4e86!","\u6211\u6703\u5403\u4e86\u4f60!!"],dead:["\u751a\u9ebc!?.....\u6211\u7adf\u7136\u6703\u6b7b\u5728\u7375\u9b3c\u4eba\u624b\u4e0a.....","\u751a\u9ebc!?.....\u6211\u7adf\u7136\u6703\u6b7b\u5728\u7375\u9b3c\u4eba\u624b\u4e0a....."]},Nomanooni:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u5340\u5340\u7684\u7375\u9b3c\u4eba\uff0c\u5225\u60f3\u963b\u6b62\u6211!!","\u4e0a\u7b49\u7684\u5e74\u8f15\u5973\u5b50\uff0c\u518d\u4e0d\u5403\u5c31\u4f86\u4e0d\u53ca\u4e86!!"],dodge:["\u5630\u5630\u5630\u5630\u5630\u5630!!!!!","\u563b\u563b\u563b\u563b\u563f\u563f\u563f\u563f!!"],def:["\u6211\u8981\u5403\u5149\u4f60\u7684\u9aa8\u982d!!","\u6211\u6703\u6bba\u4e86\u4f60!!"],dead:["\u53ef\u60e1\u53ef\u60e1\u53ef\u60e1\u53ef\u60e1!!!!.....","\u55da\u554a\u554a\u554a\u554a\u554a!?......."]},Hakuji:{default:["(\u5099\u6230\u4e2d)","(\u5099\u6230\u4e2d)"],attack:["\u4e0d\u8b8a\u6210\u9b3c\u5c31\u6bba\u4e86\u4f60\u5427!!","\u5f31\u5c0f\u7684\u6771\u897f\u6c92\u6709\u5b58\u6d3b\u7684\u5fc5\u8981!!"],dodge:["\u9019\u5c31\u662f\u4f60\u7684\u6975\u9650\u4e86\u55ce?","\u5feb\u9ede\u5411\u6211\u9032\u653b\u5440!"],def:["\u54c8\u54c8\uff0c\u9019\u5c31\u5c0d\u4e86!","\u4e0d\u7ba1\u600e\u9ebc\u653b\u64ca\uff0c\u5c0d\u6211\u7684\u4e0d\u6b7b\u4e4b\u8eab\u90fd\u662f\u6c92\u7528\u7684\u3002"],dead:["\u751a\u9ebc!?......\u8eab\u70ba\u4e0a\u5f26\u662f\u4e0d\u53ef\u80fd\u88ab\u64ca\u6557\u7684!!","\u53ef\u60e1\u5440!!!.....\u7adf\u7136\u88ab\u5340\u5340\u7684\u4eba\u985e\u64ca\u6557!!....."]}}),mt=function(t){var e=t.right,n=void 0===e?{}:e,c=t.left,r=void 0===c?{}:c,i=t.linesStatus,u=void 0===i?{}:i,f=function(t){return~t.indexOf("Nomanooni")?"Nomanooni":t},l="USER"===u.character?n.name:r.name,d=jt.getIn([f(l),u.status]).size-1,b=Object(o.useState)(Math.round(Math.random()*d)),m=Object(s.a)(b,1)[0];return Object(a.jsx)(j.Graphics,{x:-400,y:150,zIndex:98,draw:function(t){t.clear(),t.beginFill("0x000f23"),t.drawRoundedRect(0,0,800,150,0),t.endFill()},children:Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Sprite,{width:100,height:100,x:50,y:25,image:D.resources["".concat(f(l),"-talk-").concat(u.status)].data}),Object(a.jsx)(j.Text,{text:jt.getIn([f(l),u.status,m]),anchor:{x:0,y:0},x:170,y:60,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffff"})})]})})},pt=function(t){var e=t.skillName,n=t.attackerName,c=t.isHit,r=t.targetLife,i=t.attackerSp,f=t.resultLife,l=t.resultSp,d=t.BGstatus,b=t.setBGstatus,j=t.setAnimeIsDone,m=t.setTargetHp,p=t.setAttackerSp,O=t.setLinesStatus,x=t.setShowSkill,y=t.defXPostion,h=t.steps,k=t.ShowType,g=Object(o.useState)({x:0,y:0,tint:16777215,alpha:1,mass:1,friction:20,tension:170}),S=Object(s.a)(g,2),v=S[0],T=S[1];return Object(o.useEffect)((function(){if(d.defence&&"\u9632\u79a6"===e){var t=h({skillName:e,isHit:c,BGstatus:d,resultLife:f,setAnimeIsDone:j,setLinesStatus:O,setPosition:T});return function(){return clearTimeout(t)}}}),[d,e,c,f,j,h,O]),Object(o.useEffect)((function(){if("\u9632\u79a6"!==e){var t=h({skillName:e,isHit:c,targetLife:r,attackerSp:i,resultLife:f,resultSp:l,setBGstatus:b,setTargetHp:m,setAttackerSp:p,setLinesStatus:O,setShowSkill:x,setPosition:T});return function(){return clearTimeout(t)}}T((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:y,y:10})}))}),[e,c,r,i,f,l,b,m,p,y,h,O,x]),Object(a.jsx)(k,{skillName:e,attackerName:n,position:v})},Ot=n(6),xt=n(5),yt=n.n(xt),ht=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u53c4\u4e4b\u578b\u2015\u6d41\u6d41\u821e":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u634c\u4e4b\u578b\u2015\u6edd\u58fa":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();case"\u62fe\u4e4b\u578b\u2015\u751f\u751f\u6d41\u8f49":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill4.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"4",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),Y()}})}))},Y=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var q=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),V()}),3e3)},V=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Z()}),3e3)},Z=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),X()}),1e3)},X=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),q()}},kt=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u65ac\u64ca":return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:200,height:200,anchor:.5,image:D.resources["".concat(n,"-fight-typeA")].data},t))}});case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:200,height:200,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight-typeA")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:200,height:200,anchor:.5,image:D.resources["".concat(n,"-fight-typeA")].data},t))}})}},gt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:ht,ShowType:kt}))},St=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u8e22\u64ca":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),J()}),3e3)},J=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),A()}),1e3)},A=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B()}},vt=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:200,height:200,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:200,height:200,anchor:.5,image:D.resources["".concat(n,"-fight")].data},t))}})}},Tt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:St,ShowType:vt}))},wt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u58f9\u4e4b\u578b\u2015\u9739\u9742\u4e00\u9583":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u58f9\u4e4b\u578b\u2015\u9739\u9742\u4e00\u9583\u516d\u9023":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Y()}),3e3)},Y=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),q()}),1e3)},q=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A()}},It=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u65ac\u64ca":return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:200,height:200,anchor:.5,image:D.resources["".concat(n,"-fight")].data},t))}});case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:200,height:200,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:200,height:200,anchor:.5,image:D.resources["".concat(n,"-fight")].data},t))}})}},Nt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:wt,ShowType:It}))},Rt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u58f9\u4e4b\u7259\u2015\u7a7f\u900f\u523a\u5c04?":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u8cb3\u4e4b\u7259\u2015\u5229\u5203\u5c0d\u5288":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();case"\u53c4\u4e4b\u7259\u2015\u7360\u7259\u6495\u626f":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill4.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"4",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),Y()}})}))},Y=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var q=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),V()}),3e3)},V=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Z()}),3e3)},Z=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),X()}),1e3)},X=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),q()}},Et=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u65ac\u64ca":return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:250,height:250,anchor:{x:.5,y:.6},image:D.resources["".concat(n,"-fight")].data},t))}});case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:250,height:250,anchor:{x:.5,y:.6},alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:250,height:250,anchor:{x:.5,y:.6},image:D.resources["".concat(n,"-fight")].data},t))}})}},Ht=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:Rt,ShowType:Et}))},zt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u58f9\u4e4b\u578b\u2015\u4e0d\u77e5\u706b":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u8086\u4e4b\u578b\u2015\u76db\u708e\u7684\u873f\u8712":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();case"\u4f0d\u4e4b\u578b\u2015\u708e\u864e":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill4.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"4",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),Y()}})}))},Y=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A();case"\u7396\u4e4b\u578b\u2015\u7149\u7344":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var q=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),V()}),3e3)},V=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill5.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"5",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),Z()}})}))},Z=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),q();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var X=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),W()}),3e3)},W=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),_()}),3e3)},_=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),$()}),1e3)},$=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),X()}},Ct=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u65ac\u64ca":return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:300,height:300,anchor:{x:.5,y:.6},image:D.resources["".concat(n,"-fight")].data},t))}});case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:300,height:300,anchor:{x:.5,y:.6},alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:300,height:300,anchor:{x:.5,y:.6},image:D.resources["".concat(n,"-fight")].data},t))}})}},Lt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:zt,ShowType:Ct}))},Pt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u767d\u91d1\u4e4b\u661f":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u767d\u91d1\u4e4b\u661f\u2015\u6642\u9593\u66ab\u505c":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Y()}),3e3)},Y=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),q()}),1e3)},q=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A()}},Ft=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:280,height:350,anchor:{x:.5,y:.72},alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:280,height:350,anchor:{x:.5,y:.72},image:D.resources["".concat(n,"-fight")].data},t))}})}},Mt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:Pt,ShowType:Ft}))},Ut=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,tension:100})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:0})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:200,y:50,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u760b\u72c2\u947d\u77f3":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),F();case"\u760b\u72c2\u947d\u77f3\u2015\u653b\u9632\u4ea4\u66ff":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:-100,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-400,y:50,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),B();default:O({type:"STANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,y:50,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),D()}),3e3)},D=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Y()}),3e3)},Y=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-250,y:50,tension:1e3})})),q()}),1e3)},q=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:550,y:50,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:250,y:50,tension:100})})),A()}},Bt=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:650,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:250,height:350,anchor:{x:.5,y:.72},alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:550,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:250,height:350,anchor:{x:.5,y:.72},image:D.resources["".concat(n,"-fight")].data},t))}})}},Gt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:550,steps:Ut,ShowType:Bt}))},Jt=function(t){var e=t.attacker,n=void 0===e?{}:e,o=t.skill,c=void 0===o?{}:o,r=t.BGstatus,i=t.isHit,s=void 0!==i&&i,f=t.targetLife,l=void 0===f?0:f,d=t.attackerSp,b=void 0===d?0:d,j=t.resultLife,m=void 0===j?0:j,p=t.resultSp,O=void 0===p?0:p,x=t.setBGstatus,y=t.setAnimeIsDone,h=t.setTargetHp,k=t.setAttackerSp,g=t.setLinesStatus,S=t.setShowSkill,v={skillName:c.name,attackerName:n.name,isHit:s,targetLife:l,attackerSp:b,resultLife:m,resultSp:O,BGstatus:r,setBGstatus:x,setAnimeIsDone:y,setTargetHp:h,setAttackerSp:k,setLinesStatus:g,setShowSkill:S};switch(n.name){case"Tanjirou":return Object(a.jsx)(gt,Object(u.a)({},v));case"Nezuko":return Object(a.jsx)(Tt,Object(u.a)({},v));case"Zenitsu":return Object(a.jsx)(Nt,Object(u.a)({},v));case"Inosuke":return Object(a.jsx)(Ht,Object(u.a)({},v));case"Rengoku":return Object(a.jsx)(Lt,Object(u.a)({},v));case"Jotaro":return Object(a.jsx)(Mt,Object(u.a)({},v));case"Josuke":return Object(a.jsx)(Gt,Object(u.a)({},v));default:return}},At=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w;t.setShowSkill;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:150})}));var N=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:20,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?E({type:"dead"}):z({type:"def"})}),m.seconds)},R=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:-10})})),z({type:"dodge"})}),m.seconds)},E=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),H()}),5e3)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),C()}),3e3)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){y(!0)}),3e3)};return o?N():R();default:O({type:"ENEMYSTANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:100})}));var L=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"ENEMYSKILL"})})),P()}),3e3)},P=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),F()}),3e3)},F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:175,tension:1e3})})),M()}),1e3)},M=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:100})})),L()}},Dt=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:-600,y:10},to:{x:o.x,y:o.y},config:{mass:o.mass,tension:o.tension,friction:o.friction},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:300,height:300,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:-600,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:300,height:300,anchor:.5,image:D.resources["".concat(n,"-fight")].data},t))}})}},Yt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:-600,steps:At,ShowType:Dt}))},Kt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w,N=t.setShowSkill,R=void 0===N?null:N;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:150})}));var E=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:20,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?z({type:"dead"}):L({type:"def"})}),m.seconds)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:-10})})),L({type:"dodge"})}),m.seconds)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),P()}),3e3)},L=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),P()}),5e3)},P=function(){return setTimeout((function(){y(!0)}),3e3)};return o?E():H();case"\u7834\u58de\u6bba\u2015\u4e82\u5f0f":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:100})}));var F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),M()}),3e3)},M=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill2.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"2",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:400,tension:1e3})})),U()}})}))},U=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:100})})),F();case"\u8853\u5f0f\u5c55\u958b\u2015\u7834\u58de\u6bba\u2015\u7f85\u91dd":O({type:"STANDBY",defence:!1,seconds:0}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:100})}));var B=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"SKILL"})})),G()}),3e3)},G=function(){var t={number:s};Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),R((function(t){return K["".concat(t.name)].skill3.baseTexture.resource.source.play(),Object(u.a)(Object(u.a)({},t),{},{status:!0,type:"3",callback:function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:400,tension:1e3})})),J()}})}))},J=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:100})})),B();default:O({type:"ENEMYSTANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:100})}));var A=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"ENEMYSKILL"})})),D()}),3e3)},D=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),Y()}),3e3)},Y=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:175,tension:1e3})})),q()}),1e3)},q=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:100})})),A()}},qt=function(t){var e=t.skillName,n=t.attackerName,o=t.position;switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:-600,y:10},to:{x:o.x,y:o.y},config:{mass:o.mass,tension:o.tension,friction:o.friction},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:250,height:250,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(n,"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:-600,y:50},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:250,height:250,anchor:.5,image:D.resources["".concat(n,"-fight")].data},t))}})}},Vt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:-600,steps:Kt,ShowType:qt}))},Zt=function(t){var e=t.skillName,n=void 0===e?"":e,a=t.isHit,o=void 0!==a&&a,c=t.targetLife,r=void 0===c?0:c,i=t.attackerSp,s=void 0===i?0:i,f=t.resultLife,l=void 0===f?0:f,d=t.resultSp,b=void 0===d?0:d,j=t.BGstatus,m=void 0===j?{}:j,p=t.setBGstatus,O=void 0===p?null:p,x=t.setAnimeIsDone,y=void 0===x?null:x,h=t.setTargetHp,k=void 0===h?null:h,g=t.setAttackerSp,S=void 0===g?null:g,v=t.setLinesStatus,T=void 0===v?null:v,w=t.setPosition,I=void 0===w?null:w;t.setShowSkill;switch(n){case"\u9632\u79a6":I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:150})}));var N=function(){return setTimeout((function(){return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:20,mass:2,friction:5,tension:1e3,tint:13631488})})),l<=0?E({type:"dead"}):z({type:"def"})}),m.seconds)},R=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-235,y:-10})})),z({type:"dodge"})}),m.seconds)},E=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,friction:2,tint:198430})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),H()}),5e3)},H=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{alpha:0})})),C()}),3e3)},z=function(t){var e=t.type;return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,y:10,mass:1,friction:20,tension:170,tint:16777215})})),T((function(t){return{status:e,character:"USER"===t.character?"ENEMY":"USER"}})),C()}),5e3)},C=function(){return setTimeout((function(){y(!0)}),3e3)};return o?N():R();default:O({type:"ENEMYSTANDBY",defence:!1,seconds:1200}),I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,y:40,tension:100})}));var L=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:0,tension:100})})),O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"ENEMYSKILL"})})),P()}),3e3)},P=function(){var t={number:s};return Ot.a.to(t,.8,{number:b,onUpdate:function(){S(yt()(t.number).format("0"))}}),T((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:"attack"})})),setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"STOP",defence:!0})})),F()}),3e3)},F=function(){return setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:175,tension:1e3})})),M()}),1e3)},M=function(){var t={number:r};return o&&Ot.a.to(t,.8,{number:l<0?0:l,onUpdate:function(){k(yt()(t.number).format("0"))}}),setTimeout((function(){I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-600,tension:50})}))}),3e3)};return I((function(t){return Object(u.a)(Object(u.a)({},t),{},{x:-200,tension:100})})),L()}},Xt=function(t){var e=t.skillName,n=t.attackerName,o=t.position,c=function(t){return~t.indexOf("Nomanooni")?"Nomanooni":t};switch(e){case"\u9632\u79a6":return Object(a.jsx)(lt.Spring,{from:{x:-600,y:10},to:{x:o.x,y:o.y},config:{mass:o.mass,tension:o.tension,friction:o.friction},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:2,width:280,height:280,anchor:.5,alpha:o.alpha,tint:o.tint,image:D.resources["".concat(c(n),"-fight")].data},t))}});default:return Object(a.jsx)(lt.Spring,{from:{x:-600,y:25},to:{x:o.x,y:o.y},config:{mass:1,tension:o.tension,friction:20},children:function(t){return Object(a.jsx)(j.Sprite,Object(u.a)({zIndex:3,width:280,height:280,anchor:.5,image:D.resources["".concat(c(n),"-fight")].data},t))}})}},Wt=function(t){return Object(a.jsx)(pt,Object(u.a)(Object(u.a)({},t),{},{defXPostion:-600,steps:Zt,ShowType:Xt}))},_t=function(t){var e=t.attacker,n=void 0===e?{}:e,o=t.skill,c=void 0===o?{}:o,r=t.BGstatus,i=t.isHit,s=void 0!==i&&i,f=t.targetLife,l=void 0===f?0:f,d=t.attackerSp,b=void 0===d?0:d,j=t.resultLife,m=void 0===j?0:j,p=t.resultSp,O=void 0===p?0:p,x=t.setBGstatus,y=t.setAnimeIsDone,h=t.setTargetHp,k=t.setAttackerSp,g=t.setLinesStatus,S=t.setShowSkill,v={skillName:c.name,attackerName:n.name,isHit:s,targetLife:l,attackerSp:b,resultLife:m,resultSp:O,BGstatus:r,setBGstatus:x,setAnimeIsDone:y,setTargetHp:h,setAttackerSp:k,setLinesStatus:g,setShowSkill:S};switch(n.name){case"Teoni":return Object(a.jsx)(Yt,Object(u.a)({},v));case"Hakuji":return Object(a.jsx)(Vt,Object(u.a)({},v));case"Nomanooni":case"Nomanooni-2":case"Nomanooni-3":return Object(a.jsx)(Wt,Object(u.a)({},v));default:return}},$t=function(t){var e=t.props,n=e.stageStatus,c=e.animeShow,r=e.chess,i=e.enemyChess,f=e.enemyRoundTab,l=e.setMoveStep,d=e.setAnimeShow,b=e.setUsualTip,m=e.setCurrentChess,p=e.setEnemyRoundTab,O=e.dispatch,x=c.target,y=c.attacker,h=function(t){return~t.indexOf("Nomanooni")?"Nomanooni":t},k=function(){var t=Object(o.useState)({type:"STANDBY",defence:!1,seconds:1200}),e=Object(s.a)(t,2),k=e[0],g=e[1],S=Object(o.useState)({toX:400,duration:2e4}),v=Object(s.a)(S,2),T=v[0],I=v[1],N=Object(o.useState)({toX:400,duration:500}),E=Object(s.a)(N,2),H=E[0],z=E[1],C=Object(o.useState)(x.prevLife),L=Object(s.a)(C,2),P=L[0],F=L[1],M=Object(o.useState)(y.prevSP),U=Object(s.a)(M,2),B=U[0],J=U[1],A=Object(o.useState)(!1),Y=Object(s.a)(A,2),q=Y[0],V=Y[1],Z=Object(o.useState)({character:c.type,status:"default"}),X=Object(s.a)(Z,2),W=X[0],_=X[1],$=Object(o.useState)({status:!1,type:"0",name:"USER"===c.type?r[y.key].name:i[y.key].name,callback:null}),Q=Object(s.a)($,2),tt=Q[0],et=Q[1],nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t){case"CHESS":return"USER"===c.type?r["number"!==typeof c.attacker.key?0:c.attacker.key]:r["number"!==typeof c.target.key?0:c.target.key];case"ENEMYCHESS":return"USER"===c.type?i["number"!==typeof c.target.key?0:c.target.key]:i["number"!==typeof c.attacker.key?0:c.attacker.key]}},at=function(){var t="USER"===c.type?K["".concat(r[y.key].name)]["skill".concat(tt.type)]:K["".concat(h(i[y.key].name))]["skill".concat(tt.type)],e=t.baseTexture.resource.source;return e.onended=function(){et((function(t){return e.currentTime=0,Object(u.a)(Object(u.a)({},t),{},{status:!1})})),tt.callback()},Object(a.jsx)(j.Sprite,{zIndex:99,width:600,height:370,anchor:.5,x:0,y:-35,image:D.resources["".concat("USER"===c.type?r[y.key].name:h(i[y.key].name),"-talk-attack")].data,texture:t})};return Object(o.useEffect)((function(){if(q)if(d({status:!1,type:"",isHit:!1,attacker:{key:"",skill:{},prevSP:0},target:{key:"",isHit:!1,prevLife:0}}),"USER"===c.type&&i[x.key].hp<=0)O(G({key:x.key})),b({title:"\u5df2\u64ca\u6557 ".concat(i[x.key].cn,"!"),status:!0});else if("ENEMY"===c.type&&r[x.key].hp<=0)O(w({key:x.key})),b({title:"".concat(r[x.key].cn," \u6230\u6557"),status:!0});else if("ENEMY"===c.type){O(R()),m((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"USERROUND"})}));var t=i.filter((function(t){return t.debut}));f.oder<t.length-1?p((function(t){return{oder:t.oder+=1,status:!0}})):b({title:"\u6211\u65b9\u56de\u5408",status:!0})}else l(!0)}),[q]),Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(dt,{props:{stageStatus:n,BGstatus:k,BGprop:T,SkBGprop:H,setBGpops:I,setSkBGpops:z}}),Object(a.jsx)(bt,{right:nt("CHESS"),left:nt("ENEMYCHESS"),showType:c.type,targetHp:P,attackerSp:B}),Object(a.jsx)(Jt,{attacker:nt("CHESS"),skill:"USER"===c.type?c.attacker.skill:{name:"\u9632\u79a6"},BGstatus:k,isHit:c.isHit,targetLife:x.prevLife,attackerSp:y.prevSP,resultLife:x.prevLife-c.attacker.skill.atk,resultSp:y.prevSP-c.attacker.skill.sp,setBGstatus:g,setAnimeIsDone:V,setTargetHp:F,setAttackerSp:J,setLinesStatus:_,setShowSkill:et}),Object(a.jsx)(_t,{attacker:nt("ENEMYCHESS"),skill:"USER"===c.type?{name:"\u9632\u79a6"}:c.attacker.skill,BGstatus:k,isHit:c.isHit,targetLife:x.prevLife,attackerSp:y.prevSP,resultLife:x.prevLife-c.attacker.skill.atk,resultSp:y.prevSP-c.attacker.skill.sp,setBGstatus:g,setAnimeIsDone:V,setTargetHp:F,setAttackerSp:J,setLinesStatus:_,setShowSkill:et}),tt.status&&Object(a.jsx)(at,{}),Object(a.jsx)(mt,{right:nt("CHESS"),left:nt("ENEMYCHESS"),linesStatus:W}),Object(a.jsx)(j.Sprite,{zIndex:99,interactive:!0,buttonMode:!0,width:75,height:35,x:310,y:240,image:D.resources.fightOff.data,pointertap:function(){if(d({status:!1,type:"",isHit:!1,attacker:{key:"",skill:{},prevSP:0},target:{key:"",isHit:!1,prevLife:0}}),"USER"===c.type&&i[x.key].hp<=0)O(G({key:x.key})),b({title:"\u5df2\u64ca\u6557 ".concat(i[x.key].cn,"!"),status:!0});else if("ENEMY"===c.type&&r[x.key].hp<=0)O(w({key:x.key})),b({title:"".concat(r[x.key].cn," \u6230\u6557"),status:!0});else if("ENEMY"===c.type){O(R()),m((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"USERROUND"})}));var t=i.filter((function(t){return t.debut}));f.oder<t.length-1?p((function(t){return{oder:t.oder+=1,status:!0}})):b({title:"\u6211\u65b9\u56de\u5408",status:!0})}else l(!0);!function(){for(var t=window.setTimeout(null,0);t--;)window.clearTimeout(t)}()}})]})};return Object(a.jsx)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.beginFill("0x011627"),t.drawRoundedRect(-400,-300,800,600,0),t.endFill()},children:Object(a.jsx)(k,{})})},Qt=function(t){var e=t.props,n=e.stageStatus,o=void 0===n?"":n,c=e.roundNum,r=void 0===c?Number:c,i=e.setMoveStep,s=e.setOtherTab,f=e.setTipStatus,l=e.setCurrentChess;return Object(a.jsxs)(j.Graphics,{x:400,y:300,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-200,-150,400,300,8),t.endFill()},children:[Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,width:30,height:30,anchor:.5,x:173,y:-123,image:D.resources.closeIcon.data,pointertap:function(){i(!0),s(!1),f((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})}))}}),Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,width:75,height:35,x:105,y:90,image:D.resources.endBtn.data,pointertap:function(){l({key:0,type:"ENDROUND"}),f((function(t){return Object(u.a)(Object(u.a)({},t),{},{title:"\u7d50\u675f\u56de\u5408?",status:!0})}))}}),Object(a.jsx)(j.Text,{text:"\u3010 \u7b2c ".concat(function(){switch(o){case"stageOne":return 1;case"stageTwo":return 2;case"stageThree":return 3;case"stageFour":return 4;default:return 1}}()," \u8a71 \u3011\u4f5c\u6230\u76ee\u7684"),x:-170,y:-125,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff","#00ff99"]})}),Object(a.jsx)(j.Text,{text:it.getIn([o,"ruleText","win"]),x:-150,y:-90,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:["#ffffff","#ffffff"]})}),Object(a.jsx)(j.Text,{text:"\u6230\u6557\u689d\u4ef6",x:-170,y:-40,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff","#ee6c4d"]})}),Object(a.jsx)(j.Text,{text:it.getIn([o,"ruleText","lose"]),x:-150,y:-5,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:["#ffffff","#ffffff"]})}),Object(a.jsx)(j.Text,{text:"\u56de\u5408\u6578",x:-170,y:45,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff","#8d99ae"]})}),Object(a.jsx)(j.Text,{text:"\u7b2c ".concat(r," \u56de"),x:-150,y:80,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:["#ffffff","#ffffff"]})})]})},te=function(t){var e,n=t.oder,o=void 0===n?0:n,c=t.enemyRandomSkill,r=void 0===c?0:c,i=t.enemyList,u=void 0===i?[]:i,s=u[o].skill;return Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Sprite,{width:65,height:65,anchor:.5,x:175,y:-75,image:D.resources["".concat((e=u[o].name,~e.indexOf("Nomanooni")?"Nomanooni":e),"-head-default")].data}),Object(a.jsx)(j.Text,{text:"".concat(u[o].cn," / \u6280\u80fd"),anchor:{x:.5},x:175,y:-30,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"".concat(s[r].name),anchor:{x:.5},x:175,y:10,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:["#f15bb5","#e0aaff"]})}),Object(a.jsx)(j.Text,{text:"ATK / ".concat(s[r].atk),anchor:{x:.5},x:175,y:40,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#f15bb5","#e0aaff"]})})]})},ee=function(t){var e=t.chessList,n=t.defChess,o=t.setDefChess;return Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Graphics,{x:-250,y:-180,zIndex:1,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x0f0f1b"),t.drawRoundedRect(0,0,100,360,8),t.endFill()}}),e.map((function(t,e){var r=85*e;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,width:65,height:65,anchor:.5,zIndex:2,x:-200,y:-125+r,image:D.resources["".concat(t.name,"-head-default")].data,pointertap:function(){return o(e)}}),e===n&&Object(a.jsx)(j.Graphics,{anchor:.5,x:-200,y:-125+r,zIndex:1,draw:function(t){t.clear(),t.beginFill("0x7b2cbf"),t.drawRoundedRect(-38,-38,76,76,5),t.endFill()}})]},e)}))]})},ne=function(t){var e=t.defChess,n=t.chessList,o=t.atkEnemy,c=n[e].dodge-o.hitfix>=0?n[e].dodge-o.hitfix:0;return Object(a.jsx)(j.Container,{sortableChildren:!0,children:Object(a.jsxs)(j.Graphics,{x:-125,y:-150,children:[Object(a.jsx)(j.Text,{text:"\u9078\u64c7\u9632\u79a6\uff1a".concat(n[e].cn),anchor:{x:0},style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{text:"HP\uff1a".concat(n[e].hp),anchor:{x:0},y:30,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ff6b6b"})}),Object(a.jsx)(j.Text,{text:"\u8ff4\u907f\u7387\uff1a".concat(c,"%"),anchor:{x:0},y:60,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff","#4cc9f0"]})})]})})},ae=function(t){var e=t.props,n=e.enemyRoundTab,c=e.chess,r=e.enemyChess,i=e.setEnemyRoundTab,f=e.setAnimeShow,l=e.setCurrentChess,d=e.setCurrentBGM,b=e.dispatch,m=c.filter((function(t){return t.debut})),p=r.filter((function(t){return t.debut})),O=p[n.oder].skill,x=p[n.oder].sp,y=Object(o.useState)(0),h=Object(s.a)(y,2),k=h[0],g=h[1],S=Object(o.useState)(Math.round(Math.random()*(O.length-1))),v=Object(s.a)(S,1)[0],T=0===x||O[v].sp>x?0:v,w=function(t){var e,n=t.chess,a=t.debut,o=t.key;return n.find((function(t,n){return t.id===a[o].id?e=n:null})),e};return Object(a.jsxs)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-300,-200,600,400,8),t.endFill()},children:[Object(a.jsx)(ee,{chessList:m,defChess:k,setDefChess:g}),Object(a.jsx)(ne,{defChess:k,chessList:m,atkEnemy:p[n.oder].skill[T]}),Object(a.jsx)(te,{oder:n.oder,enemyRandomSkill:T,enemyList:p}),Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,width:90,height:42,anchor:.5,zIndex:2,x:230,y:155,image:D.resources.fightDef.data,pointertap:function(){d(p[n.oder].name);var t=st(p[n.oder].skill[T].hitfix,m[k].dodge);l((function(t){return Object(u.a)(Object(u.a)({},t),{},{type:"ATTACK"})})),b(B({key:w({chess:r,debut:p,key:n.oder}),lessSp:p[n.oder].skill[T].sp})),t&&b(N({key:w({chess:c,debut:m,key:k}),damage:p[n.oder].skill[T].atk})),i((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:!1})})),f({status:!0,type:"ENEMY",isHit:t,attacker:{key:w({chess:r,debut:p,key:n.oder}),skill:p[n.oder].skill[T],prevSP:p[n.oder].sp},target:{key:w({chess:c,debut:m,key:k}),isHit:t,prevLife:m[k].hp}})}})]})},oe=function(t){var e=t.ChessData,n=t.ChessVal,c=t.ChessKey,r=t.EnemyChessData,i=t.positionX,u=t.positionY,f=t.setCurrentChess,l=t.setMoveStep,d=t.dispatch,b=715,m=445,p=[],O=[],x=Object(o.useState)(Object(rt.a)([{id:1,title:"\u79fb\u52d5",textColor:["#ffffff","#ffffff"]},{id:2,title:"\u653b\u64ca",textColor:["#ffffff","#ffffff"]},{id:3,title:"\u72c0\u614b",textColor:["#ffffff","#ffffff"]},{id:4,title:"\u8fd4\u56de",textColor:["#ffffff","#ffffff"]}])),y=Object(s.a)(x,2),h=y[0],k=y[1];e.filter((function(t){return t.debut})).map((function(t){return p.push({x:t.x,y:t.y}),O.push({x:t.x,y:t.y})})),r.filter((function(t){return t.debut})).map((function(t){return p.push({x:t.x,y:t.y})}));var g=function(t,n,a){var o=!1;return e.filter((function(t){return t.debut})).map((function(e){if(e.x!==t||e.y!==n)return null;switch(a){case"MOVE":case"ATTACK":var c=e.roundMove>0;return o=c;default:return!0}})),o},T=function(t){t.noop;var e=function(t,e,n){for(var a=!1,o=19,c=14,i=[],u=0;u<n;u++){var s=t+(u+1)>=o?o:t+(u+1),f=e+(u+1)>=c?c:e+(u+1),l=t-(u+1)<=0?0:t-(u+1),d=e-(u+1)<=0?0:e-(u+1);i.push({x:s,y:e},{x:l,y:e},{x:t,y:f},{x:t,y:d})}return r.filter((function(t){return t.debut})).map((function(t){return i.map((function(e){return t.x===e.x&&t.y===e.y?a=!0:null}))})),a}(n.x,n.y,n.attack);return h.map((function(t,o){var r=function(){switch(t.get("id")){case 1:return g(n.x,n.y,"MOVE");case 2:return e&&g(n.x,n.y,"ATTACK");default:return!0}};return Object(a.jsx)(j.Text,{interactive:r(),buttonMode:!0,text:t.get("title"),x:11,y:8+34*o,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:30,fill:r()?t.get("textColor").toJS():"#8d99ae"}),pointerover:function(){k((function(t){return t.setIn([o,"textColor",1],"#00ff99")}))},pointerout:function(){k((function(t){return t.setIn([o,"textColor",1],"#ffffff")}))},pointertap:function(e){switch(t.get("id")){case 1:f({key:c,type:"MOVE"}),d(et({position:{x:n.x,y:n.y},step:n.step,changeColor:"0x06d6a0",currentChessPositions:p})),d(S({key:c}));break;case 2:f({key:c,type:"ATTACK"}),d(S({key:c})),d(nt({position:{x:n.x,y:n.y},step:n.attack,changeColor:"0x00bbf9",currentChessPositions:O}));break;case 3:f({key:c,type:"STATUS"}),d(v({key:c})),d(S({key:c}));break;case 4:l(!0),d(S({key:c}));break;default:return console.log(e.target)}}},o)}))};return Object(a.jsx)(j.Graphics,{x:800!==i&&760!==i?i:b,y:560!==u&&520!==u?u:m,zIndex:3,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(0,0,80,150,8),t.endFill()},children:Object(a.jsx)(T,{})})},ce=function(t){var e,n=t.ChessData,o=t.ChessKey,r=t.CheckStatus,i=t.setMoveStep,u=t.dispatch,s=function(){return n.skill.map((function(t,e){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(j.Text,{x:-40,y:22*e-70,text:"".concat(t.name),style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffb700"})}),Object(a.jsx)(j.Text,{x:16*t.name.length-35,y:22*e-70,text:"ATK:".concat(t.atk,"(").concat(t.sp,"SP)"),style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:14,fill:"#ffffff"})})]},e)}))};return Object(a.jsxs)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(-250,-150,500,300,8),t.endFill()},children:[Object(a.jsx)(j.Sprite,{interactive:!0,buttonMode:!0,width:30,height:30,anchor:.5,x:220,y:-120,image:D.resources.closeIcon.data,pointertap:function(){i(!0),u(r({key:o}))}}),Object(a.jsx)(j.Sprite,{width:80,height:80,x:-200,y:-90,image:D.resources["".concat((e=n.name,~e.indexOf("Nomanooni")?"Nomanooni":e),"-head-default")].data}),Object(a.jsx)(j.Text,{x:-200,y:10,text:n.cn,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{x:-200,y:35,text:"HP:",style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{x:-170,y:35,text:"".concat(n.hp," / ").concat(n.fullValue.hp),style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ff6b6b"})}),Object(a.jsx)(j.Text,{x:-200,y:60,text:"SP:",style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff"})}),Object(a.jsx)(j.Text,{x:-170,y:60,text:"".concat(n.sp," / ").concat(n.fullValue.sp),style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#0466c8"})}),Object(a.jsx)(j.Text,{x:-50,y:-95,text:"\u62db\u5f0f",style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffffff"})}),Object(a.jsx)(s,{})]})},re=function(t){var e=t.chessProps,n=e.chess,o=e.enemyChess,r=e.moveStep,i=void 0===r?Boolean:r,u=e.setMoveStep,s=e.setCurrentChess,f=e.dispatch;return n.map((function(t,e){var r=0===t.roundMove;return Object(a.jsxs)(c.a.Fragment,{children:[t.debut&&Object(a.jsx)(j.Sprite,{interactive:i,buttonMode:!0,width:40,height:40,x:40*t.x,y:40*t.y,zIndex:2,tint:r?4804695:16777215,pointerover:function(){f(tt({position:{x:t.x,y:t.y},step:t.step,changeColor:"0x06d6a0",alphaVal:.5}))},pointerout:function(){f(tt({position:{x:t.x,y:t.y},step:t.step,changeColor:"0x383838",alphaVal:0}))},pointertap:function(){u(!1),f(S({key:e})),f(tt({position:{x:t.x,y:t.y},step:t.step,changeColor:"0x383838",alphaVal:0}))},image:D.resources["".concat(t.name,"-head-default")].data}),t.boardStatus&&Object(a.jsx)(oe,{ChessData:n,ChessVal:t,ChessKey:e,EnemyChessData:o,positionX:40*t.x+40,positionY:40*t.y,setCurrentChess:s,setMoveStep:u,dispatch:f}),t.checkStatus&&Object(a.jsx)(ce,{ChessData:t,ChessKey:e,CheckStatus:v,setMoveStep:u,dispatch:f})]},e)}))},ie=function(t){var e=t.ChessKey,n=t.positionX,c=t.positionY,r=t.setMoveStep,i=t.dispatch,u=715,f=515,l=Object(o.useState)(Object(rt.a)([{id:1,title:"\u72c0\u614b",textColor:["#ffffff","#ffffff"]},{id:2,title:"\u8fd4\u56de",textColor:["#ffffff","#ffffff"]}])),d=Object(s.a)(l,2),b=d[0],m=d[1],p=function(){return b.map((function(t,n){return Object(a.jsx)(j.Text,{interactive:!0,buttonMode:!0,text:t.get("title"),x:11,y:8+34*n,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:30,fill:t.get("textColor").toJS()}),pointerover:function(){m((function(t){return t.setIn([n,"textColor",1],"#9d4edd")}))},pointerout:function(){m((function(t){return t.setIn([n,"textColor",1],"#ffffff")}))},pointertap:function(n){switch(t.get("id")){case 1:i(M({key:e})),i(F({key:e}));break;case 2:r(!0),i(F({key:e}));break;default:return console.log(n.target)}}},n)}))};return Object(a.jsx)(j.Graphics,{x:800!==n&&760!==n?n:u,y:560!==c&&520!==c?c:f,zIndex:3,draw:function(t){t.clear(),t.lineStyle(1,"0xffffff",1),t.beginFill("0x22223b"),t.drawRoundedRect(0,0,80,82,8),t.endFill()},children:Object(a.jsx)(p,{})})},ue=function(t){var e=t.enemyChessProps,n=e.enemyChess,o=e.moveStep,r=void 0===o?Boolean:o,i=e.setMoveStep,u=e.dispatch;return n.map((function(t,e){return Object(a.jsxs)(c.a.Fragment,{children:[t.debut&&Object(a.jsx)(j.Sprite,{interactive:r,buttonMode:!0,width:40,height:40,x:40*t.x,y:40*t.y,zIndex:2,pointertap:function(){i(!1),u(F({key:e}))},image:D.resources["".concat((n=t.name,~n.indexOf("Nomanooni")?"Nomanooni":n),"-head-default")].data}),t.boardStatus&&Object(a.jsx)(ie,{ChessKey:e,positionX:40*t.x+40,positionY:40*t.y,setMoveStep:i,dispatch:u}),t.checkStatus&&Object(a.jsx)(ce,{ChessData:t,ChessKey:e,CheckStatus:M,setMoveStep:i,dispatch:u})]},e);var n}))},se=function(t){var e=t.props,n=e.stageStatus,c=e.setRoundStart,r=e.setOtherTab,i=it.getIn([n,"story"]),f=it.getIn([n,"recap"]),l=Object(o.useState)(!0),d=Object(s.a)(l,2),b=d[0],m=d[1],p=Object(o.useState)(!1),O=Object(s.a)(p,2),x=O[0],y=O[1],h=Object(o.useState)(0),k=Object(s.a)(h,2),g=k[0],S=k[1];return Object(a.jsx)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.beginFill("0x011627"),t.drawRoundedRect(-300,-125,600,250,5),t.endFill()},children:Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Text,{text:"\u3010 \u7b2c ".concat(function(){switch(n){case"stageOne":return 1;case"stageTwo":return 2;case"stageThree":return 3;case"stageFour":return 4;default:return 1}}()," \u8a71 \u3011"),anchor:.5,x:0,y:-80,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#ffffff"})}),b?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(lt.Spring,{from:{x:0,y:0,alpha:0},to:{x:0,y:-50,alpha:1},config:{duration:1e3},children:function(t){return Object(a.jsx)(j.Text,Object(u.a)({text:f,anchor:{x:.5},style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:16,fill:"#ffffff",lineHeight:24,breakWords:!0,wordWrap:!0,wordWrapWidth:500})},t))}}),Object(a.jsx)(j.Sprite,{width:40,height:30,anchor:.5,y:90,interactive:!0,buttonMode:!0,image:D.resources.next.data,pointertap:function(){return m(!1)}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.Sprite,{width:85,height:85,x:-250,y:0,anchor:{y:.5},image:D.resources["".concat(i.getIn([g,"character"]))].data}),Object(a.jsx)(j.Text,{text:i.getIn([g,"name"]),anchor:{y:.5},x:-250,y:65,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff",i.getIn([g,"color"])]})}),Object(a.jsx)(lt.Spring,{from:{x:-140,y:25,alpha:0},to:{x:-140,y:0,alpha:1},config:{duration:250},reset:x,onStart:function(){return y(!1)},children:function(t){return Object(a.jsx)(j.Text,Object(u.a)({text:i.getIn([g,"content"]),anchor:{y:.5},style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff",breakWords:!0,wordWrap:!0,wordWrapWidth:400})},t))}}),Object(a.jsx)(j.Sprite,{width:40,height:30,anchor:.5,x:255,y:90,interactive:!0,buttonMode:!0,image:D.resources.next.data,pointertap:function(){var t=i.size-1;g<t?(S((function(t){return t+1})),y(!0)):(c(!0),r(!0))}})]})]})})},fe=function(t){var e=t.props,n=e.stageStatus,c=e.currentBGM,r=e.setFadeBGM,i=e.setRoundStart,f=e.setStageStatus,l=e.setRoundEnd,d=e.setRoundNum,b=e.dispatch,m=it.getIn([n,"endStory"]),p=Object(o.useState)(!1),O=Object(s.a)(p,2),x=O[0],y=O[1],h=Object(o.useState)(0),k=Object(s.a)(h,2),g=k[0],S=k[1];return Object(a.jsx)(j.Graphics,{x:400,y:300,zIndex:99,draw:function(t){t.clear(),t.beginFill("0x011627"),t.drawRoundedRect(-300,-125,600,250,5),t.endFill()},children:Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[Object(a.jsx)(j.Sprite,{width:85,height:85,x:-250,y:-20,anchor:{y:.5},image:D.resources["".concat(m.getIn([g,"character"]))].data}),Object(a.jsx)(j.Text,{text:m.getIn([g,"name"]),anchor:{y:.5},x:-250,y:45,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff",m.getIn([g,"color"])]})}),Object(a.jsx)(lt.Spring,{from:{x:-140,y:5,alpha:0},to:{x:-140,y:-20,alpha:1},config:{duration:250},reset:x,onStart:function(){return y(!1)},children:function(t){return Object(a.jsx)(j.Text,Object(u.a)({text:m.getIn([g,"content"]),anchor:{y:.5},style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:"#ffffff",breakWords:!0,wordWrap:!0,wordWrapWidth:400})},t))}}),!(g<m.size-1)&&Object(a.jsx)(j.Text,{text:"\u4e0b\u4e00\u8a71",anchor:{y:.5},x:160,y:85,style:new J.q({fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:18,fill:["#ffffff","#ffffff"]})}),Object(a.jsx)(j.Sprite,{width:40,height:30,anchor:.5,x:255,y:90,interactive:!0,buttonMode:!0,image:D.resources.next.data,pointertap:function(){var t=m.size-1;g<t?(S((function(t){return t+1})),y(!0)):(l(!1),i(!1),f((function(t){switch(t){case"stageOne":return"stageTwo";case"stageTwo":return"stageThree";case"stageThree":return"stageFour";default:return t}})),r(c),d(1),b(E()))}})]})})},le=["KimetsuNoYaiba","Jotaro","Josuke"],de=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<le.length;n++)Y[le[n]].playing()&&1===Y[le[n]]._volume&&le[n]!==e&&Y[le[n]].fade(.6,0,1e3);.6!==Y[t]._volume||t!==e?(.6===Y[t]._volume&&Y[t].fade(.6,0,1e3),Y[e].playing()&&1===Y[e]._volume||(Y[e].stop(),Y[e].volume(1),Y[e].play())):Y[t].fade(.6,1,1e3)},be=function(t,e){switch(t){case"Tanjirou":case"Nezuko":case"Zenitsu":case"Inosuke":case"Rengoku":de("stageThree"===e?"HakujiRound":"stageFour"===e?"Jotaro":"round","KimetsuNoYaiba");break;case"Teoni":case"Nomanooni":case"Nomanooni-2":case"Nomanooni-3":"stageThree"===e?de("round","Hakuji"):de("stageFour"===e?"Jotaro":"round","KimetsuNoYaibaEnemy");break;case"Hakuji":de("stageThree"===e?"HakujiRound":"stageFour"===e?"Jotaro":"round","Hakuji");break;case"Jotaro":de("stageThree"===e?"HakujiRound":"stageFour"===e?"Jotaro":"round","Jotaro");break;case"Josuke":de("stageThree"===e?"HakujiRound":"stageFour"===e?"Jotaro":"round","Josuke");break;case"userRounds":case"enemyRounds":!function(t){var e="";switch(t){case"stageThree":e="HakujiRound";break;case"stageFour":e="Jotaro";break;default:e="round"}Y[e].stop(),Y[e].volume(.6),Y[e].play()}(e)}},je=function(){var t=Object(o.useState)(!1),e=Object(s.a)(t,2),n=e[0],c=e[1],r=Object(o.useState)(!1),i=Object(s.a)(r,2),u=i[0],f=i[1],l=Object(o.useState)(!1),d=Object(s.a)(l,2),p=d[0],O=d[1],x=Object(o.useState)("stageOne"),y=Object(s.a)(x,2),h=y[0],g=y[1],S=Object(o.useState)(1),v=Object(s.a)(S,2),T=v[0],w=v[1],I=Object(o.useState)(!1),N=Object(s.a)(I,2),R=N[0],E=N[1],H=Object(o.useState)(!0),z=Object(s.a)(H,2),C=z[0],L=z[1],F=Object(o.useState)({oder:0,status:!1}),M=Object(s.a)(F,2),U=M[0],B=M[1],G=Object(o.useState)({key:0,type:"MOVE"}),J=Object(s.a)(G,2),A=J[0],K=J[1],q=Object(o.useState)({title:"",status:!1}),Z=Object(s.a)(q,2),X=Z[0],W=Z[1],_=Object(o.useState)({title:"",status:!1,position:{x:0,y:0}}),$=Object(s.a)(_,2),Q=$[0],tt=$[1],et=Object(o.useState)({status:!1,attacker:{key:""},target:{key:""}}),nt=Object(s.a)(et,2),at=nt[0],rt=nt[1],st=Object(o.useState)({status:!1,type:"",attacker:{key:"",skill:{},prevSP:0},target:{key:"",isHit:!1,prevLife:0}}),lt=Object(s.a)(st,2),dt=lt[0],bt=lt[1],jt=Object(o.useState)(!1),mt=Object(s.a)(jt,2),pt=mt[0],Ot=mt[1],xt=Object(o.useState)(""),yt=Object(s.a)(xt,2),ht=yt[0],kt=yt[1],gt=Object(o.useState)(""),St=Object(s.a)(gt,2),vt=St[0],Tt=St[1],wt=Object(b.c)((function(t){return t.chessMap})),It=Object(b.c)((function(t){return t.chess})),Nt=Object(b.c)((function(t){return t.enemyChess})),Rt=Object(b.b)();return Object(o.useEffect)((function(){be(ht,h)}),[ht,h]),Object(o.useEffect)((function(){!function(t,e){switch(t){case"Tanjirou":case"Nezuko":case"Zenitsu":case"Inosuke":case"Rengoku":Y.KimetsuNoYaiba.fade(1,0,1e3),e("enemyRounds");break;case"Jotaro":if(Y.Jotaro.playing()&&1===Y.Jotaro._volume)return;Y.Jotaro.fade(1,0,1e3),e("enemyRounds");break;case"Josuke":Y.Josuke.fade(1,0,1e3),e("enemyRounds");break;case"Teoni":case"Nomanooni":case"Nomanooni-2":case"Nomanooni-3":Y.KimetsuNoYaibaEnemy.fade(1,0,1e3),e("userRounds");break;case"Hakuji":Y.Hakuji.fade(1,0,1e3),e("userRounds")}}(vt,kt)}),[vt]),Object(o.useEffect)((function(){n&&(Rt(k({isDebutChess:it.getIn([h,"debutChess"])})),Rt(P({isDebutChess:it.getIn([h,"debutEnemyChess"])})))}),[Rt,n,h]),Object(a.jsxs)(j.Stage,{width:800,height:600,options:{autoDensity:!0,antialias:!0,backgroundColor:75306},children:[Object(a.jsxs)(j.Container,{sortableChildren:!0,children:[n&&Object(a.jsx)(j.Sprite,{width:32,height:32,anchor:.5,x:760,y:40,zIndex:99,interactive:pt,buttonMode:!0,image:D.resources.otherIcon.data,pointertap:function(){E(!0),Ot(!1)}}),Object(a.jsx)(j.Sprite,{width:32,height:32,anchor:.5,x:40,y:40,zIndex:99,interactive:!dt.status,buttonMode:!0,image:D.resources[C?"volumeIcon":"muteIcon"].data,pointertap:function(){L((function(t){return!t})),C?m.Howler.volume(0):m.Howler.volume(1)}}),Object(a.jsx)(j.Sprite,{width:800,height:600,zIndex:1,image:D.resources["".concat(function(t){switch(t){case"stageTwo":case"stageFour":return"stageOne";default:return t}}(h),"-main-BG")].data}),Object(a.jsx)(ot,{reduxProps:{chess:It,enemyChess:Nt,chessMap:wt,currentChess:A,dispatch:Rt,setTipStatus:tt,setMoveStep:Ot,setBattleInfo:rt}}),Object(a.jsx)(re,{chessProps:{chess:It,enemyChess:Nt,moveStep:pt,setMoveStep:Ot,setCurrentChess:K,dispatch:Rt}}),Object(a.jsx)(ue,{enemyChessProps:{enemyChess:Nt,moveStep:pt,setMoveStep:Ot,dispatch:Rt}})]}),R&&Object(a.jsx)(Qt,{props:{stageStatus:h,roundNum:T,setMoveStep:Ot,setOtherTab:E,setTipStatus:tt,setCurrentChess:K}}),Q.status&&Object(a.jsx)(ct,{props:{chess:It,currentChess:A,tipStatus:Q,currentBGM:ht,dispatch:Rt,setMoveStep:Ot,setTipStatus:tt,setOtherTab:E,setRoundNum:w,setUsualTip:W,setFadeBGM:Tt}}),X.status&&Object(a.jsx)(ut,{props:{stageStatus:h,chess:It,currentChess:A,enemyChess:Nt,usualTip:X,currentBGM:ht,animeShow:dt,setMoveStep:Ot,setUsualTip:W,setCurrentChess:K,setFadeBGM:Tt,setEnemyRoundTab:B,setRoundEnd:O,setStageStatus:g,setRoundNum:w,setRoundStart:c,dispatch:Rt}}),at.status&&Object(a.jsx)(ft,{props:{battleInfo:at,setMoveStep:Ot,setBattleInfo:rt,setAnimeShow:bt,setCurrentBGM:kt,dispatch:Rt}}),dt.status&&Object(a.jsx)($t,{props:{stageStatus:h,animeShow:dt,chess:It,enemyChess:Nt,enemyRoundTab:U,setMoveStep:Ot,setAnimeShow:bt,setUsualTip:W,setCurrentChess:K,setEnemyRoundTab:B,dispatch:Rt}}),U.status&&Object(a.jsx)(ae,{props:{enemyRoundTab:U,chess:It,enemyChess:Nt,setEnemyRoundTab:B,setAnimeShow:bt,setCurrentChess:K,setCurrentBGM:kt,dispatch:Rt}}),u&&!n&&Object(a.jsx)(se,{props:{stageStatus:h,setRoundStart:c,setOtherTab:E}}),p&&Object(a.jsx)(fe,{props:{stageStatus:h,currentBGM:ht,setFadeBGM:Tt,setRoundStart:c,setStageStatus:g,setRoundEnd:O,setRoundNum:w,dispatch:Rt}}),!u&&Object(a.jsx)(V,{props:{setStageStart:f,setCurrentBGM:kt}})]})};function me(){var t=Object(f.a)(["\n  position: relative;\n  display:flex;\n  align-items:center;\n  justify-content:center;\n  width:100%;\n  height:100vh;\n  .loading {\n    color: #fff;\n    font-size:24px;\n  }\n  canvas {\n    width:",";\n    height:",";\n  }\n  .mobile-cover {\n    @keyframes trun {\n      0% { transform: translate(-50%,-50%)rotate(0deg) }\n      75% { transform: translate(0%,-50%)rotate(90deg) }\n      100% { transform: translate(0%,-50%)rotate(90deg) }\n    }\n    position: fixed;\n    width:100%;\n    height:100vh;\n    z-index:99;\n    background-color:#000;\n    img { \n      position: absolute;\n      transform:translate(-50%,-50%);\n      top:40%;\n      left:50%;\n      width:15%;\n      max-width:75px;\n      animation:trun 2s infinite;\n    }\n    .subtitle {\n      position: absolute;\n      transform:translate(-50%,-50%);\n      top:50%;\n      left:50%;\n      color:#f90;\n      font-size:18px;\n    }\n  }\n"]);return me=function(){return t},t}function pe(){var t=Object(f.a)(["\n  body { background:#1d2430; }\n"]);return pe=function(){return t},t}var Oe=d.a.desktop(),xe=Object(l.a)(pe()),ye=l.b.div(me(),(function(t){return!t.isDesktop&&"\n      75% !important\n    "}),(function(t){return!t.isDesktop&&"\n      100% !important\n    "})),he=function(){var t=Object(o.useState)(!1),e=Object(s.a)(t,2),n=e[0],c=e[1],r=Object(o.useState)(!1),i=Object(s.a)(r,2),f=i[0],l=i[1],d=Object(o.useState)(window.innerHeight>window.innerWidth),b=Object(s.a)(d,2),j=b[0],m=b[1],p=Object(o.useState)(0),O=Object(s.a)(p,2),x=O[0],y=O[1],h=Object(o.useState)({open:!1,KimetsuNoYaiba:!1}),k=Object(s.a)(h,2),g=k[0],S=k[1];return Y.KimetsuNoYaiba.on("load",(function(){S((function(t){return Object(u.a)(Object(u.a)({},t),{},{KimetsuNoYaiba:!0})}))})),Y.open.on("load",(function(){S((function(t){return Object(u.a)(Object(u.a)({},t),{},{open:!0})}))})),Object(o.useEffect)((function(){D.onProgress.add((function(t){y(Math.floor(t.progress))})),D.onComplete.add((function(t,e){y(100),c(!0)}))})),Object(o.useEffect)((function(){var t=function(){var t=window.innerWidth,e=window.innerHeight;m(e>t)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(o.useEffect)((function(){g.KimetsuNoYaiba&&g.open&&n&&l(!0)}),[n,g]),Object(a.jsxs)(ye,{isDesktop:Oe,children:[Object(a.jsx)(xe,{}),f?Object(a.jsx)(je,{}):Object(a.jsx)("span",{className:"loading",children:n?"\u8b80\u53d6\u97f3\u8a0a\u4e2d...":"Loading ".concat(x,"%..")}),j&&!Oe&&Object(a.jsxs)("div",{className:"mobile-cover",children:[Object(a.jsx)("img",{alt:"",src:D.resources.trun.url}),Object(a.jsx)("div",{className:"subtitle",children:"\u8acb\u6a6b\u653e\u88dd\u7f6e"})]})]})},ke=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),o(t),c(t),r(t)}))},ge=n(9),Se=Object(ge.c)({chess:y,chessMap:$,enemyChess:C}),ve=Object(ge.e)(Se);i.a.render(Object(a.jsx)(b.a,{store:ve,children:Object(a.jsx)(he,{})}),document.getElementById("root")),ke()}},[[78,1,2]]]);
//# sourceMappingURL=main.42c79221.chunk.js.map