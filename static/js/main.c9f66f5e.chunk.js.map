{"version":3,"sources":["reducer/chess.js","reducer/enemyChess.js","components/DataLoader.js","components/Common/Guide.js","components/Common/GameStart/Index.js","reducer/map.js","components/Common/Checkerboard.js","components/Common/ConfirmTips.js","constants/stageRule.js","components/Common/UsualTip.js","components/Common/ProbabilityCount.js","components/Common/BattleBoard.js","components/Common/BattleAnimeShow/AinmeShowBG.js","components/Common/BattleAnimeShow/TopBar.js","constants/lines.js","components/Common/BattleAnimeShow/BottomBar.js","constants/SkillShowProtoType.js","constants/ChessSkillShow/Tanjirou/steps.js","constants/ChessSkillShow/Tanjirou/ShowType.js","constants/ChessSkillShow/Tanjirou/Index.js","constants/ChessSkillShow/Nezuko/steps.js","constants/ChessSkillShow/Nezuko/ShowType.js","constants/ChessSkillShow/Nezuko/Index.js","constants/ChessSkillShow/Zenitsu/steps.js","constants/ChessSkillShow/Zenitsu/ShowType.js","constants/ChessSkillShow/Zenitsu/Index.js","constants/ChessSkillShow/Inosuke/steps.js","constants/ChessSkillShow/Inosuke/ShowType.js","constants/ChessSkillShow/Inosuke/Index.js","constants/ChessSkillShow/Rengoku/steps.js","constants/ChessSkillShow/Rengoku/ShowType.js","constants/ChessSkillShow/Rengoku/Index.js","constants/ChessSkillShow/Jotaro/steps.js","constants/ChessSkillShow/Jotaro/ShowType.js","constants/ChessSkillShow/Jotaro/Index.js","constants/ChessSkillShow/Josuke/steps.js","constants/ChessSkillShow/Josuke/ShowType.js","constants/ChessSkillShow/Josuke/Index.js","constants/ChessSkillShow/Index.js","constants/EnemyChessSkillShow/Teoni/steps.js","constants/EnemyChessSkillShow/Teoni/ShowType.js","constants/EnemyChessSkillShow/Teoni/Index.js","constants/EnemyChessSkillShow/Hakuji/steps.js","constants/EnemyChessSkillShow/Hakuji/ShowType.js","constants/EnemyChessSkillShow/Hakuji/Index.js","constants/EnemyChessSkillShow/Nomanooni/steps.js","constants/EnemyChessSkillShow/Nomanooni/ShowType.js","constants/EnemyChessSkillShow/Nomanooni/Index.js","constants/EnemyChessSkillShow/Index.js","components/Common/BattleAnimeShow/Index.js","components/Common/OtherTab.js","components/Common/EnemyRoundTab/EnemyList.js","components/Common/EnemyRoundTab/ChessList.js","components/Common/EnemyRoundTab/Information.js","components/Common/EnemyRoundTab/Index.js","components/Chess/ChessUIBoard.js","components/Common/ChessStatus.js","components/Chess/Chess.js","components/EnemyChess/EnemyChessUIBoard.js","components/EnemyChess/EnemyChess.js","components/Common/Conversation/Index.js","components/BGMStatus.js","components/Canvas.js","components/App.js","reportWebVitals.js","reducer/index.js","index.js"],"names":["basicCommon","x","y","checkStatus","boardStatus","debut","roundMove","chess","createSlice","name","initialState","cn","id","step","attack","hp","sp","dodge","fullValue","skill","atk","hitfix","cd","reducers","stageDebut","state","actions","isDebutChess","payload","map","value","key","v","get","chessMove","changeX","changeY","chessSelected","chessCheckStatus","chessDefense","damage","chessAttackResult","lessSp","chessDead","chessMoved","chessRoundRest","i","length","chessDone","roundAttack","enemyChess","enemyStageDebut","enemyChessSelected","enemyChessCheckStatus","enemyChessDefense","enemyChessAttackResult","enemyChessDead","hostname","window","location","loader","PIXI","audioData","open","Howl","src","preload","loop","autoplay","round","HakujiRound","Hakuji","KimetsuNoYaiba","KimetsuNoYaibaEnemy","Jotaro","Josuke","videos","Tanjirou","skill2","from","skill3","skill4","Nezuko","Zenitsu","Inosuke","Rengoku","skill5","Object","keys","baseTexture","resource","autoPlay","muted","closeAutoPlay","add","load","Guide","setOpenGuide","props","useState","guideStep","setGuideStep","textRest","setTextRest","guideList","title","content","zIndex","draw","g","clear","beginFill","drawRoundedRect","endFill","sortableChildren","text","anchor","style","fontFamily","fontSize","fill","width","height","image","resources","data","alpha","to","config","duration","reset","onStart","breakWords","wordWrap","wordWrapWidth","interactive","buttonMode","pointertap","prev","Logo","logoWidth","startBtn","setLogoWidth","useTick","delta","Math","floor","GameStart","setStageStart","setCurrentBGM","start","setStart","setStartBtn","openGuide","useEffect","fade","play","mapLimit","createInitialState","method","list","push","createStraightLine","traverse","color","isInteractive","chessMap","MoveSelect","action","position","changeColor","alphaVal","GetMove","currentChessPositions","GetAttack","texture","WHITE","CreateCheckerboard","reduxProps","currentChess","dispatch","setTipStatus","setMoveStep","setBattleInfo","Fragment","k","tint","type","status","isMatch","checkMatchAttackPosition","targetData","item","getCurrentEnemy","attacker","target","acttack","ConfirmTip","tipStatus","currentBGM","setOtherTab","setRoundNum","setUsualTip","setFadeBGM","lineStyle","stageRule","fromJS","stageOne","debutChess","debutEnemyChess","ruleText","win","lose","recap","story","character","endStory","isWin","enemyList","totalLife","isLose","chessList","stageTwo","filter","stageThree","stageFour","UsualTip","stageStatus","animeShow","usualTip","setCurrentChess","setEnemyRoundTab","setRoundEnd","setStageStatus","setRoundStart","textColor","setTextColor","checkWin","getIn","checkLose","oder","ProbabilityCount","attackerHit","targetDodge","random","BattleBoard","battleInfo","roundNum","setAnimeShow","atkSelectd","setAtkSelectd","CreateAttackerInfo","pX","pY","isCD","skillCanUse","fontWeight","CreateTargetInfo","indexOf","ForecastInfo","isHit","prevSP","prevLife","AnimeShowBG","BGstatus","BGprop","SkBGprop","setSkBGpops","setBGpops","filterBackgroundImg","toX","onRest","TopBar","right","left","showType","targetHp","attackerSp","hpBarCount","full","Number","spBarCount","filterCopyChessName","lines","default","def","dead","BottomBar","linesStatus","showCharacter","randomSize","size","SkillShowProtoType","skillName","attackerName","targetLife","resultLife","resultSp","setBGstatus","setAnimeIsDone","setTargetHp","setAttackerSp","setLinesStatus","setShowSkill","defXPostion","steps","ShowType","mass","friction","tension","setPosition","defence","timeout","clearTimeout","isHitStep","setTimeout","isDead","next","seconds","isDodge","isDeadStep2","end","skill2step1","skill2step2","run","number","TweenMax","onUpdate","numeral","format","source","callback","skill2step3","skill3step1","skill3step2","skill3step3","skill4step1","skill4step2","skill4step3","step1","step2","step3","step4","TanjirouSkill","NezukoSkill","ZenitsuSkill","InosukeSkill","skill5step1","skill5step2","skill5step3","RengokuSkill","JotaroSkill","JosukeSkill","ChessSkillShow","defaultprops","TeoniSkill","HakujiSkill","NomanooniSkill","EnemyChessSkillShow","BattleAnimeShow","enemyRoundTab","CreateContent","animeIsDone","showSkill","fetchChessType","CreateSkillSprite","video","videoDom","onended","currentTime","clearAllTimeouts","OtherTab","checkStageRound","EnemyList","enemyRandomSkill","ChessList","defChess","setDefChess","distance","Information","atkEnemy","EnemyRoundTab","enemySkill","enemySp","getCurrentChessKey","getKey","find","ChessUIBoard","ChessData","ChessVal","ChessKey","EnemyChessData","positionX","positionY","specialPosition","forMoveArray","forAttackArray","textInforArray","setTextInforArray","compareUsed","chessX","chessY","checkType","isUnused","val","moved","CreateText","noop","isAttack","chessAtk","limitPosition","positionRange","getaddX","getaddY","getlessX","getlessY","compareAttack","fetchInteractive","toJS","pointerover","setIn","pointerout","e","console","log","ChessStatus","CheckStatus","CreateSkillList","Chess","chessProps","moveStep","Boolean","roundMoveDone","EnemyChessUIBoard","EnemyChess","enemyChessProps","Conversation","currentConversation","currentRecap","isRecap","setIsRecap","currentStory","setCurrentStory","lineHeight","converLength","RoundEndConversation","setStageClear","currentEndStory","setCurrentEndStory","stop","volume","StageClear","userBGMList","characterBGMPlay","main","playing","_volume","currentBGMStatus","roundBGMPlay","Canvas","roundStart","stageStart","roundEnd","stageClear","otherTab","setVolume","fadeBGM","useSelector","useDispatch","fadeBGMStatus","options","autoDensity","antialias","backgroundColor","Howler","isDesktop","device","desktop","GlobalStyle","createGlobalStyle","StyledApp","styled","div","App","dataIsDone","setDataIsDone","gameStart","setGameStart","innerHeight","innerWidth","mobileResize","setMobileResize","progress","setProgress","mp3load","setMp3load","on","onProgress","onComplete","handleResize","addEventListener","removeEventListener","className","alt","url","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9f66f5e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nconst basicCommon = {\r\n  x:0,\r\n  y:0,\r\n  checkStatus:false,\r\n  boardStatus:false,\r\n  debut:false,\r\n  roundMove:1\r\n};\r\nconst chess = createSlice({\r\n  name:'chess',\r\n  initialState:[\r\n    {\r\n      name:'Tanjirou',\r\n      cn:'竈門 炭治郎',\r\n      id:1,\r\n      step:3,\r\n      attack:2,\r\n      hp:1600,\r\n      sp:125,\r\n      dodge:80,\r\n      fullValue:{\r\n        hp:1600,\r\n        sp:125\r\n      },\r\n      skill:[{ \r\n        name:'斬擊',\r\n        atk:250,\r\n        sp:0,\r\n        hitfix:0,\r\n        cd:0\r\n      },{ \r\n        name:'叄之型―流流舞',\r\n        atk:350,\r\n        sp:15,\r\n        hitfix:10,\r\n        cd:2\r\n      },{ \r\n        name:'捌之型―滝壺',\r\n        atk:500,\r\n        sp:25,\r\n        hitfix:5,\r\n        cd:2\r\n      },{\r\n        name:'拾之型―生生流轉',\r\n        atk:850,\r\n        sp:50,\r\n        hitfix:20,\r\n        cd:5\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Nezuko',\r\n      cn:'竈門 禰豆子',\r\n      id:2,\r\n      step:2,\r\n      attack:2,\r\n      hp:2200,\r\n      sp:200,\r\n      dodge:80,\r\n      fullValue:{\r\n        hp:2200,\r\n        sp:200\r\n      },\r\n      skill:[{ \r\n        name:'爪擊',\r\n        atk:200,\r\n        sp:0,\r\n        hitfix:0,\r\n        cd:0\r\n      },{ \r\n        name:'踢擊',\r\n        atk:300,\r\n        sp:10,\r\n        hitfix:15,\r\n        cd:0\r\n      },{ \r\n        name:'血鬼術',\r\n        atk:1000,\r\n        sp:80,\r\n        hitfix:35,\r\n        cd:4\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Zenitsu',\r\n      cn:'我妻善逸',\r\n      id:3,\r\n      step:3,\r\n      attack:2,\r\n      hp:1250,\r\n      sp:100,\r\n      dodge:80,\r\n      fullValue:{\r\n        hp:1250,\r\n        sp:100\r\n      },\r\n      skill:[{ \r\n        name:'斬擊',\r\n        atk:250,\r\n        sp:0,\r\n        hitfix:0,\r\n        cd:0\r\n      },{ \r\n        name:'壹之型―霹靂一閃',\r\n        atk:400,\r\n        sp:15,\r\n        hitfix:15,\r\n        cd:0\r\n      },{\r\n        name:'壹之型―霹靂一閃六連',\r\n        atk:1000,\r\n        sp:70,\r\n        hitfix:30,\r\n        cd:3\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Inosuke',\r\n      cn:'嘴平 伊之助',\r\n      id:4,\r\n      step:3,\r\n      attack:3,\r\n      hp:1800,\r\n      sp:100,\r\n      dodge:70,\r\n      fullValue:{\r\n        hp:1800,\r\n        sp:100\r\n      },\r\n      skill:[{ \r\n        name:'斬擊',\r\n        atk:250,\r\n        sp:0,\r\n        hitfix:0,\r\n        cd:0\r\n      },{ \r\n        name:'壹之牙―穿透刺射',\r\n        atk:350,\r\n        sp:10,\r\n        hitfix:10,\r\n        cd:0\r\n      },{ \r\n        name:'貳之牙―利刃對劈',\r\n        atk:400,\r\n        sp:15,\r\n        hitfix:15,\r\n        cd:2\r\n      },{\r\n        name:'叄之牙―獠牙撕扯',\r\n        atk:600,\r\n        sp:45,\r\n        hitfix:25,\r\n        cd:3\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Rengoku',\r\n      cn:'煉獄 杏壽郎',\r\n      id:5,\r\n      step:4,\r\n      attack:4,\r\n      hp:2500,\r\n      sp:200,\r\n      dodge:80,\r\n      fullValue:{\r\n        hp:2500,\r\n        sp:200\r\n      },\r\n      skill:[{ \r\n        name:'斬擊',\r\n        atk:300,\r\n        sp:0,\r\n        hitfix:10,\r\n        cd:0\r\n      },{ \r\n        name:'壹之型―不知火',\r\n        atk:400,\r\n        sp:15,\r\n        hitfix:30,\r\n        cd:0\r\n      },{ \r\n        name:'肆之型―盛炎的蜿蜒',\r\n        atk:500,\r\n        sp:15,\r\n        hitfix:25,\r\n        cd:2\r\n      },{\r\n        name:'伍之型―炎虎',\r\n        atk:800,\r\n        sp:30,\r\n        hitfix:30,\r\n        cd:4\r\n      },{\r\n        name:'玖之型―煉獄',\r\n        atk:1500,\r\n        sp:100,\r\n        hitfix:50,\r\n        cd:6\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Jotaro',\r\n      cn:'空条 承太郎',\r\n      id:6,\r\n      step:3,\r\n      attack:3,\r\n      hp:2400,\r\n      sp:200,\r\n      dodge:65,\r\n      fullValue:{\r\n        hp:2400,\r\n        sp:200\r\n      },\r\n      skill:[{ \r\n        name:'替身攻擊',\r\n        atk:400,\r\n        sp:0,\r\n        hitfix:10,\r\n        cd:0\r\n      },{ \r\n        name:'白金之星',\r\n        atk:500,\r\n        sp:15,\r\n        hitfix:30,\r\n        cd:0\r\n      },{ \r\n        name:'白金之星―時間暫停',\r\n        atk:1000,\r\n        sp:50,\r\n        hitfix:80,\r\n        cd:5\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Josuke',\r\n      cn:'東方 仗助',\r\n      id:7,\r\n      step:3,\r\n      attack:3,\r\n      hp:2200,\r\n      sp:180,\r\n      dodge:55,\r\n      fullValue:{\r\n        hp:2200,\r\n        sp:180\r\n      },\r\n      skill:[{ \r\n        name:'替身攻擊',\r\n        atk:300,\r\n        sp:0,\r\n        hitfix:15,\r\n        cd:0\r\n      },{ \r\n        name:'瘋狂鑽石',\r\n        atk:400,\r\n        sp:10,\r\n        hitfix:25,\r\n        cd:0\r\n      },{ \r\n        name:'瘋狂鑽石―攻防交替',\r\n        atk:800,\r\n        sp:30,\r\n        hitfix:50,\r\n        cd:4\r\n      }],\r\n      ...basicCommon\r\n  }],\r\n  reducers:{\r\n    stageDebut:(state, actions)=> {\r\n      const { isDebutChess } = actions.payload;\r\n      state.map((value,key)=>{\r\n        return isDebutChess.map(v=>{\r\n          if(value.name===v.get('name')){\r\n            return (\r\n              state[key].roundMove = 1,\r\n              state[key].debut = true,\r\n              state[key].x = v.get('x'),\r\n              state[key].y = v.get('y')\r\n            );\r\n          }else return null;\r\n        })\r\n      })\r\n    },\r\n    chessMove: (state, actions)=>{\r\n      const { key, changeX, changeY } = actions.payload;\r\n      state[key].x = changeX;\r\n      state[key].y = changeY;\r\n    },\r\n    chessSelected: (state, actions)=>{\r\n      const { key } = actions.payload;\r\n      state[key].boardStatus = !state[key].boardStatus;\r\n    },\r\n    chessCheckStatus: (state, actions)=> {\r\n      const { key } = actions.payload;\r\n      state[key].checkStatus = !state[key].checkStatus;\r\n    },\r\n    chessDefense: (state, actions)=>{\r\n      const { key, damage } = actions.payload;\r\n      state[key].hp -= damage;\r\n    },\r\n    chessAttackResult: (state, actions)=> {\r\n      const { key, lessSp } = actions.payload;\r\n      state[key].sp -= lessSp;\r\n    },\r\n    chessDead: (state, actions)=> {\r\n      const { key } = actions.payload;\r\n      state[key].debut = false;\r\n      state[key].hp = state[key].fullValue.hp;\r\n      state[key].sp = state[key].fullValue.sp;\r\n    },\r\n    chessMoved: (state, actions)=>{\r\n      const { key } = actions.payload;\r\n      state[key].roundMove -= 1;\r\n    },\r\n    chessRoundRest:(state)=>{\r\n      for(let i=0;i<state.length;i++){\r\n        state[i].roundMove = 1;\r\n      };\r\n    },\r\n    chessDone:(state)=>{\r\n      for(let i=0;i<state.length;i++){\r\n        state[i].debut = false;\r\n        state[i].hp = state[i].fullValue.hp;\r\n        state[i].sp = state[i].fullValue.sp;\r\n        state[i].roundMove = 1;\r\n      };\r\n    }\r\n  }\r\n});\r\nexport default chess.reducer;\r\nexport const { \r\n  stageDebut, chessMove, chessSelected, chessCheckStatus, chessAttackResult, \r\n  chessDead, chessMoved, chessDefense, chessRoundRest, chessDone\r\n} = chess.actions;","import { createSlice } from '@reduxjs/toolkit';\r\nconst basicCommon = {\r\n  x:0,\r\n  y:0,\r\n  checkStatus:false,\r\n  boardStatus:false,\r\n  debut:false,\r\n  roundAttack:false,\r\n};\r\nconst enemyChess = createSlice({\r\n  name:'enemyChess',\r\n  initialState:[\r\n    {\r\n      name:'Teoni',\r\n      cn:'手鬼',\r\n      id:1,\r\n      hp:2000,\r\n      sp:100,\r\n      dodge:25,\r\n      fullValue:{\r\n        hp:2000,\r\n        sp:100\r\n      },\r\n      skill:[{ \r\n        name:'胡亂毆打',\r\n        atk:200,\r\n        sp:0,\r\n        hitfix:10,\r\n        cd:0\r\n      },{ \r\n        name:'你是第十四個',\r\n        atk:500,\r\n        sp:25,\r\n        hitfix:20,\r\n        cd:0\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Nomanooni',\r\n      cn:'沼鬼(壹)',\r\n      id:2,\r\n      hp:1200,\r\n      sp:120,\r\n      dodge:25,\r\n      fullValue:{\r\n        hp:1200,\r\n        sp:120\r\n      },\r\n      skill:[{ \r\n        name:'爪擊',\r\n        atk:150,\r\n        sp:0,\r\n        hitfix:15,\r\n        cd:0\r\n      },{ \r\n        name:'分身攻擊',\r\n        atk:300,\r\n        sp:20,\r\n        hitfix:30,\r\n        cd:0\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Nomanooni-2',\r\n      cn:'沼鬼(貳)',\r\n      id:3,\r\n      hp:1200,\r\n      sp:120,\r\n      dodge:25,\r\n      fullValue:{\r\n        hp:1200,\r\n        sp:120\r\n      },\r\n      skill:[{ \r\n        name:'爪擊',\r\n        atk:150,\r\n        sp:0,\r\n        hitfix:15,\r\n        cd:0\r\n      },{ \r\n        name:'分身攻擊',\r\n        atk:300,\r\n        sp:20,\r\n        hitfix:30,\r\n        cd:0\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Nomanooni-3',\r\n      cn:'沼鬼(參)',\r\n      id:4,\r\n      hp:1200,\r\n      sp:120,\r\n      dodge:25,\r\n      fullValue:{\r\n        hp:1200,\r\n        sp:120\r\n      },\r\n      skill:[{ \r\n        name:'爪擊',\r\n        atk:150,\r\n        sp:0,\r\n        hitfix:15,\r\n        cd:0\r\n      },{ \r\n        name:'分身攻擊',\r\n        atk:300,\r\n        sp:20,\r\n        hitfix:30,\r\n        cd:0\r\n      }],\r\n      ...basicCommon\r\n    },{\r\n      name:'Hakuji',\r\n      cn:'猗窩座',\r\n      id:5,\r\n      hp:4000,\r\n      sp:200,\r\n      dodge:40,\r\n      fullValue:{\r\n        hp:4000,\r\n        sp:200\r\n      },\r\n      skill:[{ \r\n        name:'破壞殺攻擊',\r\n        atk:400,\r\n        sp:0,\r\n        hitfix:20,\r\n        cd:0\r\n      },{ \r\n        name:'破壞殺―亂式',\r\n        atk:600,\r\n        sp:15,\r\n        hitfix:30,\r\n        cd:0\r\n      },{ \r\n        name:'術式展開―破壞殺―羅針',\r\n        atk:900,\r\n        sp:30,\r\n        hitfix:30,\r\n        cd:0\r\n      }],\r\n      ...basicCommon\r\n  }],\r\n  reducers:{\r\n    enemyStageDebut:(state, actions)=> {\r\n      const { isDebutChess } = actions.payload;\r\n      state.map((value,key)=>{\r\n        return isDebutChess.map(v=>{\r\n          if(value.name===v.get('name')){\r\n            return (\r\n              state[key].debut = true,\r\n              state[key].x = v.get('x'),\r\n              state[key].y = v.get('y')\r\n            );\r\n          }else return null;\r\n        })\r\n      })\r\n    },\r\n    enemyChessSelected: (state, actions)=>{\r\n      const { key } = actions.payload;\r\n      state[key].boardStatus = !state[key].boardStatus;\r\n    },\r\n    enemyChessCheckStatus: (state, actions)=> {\r\n      const { key } = actions.payload;\r\n      state[key].checkStatus = !state[key].checkStatus;\r\n    },\r\n    enemyChessDefense: (state, actions)=> {\r\n      const { key, damage } = actions.payload;\r\n      state[key].hp -= damage;\r\n    },\r\n    enemyChessAttackResult: (state, actions)=> {\r\n      const { key, lessSp } = actions.payload;\r\n      state[key].sp -= lessSp;\r\n    },\r\n    enemyChessDead: (state, actions)=> {\r\n      const { key } = actions.payload;\r\n      state[key].debut = false;\r\n      state[key].hp = state[key].fullValue.hp;\r\n      state[key].sp = state[key].fullValue.sp;\r\n    },\r\n  }\r\n});\r\nexport default enemyChess.reducer;\r\nexport const { \r\n  enemyStageDebut, enemyChessSelected, enemyChessCheckStatus, enemyChessDefense, \r\n  enemyChessAttackResult, enemyChessDead \r\n} = enemyChess.actions;","import * as PIXI from \"pixi.js\";\r\nimport { Howl } from 'howler';\r\nconst hostname = window.location.hostname==='localhost'?'./Demon-Slayer/':'./';\r\nexport const loader = new PIXI.Loader();\r\nexport const audioData = {\r\n  open: new Howl({\r\n    src: [`${hostname}audio/bgm-open.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  round: new Howl({\r\n    src: [`${hostname}audio/bgm-round.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  HakujiRound: new Howl({\r\n    src: [`${hostname}audio/bgm-Hakuji-round.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  Hakuji: new Howl({\r\n    src: [`${hostname}audio/bgm-Hakuji.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  KimetsuNoYaiba: new Howl({\r\n    src: [`${hostname}audio/bgm-KimetsuNoYaiba.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  KimetsuNoYaibaEnemy: new Howl({\r\n    src: [`${hostname}audio/bgm-KimetsuNoYaibaEnemy.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  Jotaro: new Howl({\r\n    src: [`${hostname}audio/bgm-Jotaro.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n  Josuke: new Howl({\r\n    src: [`${hostname}audio/bgm-Josuke.mp3`],\r\n    preload: 'metadata',\r\n    loop: true,\r\n    autoplay: false\r\n  }),\r\n};\r\nexport const videos = {\r\n  Tanjirou: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Tanjirou/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Tanjirou/skill3.mp4`),\r\n    skill4: PIXI.Texture.from(`${hostname}video/Tanjirou/skill4.mp4`)\r\n  },\r\n  Nezuko: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Nezuko/skill2.mp4`),\r\n  },\r\n  Zenitsu: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Zenitsu/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Zenitsu/skill3.mp4`)\r\n  },\r\n  Inosuke: {\r\n    skill3: PIXI.Texture.from(`${hostname}video/Inosuke/skill3.mp4`),\r\n    skill4: PIXI.Texture.from(`${hostname}video/Inosuke/skill4.mp4`)\r\n  },\r\n  Rengoku: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Rengoku/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Rengoku/skill3.mp4`),\r\n    skill4: PIXI.Texture.from(`${hostname}video/Rengoku/skill4.mp4`),\r\n    skill5: PIXI.Texture.from(`${hostname}video/Rengoku/skill5.mp4`)\r\n  },\r\n  Hakuji: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Hakuji/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Hakuji/skill3.mp4`)\r\n  },\r\n  Jotaro: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Jotaro/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Jotaro/skill3.mp4`)\r\n  },\r\n  Josuke: {\r\n    skill2: PIXI.Texture.from(`${hostname}video/Josuke/skill2.mp4`),\r\n    skill3: PIXI.Texture.from(`${hostname}video/Josuke/skill3.mp4`)\r\n  },\r\n};\r\n// closeAutoPlay\r\nconst closeAutoPlay = ()=>{\r\n  const Tanjirou = Object.keys(videos.Tanjirou);\r\n  for(let i=0; i<Tanjirou.length; i++){\r\n    videos.Tanjirou[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Tanjirou[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Nezuko = Object.keys(videos.Nezuko);\r\n  for(let i=0; i<Nezuko.length; i++){\r\n    videos.Nezuko[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Nezuko[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Zenitsu = Object.keys(videos.Zenitsu);\r\n  for(let i=0; i<Zenitsu.length; i++){\r\n    videos.Zenitsu[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Zenitsu[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Inosuke = Object.keys(videos.Inosuke);\r\n  for(let i=0; i<Inosuke.length; i++){\r\n    videos.Inosuke[`skill${i+3}`].baseTexture.resource.autoPlay= false;\r\n    videos.Inosuke[`skill${i+3}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Rengoku = Object.keys(videos.Rengoku);\r\n  for(let i=0; i<Rengoku.length; i++){\r\n    videos.Rengoku[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Rengoku[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Hakuji = Object.keys(videos.Hakuji);\r\n  for(let i=0; i<Hakuji.length; i++){\r\n    videos.Hakuji[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Hakuji[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Jotaro = Object.keys(videos.Jotaro);\r\n  for(let i=0; i<Jotaro.length; i++){\r\n    videos.Jotaro[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Jotaro[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n  const Josuke = Object.keys(videos.Josuke);\r\n  for(let i=0; i<Josuke.length; i++){\r\n    videos.Josuke[`skill${i+2}`].baseTexture.resource.autoPlay= false;\r\n    videos.Josuke[`skill${i+2}`].baseTexture.resource.muted= true;\r\n  };\r\n};\r\ncloseAutoPlay();\r\n\r\nloader\r\n  .add('guide-1',`${hostname}imgs/guide/guide-1.jpg`)\r\n  .add('guide-2',`${hostname}imgs/guide/guide-2.jpg`)\r\n  .add('guide-3',`${hostname}imgs/guide/guide-3.jpg`)\r\n  .add('guide-4',`${hostname}imgs/guide/guide-4.jpg`)\r\n  .add('guide-5',`${hostname}imgs/guide/guide-5.jpg`)\r\n  .add('Tanjirou-head-default',`${hostname}imgs/Tanjirou/head-default.png`)\r\n  .add('Tanjirou-talk-default',`${hostname}imgs/Tanjirou/talk-default.jpg`)\r\n  .add('Tanjirou-talk-attack',`${hostname}imgs/Tanjirou/talk-attack.jpg`)\r\n  .add('Tanjirou-talk-def',`${hostname}imgs/Tanjirou/talk-def.jpg`)\r\n  .add('Tanjirou-talk-dodge',`${hostname}imgs/Tanjirou/talk-dodge.jpg`)\r\n  .add('Tanjirou-talk-dead',`${hostname}imgs/Tanjirou/talk-dead.jpg`)\r\n  .add('Tanjirou-talk-worry',`${hostname}imgs/Tanjirou/talk-worry.jpg`)\r\n  .add('Tanjirou-talk-usual',`${hostname}imgs/Tanjirou/talk-usual.jpg`)\r\n  .add('Tanjirou-talk-error',`${hostname}imgs/Tanjirou/talk-error.jpg`)\r\n  .add('Tanjirou-talk-cry',`${hostname}imgs/Tanjirou/talk-cry.jpg`)\r\n  .add('Tanjirou-talk-afraid',`${hostname}imgs/Tanjirou/talk-afraid.jpg`)\r\n  .add('Tanjirou-fight-typeA',`${hostname}imgs/Tanjirou/fight-typeA.png`)\r\n  .add('Tanjirou-fight-typeB',`${hostname}imgs/Tanjirou/fight-typeB.png`)\r\n  .add('Nezuko-head-default',`${hostname}imgs/Nezuko/head-default.png`)\r\n  .add('Nezuko-talk-default',`${hostname}imgs/Nezuko/talk-default.jpg`)\r\n  .add('Nezuko-talk-attack',`${hostname}imgs/Nezuko/talk-attack.jpg`)\r\n  .add('Nezuko-talk-def',`${hostname}imgs/Nezuko/talk-def.jpg`)\r\n  .add('Nezuko-talk-dodge',`${hostname}imgs/Nezuko/talk-dodge.jpg`)\r\n  .add('Nezuko-talk-dead',`${hostname}imgs/Nezuko/talk-dead.jpg`)\r\n  .add('Nezuko-talk-confuse',`${hostname}imgs/Nezuko/talk-confuse.jpg`)\r\n  .add('Nezuko-fight',`${hostname}imgs/Nezuko/fight.png`)\r\n  .add('Zenitsu-head-default',`${hostname}imgs/Zenitsu/head-default.png`)\r\n  .add('Zenitsu-talk-default',`${hostname}imgs/Zenitsu/talk-default.jpg`)\r\n  .add('Zenitsu-talk-attack',`${hostname}imgs/Zenitsu/talk-attack.jpg`)\r\n  .add('Zenitsu-talk-def',`${hostname}imgs/Zenitsu/talk-def.jpg`)\r\n  .add('Zenitsu-talk-dodge',`${hostname}imgs/Zenitsu/talk-dodge.jpg`)\r\n  .add('Zenitsu-talk-dead',`${hostname}imgs/Zenitsu/talk-dead.jpg`)\r\n  .add('Zenitsu-talk-usual',`${hostname}imgs/Zenitsu/talk-usual.jpg`)\r\n  .add('Zenitsu-talk-fall',`${hostname}imgs/Zenitsu/talk-fall.jpg`)\r\n  .add('Zenitsu-talk-afraid',`${hostname}imgs/Zenitsu/talk-afraid.jpg`)\r\n  .add('Zenitsu-talk-happy',`${hostname}imgs/Zenitsu/talk-happy.jpg`)\r\n  .add('Zenitsu-fight',`${hostname}imgs/Zenitsu/fight.png`)\r\n  .add('Inosuke-head-default',`${hostname}imgs/Inosuke/head-default.png`)\r\n  .add('Inosuke-talk-default',`${hostname}imgs/Inosuke/talk-default.jpg`)\r\n  .add('Inosuke-talk-attack',`${hostname}imgs/Inosuke/talk-attack.jpg`)\r\n  .add('Inosuke-talk-def',`${hostname}imgs/Inosuke/talk-def.jpg`)\r\n  .add('Inosuke-talk-dodge',`${hostname}imgs/Inosuke/talk-dodge.jpg`)\r\n  .add('Inosuke-talk-dead',`${hostname}imgs/Inosuke/talk-dead.jpg`)\r\n  .add('Inosuke-talk-angry',`${hostname}imgs/Inosuke/talk-angry.jpg`)\r\n  .add('Inosuke-fight',`${hostname}imgs/Inosuke/fight.png`)\r\n  .add('Rengoku-head-default',`${hostname}imgs/Rengoku/head-default.png`)\r\n  .add('Rengoku-talk-default',`${hostname}imgs/Rengoku/talk-default.jpg`)\r\n  .add('Rengoku-talk-attack',`${hostname}imgs/Rengoku/talk-attack.jpg`)\r\n  .add('Rengoku-talk-def',`${hostname}imgs/Rengoku/talk-def.jpg`)\r\n  .add('Rengoku-talk-dodge',`${hostname}imgs/Rengoku/talk-dodge.jpg`)\r\n  .add('Rengoku-talk-dead',`${hostname}imgs/Rengoku/talk-dead.jpg`)\r\n  .add('Rengoku-talk-usual',`${hostname}imgs/Rengoku/talk-usual.jpg`)\r\n  .add('Rengoku-talk-spark',`${hostname}imgs/Rengoku/talk-spark.jpg`)\r\n  .add('Rengoku-talk-last',`${hostname}imgs/Rengoku/talk-last.jpg`)\r\n  .add('Rengoku-fight',`${hostname}imgs/Rengoku/fight.png`)\r\n  .add('Teoni-head-default',`${hostname}imgs/Teoni/head-default.png`)\r\n  .add('Teoni-talk-default',`${hostname}imgs/Teoni/talk-default.jpg`)\r\n  .add('Teoni-talk-attack',`${hostname}imgs/Teoni/talk-attack.jpg`)\r\n  .add('Teoni-talk-def',`${hostname}imgs/Teoni/talk-def.jpg`)\r\n  .add('Teoni-talk-dodge',`${hostname}imgs/Teoni/talk-dodge.jpg`)\r\n  .add('Teoni-talk-dead',`${hostname}imgs/Teoni/talk-dead.jpg`)\r\n  .add('Teoni-fight',`${hostname}imgs/Teoni/fight.png`)\r\n  .add('Nomanooni-head-default',`${hostname}imgs/Nomanooni/head-default.png`)\r\n  .add('Nomanooni-talk-default',`${hostname}imgs/Nomanooni/talk-default.jpg`)\r\n  .add('Nomanooni-talk-attack',`${hostname}imgs/Nomanooni/talk-attack.jpg`)\r\n  .add('Nomanooni-talk-def',`${hostname}imgs/Nomanooni/talk-def.jpg`)\r\n  .add('Nomanooni-talk-dodge',`${hostname}imgs/Nomanooni/talk-dodge.jpg`)\r\n  .add('Nomanooni-talk-dead',`${hostname}imgs/Nomanooni/talk-dead.jpg`)\r\n  .add('Nomanooni-fight',`${hostname}imgs/Nomanooni/fight.png`)\r\n  .add('Hakuji-head-default',`${hostname}imgs/Hakuji/head-default.png`)\r\n  .add('Hakuji-talk-default',`${hostname}imgs/Hakuji/talk-default.jpg`)\r\n  .add('Hakuji-talk-attack',`${hostname}imgs/Hakuji/talk-attack.jpg`)\r\n  .add('Hakuji-talk-def',`${hostname}imgs/Hakuji/talk-def.jpg`)\r\n  .add('Hakuji-talk-dodge',`${hostname}imgs/Hakuji/talk-dodge.jpg`)\r\n  .add('Hakuji-talk-dead',`${hostname}imgs/Hakuji/talk-dead.jpg`)\r\n  .add('Hakuji-talk-usual',`${hostname}imgs/Hakuji/talk-usual.jpg`)\r\n  .add('Hakuji-fight',`${hostname}imgs/Hakuji/fight.png`)\r\n  .add('Jotaro-head-default',`${hostname}imgs/Jotaro/head-default.png`)\r\n  .add('Jotaro-talk-default',`${hostname}imgs/Jotaro/talk-default.jpg`)\r\n  .add('Jotaro-talk-attack',`${hostname}imgs/Jotaro/talk-attack.jpg`)\r\n  .add('Jotaro-talk-def',`${hostname}imgs/Jotaro/talk-def.jpg`)\r\n  .add('Jotaro-talk-dodge',`${hostname}imgs/Jotaro/talk-dodge.jpg`)\r\n  .add('Jotaro-talk-dead',`${hostname}imgs/Jotaro/talk-dead.jpg`)\r\n  .add('Jotaro-talk-usual',`${hostname}imgs/Jotaro/talk-usual.jpg`)\r\n  .add('Jotaro-talk-silent',`${hostname}imgs/Jotaro/talk-silent.jpg`)\r\n  .add('Jotaro-talk-afraid',`${hostname}imgs/Jotaro/talk-afraid.jpg`)\r\n  .add('Jotaro-fight',`${hostname}imgs/Jotaro/fight.png`)\r\n  .add('Josuke-head-default',`${hostname}imgs/Josuke/head-default.png`)\r\n  .add('Josuke-talk-default',`${hostname}imgs/Josuke/talk-default.jpg`)\r\n  .add('Josuke-talk-attack',`${hostname}imgs/Josuke/talk-attack.jpg`)\r\n  .add('Josuke-talk-def',`${hostname}imgs/Josuke/talk-def.jpg`)\r\n  .add('Josuke-talk-dodge',`${hostname}imgs/Josuke/talk-dodge.jpg`)\r\n  .add('Josuke-talk-dead',`${hostname}imgs/Josuke/talk-dead.jpg`)\r\n  .add('Josuke-talk-usual',`${hostname}imgs/Josuke/talk-usual.jpg`)\r\n  .add('Josuke-talk-angry',`${hostname}imgs/Josuke/talk-angry.jpg`)\r\n  .add('Josuke-talk-stand',`${hostname}imgs/Josuke/talk-stand.jpg`)\r\n  .add('Josuke-fight',`${hostname}imgs/Josuke/fight.png`)\r\n  .add('stageOne-BG',`${hostname}imgs/background/stage1-background.png`)\r\n  .add('stageOne-main-BG',`${hostname}imgs/background/stage1-main-background.jpg`)\r\n  .add('stageThree-BG',`${hostname}imgs/background/stage2-background.png`)\r\n  .add('stageThree-main-BG',`${hostname}imgs/background/stage2-main-background.jpg`)\r\n  .add('logo',`${hostname}imgs/common/logo.png`)\r\n  .add('atkIcon',`${hostname}imgs/common/atk.png`)\r\n  .add('defIcon',`${hostname}imgs/common/def.png`)\r\n  .add('otherIcon',`${hostname}imgs/common/other.png`)\r\n  .add('closeIcon',`${hostname}imgs/common/close.png`)\r\n  .add('muteIcon',`${hostname}imgs/common/mute.png`)\r\n  .add('volumeIcon',`${hostname}imgs/common/volume.png`)\r\n  .add('startBtn',`${hostname}imgs/common/startBtn.png`)\r\n  .add('guideBtn',`${hostname}imgs/common/guideBtn.png`)\r\n  .add('endBtn',`${hostname}imgs/common/end.png`)\r\n  .add('fightOff',`${hostname}imgs/common/fightOff.png`)\r\n  .add('fightDef',`${hostname}imgs/common/fightDef.png`)\r\n  .add('trun',`${hostname}imgs/common/trun.png`)\r\n  .add('next',`${hostname}imgs/common/next.png`)\r\n  .load();\r\n","import React,{ useState } from 'react';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { loader } from '../DataLoader';\r\nimport { Container, Graphics, Sprite, Text } from '@inlet/react-pixi/animated';\r\nimport { Spring } from 'react-spring/renderprops';\r\n\r\nexport const Guide = ({ props })=> {\r\n  const { setOpenGuide } = props;\r\n  const [ guideStep, setGuideStep ] = useState(0);\r\n  const [ textRest, setTextRest ] = useState(false);\r\n  const guideList = [\r\n    {\r\n      title:'一、基礎操作',\r\n      content:'音樂啟用/關閉、我/敵方戰棋選擇、回合狀態視窗開啟/關閉'\r\n    },{\r\n      title:'二、戰棋狀態',\r\n      content:'點選戰棋[狀態]，查看戰棋詳情。'\r\n    },{\r\n      title:'三、回合狀態',\r\n      content:'點擊視窗右上角開啟/關閉，查看/操作[回合狀態]詳情。'\r\n    },{\r\n      title:'四、戰棋攻擊',\r\n      content:'選擇攻擊目標後，點擊左列技能欄位之技能(擇一)進行攻擊。'\r\n    },{\r\n      title:'五、戰棋防禦',\r\n      content:'選擇戰旗進行防禦。(敵方回合之敵方戰棋僅進行攻擊*無攻擊距離限制*，回合期間不進行戰棋移動。)'\r\n    },\r\n  ]\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x011627`);\r\n      g.drawRoundedRect(-400,-300,800,600,0);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Text\r\n        text={guideList[guideStep].title}\r\n        anchor={{y:0.5}}\r\n        x={-270}\r\n        y={-245}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 28,\r\n          fill:['#ffffff', '#00bcd4'],\r\n        })}\r\n      />\r\n      <Sprite\r\n        anchor={0.5}\r\n        x={0}\r\n        y={0}\r\n        width={540}\r\n        height={405}\r\n        image={loader.resources[`guide-${guideStep+1}`].data}\r\n      />\r\n      <Spring\r\n        from={{ x:0, y:250, alpha:0 }}\r\n        to={{ x:0, y:230, alpha:1 }}\r\n        config={{ duration: 250 }}\r\n        reset={textRest}\r\n        onStart={()=>setTextRest(false)}\r\n      >\r\n        {props =>\r\n          <Text\r\n            text={guideList[guideStep].content}\r\n            anchor={{x:0.5}}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 16,\r\n              fill:['#ffffff', '#00bcd4'],\r\n              breakWords: true,\r\n              wordWrap: true,\r\n              wordWrapWidth:500\r\n            })}\r\n            {...props}\r\n          />\r\n        }\r\n      </Spring>\r\n      <Text\r\n        text={guideStep===4?'返回':'下一步'}\r\n        anchor={{y:0.5}}\r\n        x={guideStep===4?265:250}\r\n        y={255}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:['#ffffff', '#ffffff'],\r\n        })}\r\n      />\r\n      <Sprite\r\n        width={40}\r\n        height={30}\r\n        anchor={0.5}\r\n        x={335}\r\n        y={260}\r\n        interactive={true}\r\n        buttonMode={true}\r\n        image={loader.resources[`next`].data}\r\n        pointertap={()=>{\r\n          if(guideStep===4){ \r\n            setOpenGuide(false);\r\n            return; \r\n          }else {\r\n            setGuideStep(prev=>prev+=1);\r\n            setTextRest(true);\r\n          };\r\n        }}\r\n      />\r\n    </Container>\r\n  </Graphics>\r\n};","import React,{ useState, useEffect } from 'react';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { audioData, loader } from '../../DataLoader';\r\nimport { Container, Text, Graphics, Sprite, useTick } from '@inlet/react-pixi/animated';\r\nimport { Guide } from '../Guide';\r\nconst Logo = ({\r\n  logoWidth=200,\r\n  startBtn,\r\n  setLogoWidth\r\n}) =>{\r\n  let i = 0;\r\n  useTick(delta=>{\r\n    if(!startBtn){\r\n      const add = i += 0.28 * delta;\r\n      setLogoWidth(prev=>{return prev+=Math.floor(add)});\r\n    }else return;\r\n  });\r\n  return <Sprite\r\n    anchor={0.5}\r\n    x={400}\r\n    y={250}\r\n    width={logoWidth}\r\n    height={logoWidth}\r\n    image={loader.resources[`logo`].data}\r\n  />\r\n};\r\nexport const GameStart = ({\r\n  props\r\n})=>{\r\n  const { setStageStart, setCurrentBGM } = props;\r\n  const [ logoWidth, setLogoWidth ] = useState(200);\r\n  const [ start, setStart ] = useState(false);\r\n  const [ startBtn, setStartBtn ] = useState(false);\r\n  const [ openGuide, setOpenGuide ] = useState(false);\r\n  useEffect(()=>{\r\n    (logoWidth>=350)&&setStartBtn(true);\r\n  },[logoWidth]);\r\n  return <Container sortableChildren={true}>\r\n    {!start?<>\r\n      <Graphics\r\n        interactive={true}\r\n        buttonMode={true}\r\n        x={0} y={0}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(0x0000);\r\n          g.drawRoundedRect(0,0,800,600,0);\r\n          g.endFill();\r\n        }}\r\n        pointertap={()=>{\r\n          audioData.open.play();\r\n          setStart(true);\r\n        }}\r\n        alpha={0.5}\r\n      />\r\n      <Text\r\n        text={`任意點擊`}\r\n        zIndex={2}\r\n        anchor={0.5}\r\n        x={400}\r\n        y={300}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 24,\r\n          fill:'#ffffff',\r\n        })}\r\n      />\r\n    </>:<>\r\n      <Logo\r\n        logoWidth={logoWidth}\r\n        startBtn={startBtn}\r\n        setLogoWidth={setLogoWidth}\r\n      />\r\n      {startBtn&&\r\n        <>\r\n          <Sprite\r\n            interactive={!openGuide}\r\n            buttonMode={true}\r\n            anchor={{x:1.1,y:0.5}}\r\n            x={400}\r\n            y={450}\r\n            width={120}\r\n            height={56}\r\n            image={loader.resources[`startBtn`].data}\r\n            pointertap={()=>{\r\n              audioData.open.fade(1,0,1000)\r\n              setStageStart(true);\r\n              setCurrentBGM('userRounds');\r\n            }}\r\n          />\r\n          <Sprite\r\n            interactive={!openGuide}\r\n            buttonMode={true}\r\n            anchor={{x:-0.1,y:0.5}}\r\n            x={400}\r\n            y={450}\r\n            width={120}\r\n            height={56}\r\n            image={loader.resources[`guideBtn`].data}\r\n            pointertap={()=>{\r\n              setOpenGuide(true);\r\n            }}\r\n          />\r\n          <Text\r\n            text={`2021 Steve © Present`}\r\n            zIndex={2}\r\n            anchor={0.5}\r\n            x={400}\r\n            y={520}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 16,\r\n              fill:'#ffffff',\r\n            })}\r\n          />\r\n        </>\r\n      }\r\n      {openGuide&&<Guide props={{ setOpenGuide }}/>}\r\n    </>\r\n  }\r\n  </Container>\r\n}","import { createSlice } from '@reduxjs/toolkit';\r\nconst mapLimit = { x:20, y:15 };\r\nconst createTraverseLine = (traverse=0,color='')=>{\r\n  const list = [];\r\n  for(let i=0;i<mapLimit.x;i++){\r\n    list.push({\r\n      x:i,\r\n      y:traverse,\r\n      color:color,\r\n      alpha:0,\r\n      zIndex:1,\r\n      isInteractive:false\r\n    });\r\n  };\r\n  return list;\r\n};\r\nconst createStraightLine = ( method=()=>{} )=>{\r\n  const list = [];\r\n  for(let i=0;i<mapLimit.y;i++){\r\n    list.push(method(i,'0x383838'));\r\n  };\r\n  return list;\r\n};\r\nconst createInitialState = createStraightLine(createTraverseLine);\r\nconst chessMap = createSlice({\r\n  name:'chessMap',\r\n  initialState: createInitialState,\r\n  reducers:{\r\n    MoveSelect:(state, action)=>{\r\n      const { position, step, changeColor, alphaVal=1} = action.payload;\r\n      for(let i=0;i<(step+1);i++){\r\n        if(position.x+i<=(mapLimit.x-1)){\r\n          state[position.y][position.x+i].color=changeColor;\r\n          state[position.y][position.x+i].isInteractive=false;\r\n          state[position.y][position.x+i].alpha=alphaVal;\r\n          state[position.y][position.x+i].zIndex=1;\r\n        };\r\n        if(position.y+i<=(mapLimit.y-1)){\r\n          state[position.y+i][position.x].color=changeColor;\r\n          state[position.y+i][position.x].isInteractive=false;\r\n          state[position.y+i][position.x].alpha=alphaVal;\r\n          state[position.y+i][position.x].zIndex=1;\r\n        };\r\n        if(position.x-i>=0){\r\n          state[position.y][position.x-i].color=changeColor;\r\n          state[position.y][position.x-i].isInteractive=false;\r\n          state[position.y][position.x-i].alpha=alphaVal;\r\n          state[position.y][position.x-i].zIndex=1;\r\n        };\r\n        if(position.y-i>=0){\r\n          state[position.y-i][position.x].color=changeColor;\r\n          state[position.y-i][position.x].isInteractive=false;\r\n          state[position.y-i][position.x].alpha=alphaVal;\r\n          state[position.y-i][position.x].zIndex=1;\r\n        };\r\n      }\r\n    },\r\n    GetMove:(state, action)=>{\r\n      const { position, step, changeColor, currentChessPositions } = action.payload;\r\n      for(let i=0;i<(step+1);i++){\r\n        if(position.x+i<=(mapLimit.x-1)){\r\n          state[position.y][position.x+i].color=changeColor;\r\n          state[position.y][position.x+i].isInteractive=true;\r\n          state[position.y][position.x+i].alpha=0.5;\r\n          state[position.y][position.x+i].zIndex=1;\r\n        };\r\n        if(position.y+i<=(mapLimit.y-1)){\r\n          state[position.y+i][position.x].color=changeColor;\r\n          state[position.y+i][position.x].isInteractive=true;\r\n          state[position.y+i][position.x].alpha=0.5;\r\n          state[position.y+i][position.x].zIndex=1;\r\n        };\r\n        if(position.x-i>=0){\r\n          state[position.y][position.x-i].color=changeColor;\r\n          state[position.y][position.x-i].isInteractive=true;\r\n          state[position.y][position.x-i].alpha=0.5;\r\n          state[position.y][position.x-i].zIndex=1;\r\n        };\r\n        if(position.y-i>=0){\r\n          state[position.y-i][position.x].color=changeColor;\r\n          state[position.y-i][position.x].isInteractive=true;\r\n          state[position.y-i][position.x].alpha=0.5;\r\n          state[position.y-i][position.x].zIndex=1;\r\n        };\r\n      }\r\n      currentChessPositions.map(v=>{\r\n        return state[v.y][v.x].isInteractive=false;\r\n      });\r\n    },\r\n    GetAttack:(state, action)=>{\r\n      const { position, step, changeColor, currentChessPositions } = action.payload;\r\n      for(let i=0;i<(step+1);i++){\r\n        if(position.x+i<=(mapLimit.x-1)){\r\n          state[position.y][position.x+i].color=changeColor;\r\n          state[position.y][position.x+i].isInteractive=true;\r\n          state[position.y][position.x+i].alpha=0.5;\r\n          state[position.y][position.x+i].zIndex=3;\r\n        };\r\n        if(position.y+i<=(mapLimit.y-1)){\r\n          state[position.y+i][position.x].color=changeColor;\r\n          state[position.y+i][position.x].isInteractive=true;\r\n          state[position.y+i][position.x].alpha=0.5;\r\n          state[position.y+i][position.x].zIndex=3;\r\n        };\r\n        if(position.x-i>=0){\r\n          state[position.y][position.x-i].color=changeColor;\r\n          state[position.y][position.x-i].isInteractive=true;\r\n          state[position.y][position.x-i].alpha=0.5;\r\n          state[position.y][position.x-i].zIndex=3;\r\n        };\r\n        if(position.y-i>=0){\r\n          state[position.y-i][position.x].color=changeColor;\r\n          state[position.y-i][position.x].isInteractive=true;\r\n          state[position.y-i][position.x].alpha=0.5;\r\n          state[position.y-i][position.x].zIndex=3;\r\n        };\r\n      }\r\n      currentChessPositions.map(v=>{\r\n        return (\r\n          state[v.y][v.x].isInteractive=false,\r\n          state[v.y][v.x].zIndex=1\r\n        )\r\n      });\r\n    }\r\n  }\r\n});\r\nexport default chessMap.reducer;\r\nexport const { MoveSelect, GetMove, GetAttack } = chessMap.actions;\r\n","import React, {} from 'react';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\nimport { MoveSelect } from '../../reducer/map';\r\nconst texture = PIXI.Texture.WHITE;\r\nexport const CreateCheckerboard = ({\r\n  reduxProps\r\n})=>{\r\n  const { \r\n    chess, enemyChess, chessMap, currentChess, dispatch, \r\n    setTipStatus, setMoveStep, setBattleInfo\r\n  } = reduxProps;\r\n  const checkMatchAttackPosition = (x,y)=>{\r\n    let isMatch = false;\r\n    enemyChess.map(v=>{\r\n      const checkMatch = v.debut&&(x===v.x)&&(y===v.y);\r\n      if(checkMatch){\r\n        return isMatch=true;\r\n      }else return null;\r\n    });\r\n    return isMatch;\r\n  };\r\n  const getCurrentEnemy = (x,y)=>{\r\n    let item = {};\r\n    enemyChess.map((v,k)=>{\r\n      const checkMatch = v.debut&&(x===v.x)&&(y===v.y);\r\n      if(checkMatch){\r\n        return item={...v,key:k}\r\n      }else return null;\r\n    });\r\n    return item;\r\n  };\r\n  return <React.Fragment>\r\n    {chessMap.map(value=> {\r\n      return value.map((v,k)=>{\r\n        return <Sprite\r\n          interactive={v.isInteractive}\r\n          buttonMode={v.isInteractive}\r\n          zIndex={v.zIndex}\r\n          key={k}\r\n          width={40}\r\n          height={40}\r\n          x={v.x*40}\r\n          y={v.y*40}\r\n          tint={v.color}\r\n          alpha={v.alpha}\r\n          texture={texture}\r\n          pointertap={()=>{\r\n            switch (currentChess.type) {\r\n              case \"MOVE\":\r\n                setTipStatus({\r\n                  title:'確定移動?',\r\n                  status:true,\r\n                  position:{\r\n                    x:v.x, y:v.y\r\n                  }\r\n                });\r\n                dispatch(MoveSelect({\r\n                  position:{ \r\n                    x:chess[currentChess.key].x, \r\n                    y:chess[currentChess.key].y,\r\n                  },\r\n                  step:chess[currentChess.key].step,\r\n                  changeColor:'0x06d6a0',\r\n                  alphaVal:0.5\r\n                }));\r\n                break;\r\n              case \"ATTACK\":\r\n                if(checkMatchAttackPosition(v.x,v.y)){\r\n                  const targetData = getCurrentEnemy(v.x,v.y);\r\n                  setBattleInfo({\r\n                    status:true,\r\n                    attacker:{ \r\n                      key: currentChess.key,\r\n                      ...chess[currentChess.key]\r\n                    },\r\n                    target:{\r\n                      key: targetData.key,\r\n                      ...targetData\r\n                    }\r\n                  });\r\n                  dispatch(MoveSelect({\r\n                    position:{ \r\n                      x:chess[currentChess.key].x, \r\n                      y:chess[currentChess.key].y,\r\n                    },\r\n                    step:chess[currentChess.key].attack,\r\n                    changeColor:'0x383838',\r\n                    alphaVal:0\r\n                  }));\r\n                }else {\r\n                  setMoveStep(true);\r\n                  dispatch(MoveSelect({\r\n                    position:{ \r\n                      x:chess[currentChess.key].x, \r\n                      y:chess[currentChess.key].y,\r\n                    },\r\n                    step:chess[currentChess.key].acttack,\r\n                    changeColor:'0x383838',\r\n                    alphaVal:0\r\n                  }));\r\n                };\r\n                break;\r\n              default:\r\n                return;\r\n            }; \r\n          }}\r\n        />\r\n      });\r\n    })}\r\n  </React.Fragment>\r\n};","import React from 'react';\r\n// import { fromJS } from 'immutable';\r\nimport { Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { chessMove, chessMoved } from \"../../reducer/chess\";\r\nimport { MoveSelect } from '../../reducer/map';\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const ConfirmTip = ({\r\n  props,\r\n})=> {\r\n  const { \r\n    chess,\r\n    currentChess,\r\n    tipStatus,\r\n    currentBGM,\r\n    dispatch,\r\n    setMoveStep, \r\n    setTipStatus,\r\n    setOtherTab,\r\n    setRoundNum,\r\n    setUsualTip,\r\n    setFadeBGM\r\n  } = props;\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-90,-50,180,100,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Text\r\n      text={tipStatus.title}\r\n      anchor={0.5}\r\n      x={0}\r\n      y={-20}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 20,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n    />\r\n    <Text\r\n      interactive={true}\r\n      buttonMode={true}\r\n      anchor={0.5}\r\n      text={'確定'}\r\n      x={-32}\r\n      y={20}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 24,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n      pointertap={()=>{\r\n        switch (currentChess.type) {\r\n          case \"MOVE\":\r\n            dispatch(chessMove({\r\n              key: currentChess.key,\r\n              changeX:tipStatus.position.x,\r\n              changeY:tipStatus.position.y\r\n            }));\r\n            dispatch(chessMoved({\r\n              key: currentChess.key,\r\n            }));\r\n            dispatch(MoveSelect({\r\n              position:{ \r\n                x:chess[currentChess.key].x, \r\n                y:chess[currentChess.key].y,\r\n              },\r\n              step:chess[currentChess.key].step,\r\n              changeColor:'0x383838',\r\n              alphaVal:0\r\n            }));\r\n            setMoveStep(true);\r\n            setTipStatus(prev=>{\r\n              return {...prev, status:false }\r\n            });\r\n            break;\r\n          case \"ENDROUND\":\r\n            setOtherTab(false);\r\n            setRoundNum(prev=>prev+=1);\r\n            setTipStatus(prev=>{\r\n              return {...prev, status:false }\r\n            });\r\n            setUsualTip({\r\n              title:'敵方回合',\r\n              status:true\r\n            });\r\n            setFadeBGM(currentBGM);\r\n            break;\r\n          default:\r\n            return;\r\n        }\r\n      }}\r\n    />\r\n    <Text\r\n      interactive={true}\r\n      buttonMode={true}\r\n      anchor={0.5}\r\n      text={'取消'}\r\n      x={32}\r\n      y={20}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 24,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n      pointertap={()=>{\r\n        switch (currentChess.type) {\r\n          case \"MOVE\":\r\n            dispatch(MoveSelect({\r\n              position:{ \r\n                x:chess[currentChess.key].x, \r\n                y:chess[currentChess.key].y,\r\n              },\r\n              step:chess[currentChess.key].step,\r\n              changeColor:'0x383838',\r\n              alphaVal:0\r\n            }));\r\n            setMoveStep(true);\r\n            setTipStatus(prev=>{\r\n              return {...prev, status:false }\r\n            });\r\n            break;\r\n          case \"ENDROUND\":\r\n            setTipStatus(prev=>{\r\n              return {...prev, status:false }\r\n            });\r\n            break;\r\n          default:\r\n            return;\r\n        }\r\n      }}\r\n    />\r\n  </Graphics>\r\n};","import { fromJS } from \"immutable\";\r\n\r\nexport const stageRule = fromJS({\r\n  stageOne: {\r\n    debutChess:[\r\n      { \r\n        name:'Tanjirou',\r\n        x:6,\r\n        y:7\r\n      }\r\n    ],\r\n    debutEnemyChess:[\r\n      {\r\n        name:'Teoni',\r\n        x:13,\r\n        y:7\r\n      }\r\n    ],\r\n    ruleText:{\r\n      win:'擊敗手鬼。',\r\n      lose:'竃門 炭治郎 戰敗。'\r\n    },\r\n    recap:'前情提要：炭治郎與鬼殺隊士們即將與「炎柱」煉獄杏壽郎見面，並協助他殺死潛伏在無限列車上的惡鬼。今夜是無限列車出發的前一夜，炭治郎即將要與其他隊士集合...。',\r\n    story:[{\r\n        character:'Tanjirou-talk-default',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'到達車站了，想不到現在的東京已經這麼繁華，連夜晚到處都是燈光。'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(這一陣子的經歷讓禰豆子累壞了，似乎很久沒有好好睡個覺了..)'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'禰豆子，今夜就好好在旅館休息吧! 哥哥等等先去與伊之助、善逸們會合。'\r\n      },{\r\n        character:'Nezuko-talk-dodge',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'嗯...(點頭)'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'那麼我出去囉!'\r\n      },{\r\n        character:'Nezuko-talk-dodge',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'嗯嗯...(路上小心)'\r\n      },{\r\n        character:'Tanjirou-talk-default',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(步行到市區外圍)'\r\n      },{\r\n        character:'Tanjirou-talk-default',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'距離和伊之助、善逸會合還有一些時間，先來獨自修行一下吧!!'\r\n      },{\r\n        character:'Tanjirou-talk-default',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'想想至今很久沒有獨自揮刀修煉了! 真是懷念..哈哈。'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(騷動聲)..!!'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'鬼的氣味!?..好熟悉?!!'\r\n      },{\r\n        character:'Teoni-talk-default',\r\n        name:'手鬼',\r\n        color:'#9d4edd',\r\n        content:'獵鬼人?!! 真是剛好，眼前送來的食物!!'\r\n      },{\r\n        character:'Tanjirou-talk-def',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'手鬼!!!??..不是在鬼殺隊試煉的時候就擊敗他了嗎??'\r\n      },{\r\n        character:'Teoni-talk-default',\r\n        name:'手鬼',\r\n        color:'#9d4edd',\r\n        content:'看我吃了你!!!'\r\n      },{\r\n        character:'Tanjirou-talk-def',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'真是奇怪!!..究竟是怎麼回事??..從沒聽到消息說這附近出現惡鬼，而且還是死過一次的手鬼..'\r\n      },{\r\n        character:'Tanjirou-talk-attack',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'冷靜下來! 必須在這個地方打倒他!!'\r\n    }],\r\n    endStory:[{\r\n        character:'Tanjirou-talk-def',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'總算成功打倒他了!'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'手鬼看起來並不記得之前與我交手過的事..而且力量也比過往強大，想必是有什麼奇怪的事情發生了吧..'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'不知道伊之助與善逸是否平安....'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'快叫起禰豆子一起與伊之助、善逸會合吧!!....'\r\n    }],\r\n    isWin: enemyList => {\r\n      let totalLife = 0;\r\n        enemyList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    },\r\n    isLose: chessList => {\r\n      let totalLife = 0;\r\n        chessList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    }\r\n  },\r\n  stageTwo: {\r\n    debutChess:[\r\n      { \r\n        name:'Zenitsu',\r\n        x:11,\r\n        y:10\r\n      },{ \r\n        name:'Inosuke',\r\n        x:9,\r\n        y:10\r\n      }\r\n    ],\r\n    debutEnemyChess:[\r\n      {\r\n        name:'Nomanooni',\r\n        x:10,\r\n        y:5\r\n      },{\r\n        name:'Nomanooni-2',\r\n        x:8,\r\n        y:6\r\n      },{\r\n        name:'Nomanooni-3',\r\n        x:12,\r\n        y:6\r\n      }\r\n    ],\r\n    ruleText:{\r\n      win:'擊敗所有的沼鬼。',\r\n      lose:'我妻 善逸 / 嘴平 伊之助 戰敗。'\r\n    },\r\n    recap:'前情提要：無限列車行駛的前一夜晚，炭治郎碰上了曾經打敗的手鬼，並與其交戰...同一時間的附近，則是準備與炭治郎與會的伊之助與善逸。此時的周圍也散發出了不尋常的氣息...',\r\n    story:[{\r\n        character:'Zenitsu-talk-usual',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'那個..伊之助..我好像聽到甚麼奇怪的聲音..你聽見了嗎?'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'蛤? 我可是甚麼都沒看見呀!??'\r\n      },{\r\n        character:'Zenitsu-talk-usual',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'我是問你聲音呀.......'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'本大爺才不管有甚麼聲音!! 話說紋治郎到了沒呀!!'\r\n      },{\r\n        character:'Zenitsu-talk-afraid',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'哇啊啊啊啊!!!!! 奇怪的聲音又出現了，快點救我!!救救我呀!!伊之助~~~~~~~'\r\n      },{\r\n        character:'Inosuke-talk-angry',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'真是吵死了!!我甚麼東西都沒有看見啊!'\r\n      },{\r\n        character:'Zenitsu-talk-afraid',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'不!不!不!，是真的有惡鬼出現了....'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'!!!!(野獸的直覺感應到了惡鬼)'\r\n      },{\r\n        character:'Inosuke-talk-dodge',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'看來是真的有東西要來了! 快拔刀作戰吧! 真逸!'\r\n      },{\r\n        character:'Zenitsu-talk-fall',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'!@#$%!...(暈倒)'\r\n      },{\r\n        character:'Nomanooni-talk-dodge',\r\n        name:'沼鬼(壹)',\r\n        color:'#9d4edd',\r\n        content:'看起來是送上門的食物呀!!'\r\n      },{\r\n        character:'Nomanooni-talk-default',\r\n        name:'沼鬼(貳)',\r\n        color:'#9d4edd',\r\n        content:'不是年輕女子...下等的食物。'\r\n      },{\r\n        character:'Nomanooni-talk-def',\r\n        name:'沼鬼(參)',\r\n        color:'#9d4edd',\r\n        content:'別囉嗦! 快吃了他們吧!!!'\r\n      },{\r\n        character:'Inosuke-talk-def',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'有意思! 就讓本大爺來陪陪你們這些螻蟻吧!!'\r\n      },{\r\n        character:'Zenitsu-talk-default',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'雷之呼吸...(覺醒狀態)'\r\n    }],\r\n    endStory:[{\r\n        character:'Inosuke-talk-dodge',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'呼呀!!.. 還挺耐打得嘛，這些傢伙。'\r\n      },{\r\n        character:'Zenitsu-talk-default',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'....'\r\n      },{\r\n        character:'Inosuke-talk-dodge',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'做了一連串的訓練，看來還是不夠，可惡!'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'伊之助! 善逸! 你們沒事吧!?'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'啊~~ 你終於出現啦! 真治郎。'\r\n      },{\r\n        character:'Zenitsu-talk-usual',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'疑?~~ 發生甚麼事啦?! 炭治郎!??'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'太好了..看來兩位都很好呢!'\r\n      },{\r\n        character:'Nezuko-talk-dodge',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'嗯嗯!!...'\r\n      },{\r\n        character:'Zenitsu-talk-happy',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'哇!~~~ 禰豆子醬呀~ 哈哈哈哈哈!'\r\n      },{\r\n        character:'Nezuko-talk-confuse',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'~~~~~~~~'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'看來大家精神都很好呢..一起折返吧各位!!'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(想不到任務的前一日發生了這樣的意外..不知道煉獄先生是否也平安。)'\r\n      },{\r\n        character:'Hakuji-talk-default',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'又見面了呀，鬼殺隊士們。'\r\n      },{\r\n        character:'Tanjirou-talk-afraid',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'....!!!!??'\r\n    }],\r\n    isWin: enemyList => {\r\n      let totalLife = 0;\r\n        enemyList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    },\r\n    isLose: chessList => {\r\n      const Zenitsu = chessList.filter(v=>v.name===\"Zenitsu\")[0].debut;\r\n      const Inosuke = chessList.filter(v=>v.name===\"Inosuke\")[0].debut;\r\n      return (Zenitsu===false||Inosuke===false) ? true : false;\r\n    }\r\n  },\r\n  stageThree: {\r\n    debutChess:[\r\n      { \r\n        name:'Rengoku',\r\n        x:7,\r\n        y:5\r\n      }\r\n    ],\r\n    debutEnemyChess:[\r\n      {\r\n        name:'Hakuji',\r\n        x:11,\r\n        y:9\r\n      }\r\n    ],\r\n    ruleText:{\r\n      win:'擊敗猗窩座。',\r\n      lose:'煉獄 杏壽郎 戰敗。'\r\n    },\r\n    recap:'前情提要：炭治郎與鬼殺隊士們於無限列車出發的前一夜碰上了一連串奇妙的事。雖然擊敗了手鬼及沼鬼，但眼前又出現了一個比過往都還要強大的敵人...而鬼殺隊士們必須在負傷的情況下面對這場惡戰。',\r\n    story:[{\r\n        character:'Hakuji-talk-default',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'鬼殺隊的竈門炭治郎!!能夠再次遇到你這真是緣分啊，哈哈哈。'\r\n      },{\r\n        character:'Tanjirou-talk-afraid',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(他是誰?...是鬼!!!...好強烈的氣!!)'\r\n      },{\r\n        character:'Hakuji-talk-usual',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'你不記得了嗎!!?當初對我咒罵膽小鬼的人是你沒錯吧!!'\r\n      },{\r\n        character:'Tanjirou-talk-def',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'我不記得你是誰!!..但如果你是鬼的話，我就必須消滅你!!'\r\n      },{\r\n        character:'Hakuji-talk-dodge',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'哈哈哈!!那就快讓我知道你有多少能耐呀! 弱小的蟲子。'\r\n      },{\r\n        character:'Tanjirou-talk-def',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(對手不是在虛張聲勢..實力非同小可，看起來是十二鬼月等級以上的鬼..冷靜下來。)'\r\n      },{\r\n        character:'Inosuke-talk-dodge',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'(可惡呀!..這傢伙的實力可不是開玩笑的...本大爺竟然在發抖..。)'\r\n      },{\r\n        character:'Zenitsu-talk-fall',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'炭治郎...伊之助...我們死定了吧!!!!!(暈倒)'\r\n      },{\r\n        character:'Hakuji-talk-dodge',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'奇怪!?還有一隻鬼嗎??'\r\n      },{\r\n        character:'Nezuko-talk-attack',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'嗚!!.....'\r\n      },{\r\n        character:'Hakuji-talk-usual',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'竟然還有被人類訓服的鬼??真是夠了!!你們每個都別想活著離開!!!'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'休想!!! 在場的所有人，一個都不會死!!!'\r\n      },{\r\n        character:'Hakuji-talk-def',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'嗚呀!!!!!杏壽郎!!!我太開心了!!哈哈哈哈哈哈!!'\r\n      },{\r\n        character:'Hakuji-talk-def',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'這次不會再讓你白白死去，快成為鬼和我永遠戰鬥下去吧!!'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'是..是煉獄先生!?'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'哦!!竈門，快和其他人遠離這個地方，我來阻止眼前的惡鬼。'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'(好強...好強!!...)'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'好..好的煉獄先生，還請多小心。'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'哦!!! 交給我吧。'\r\n      },{\r\n        character:'Hakuji-talk-usual',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'再一次的相遇不是巧合，是命運的安排對吧!!..快成為鬼吧，杏壽郎!!!'\r\n      },{\r\n        character:'Rengoku-talk-attack',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'看來你好像認識我，不過我是不會成為鬼的，我會盡我的職責斬斷你的命，惡鬼!!'\r\n    }],\r\n    endStory:[{\r\n        character:'Rengoku-talk-last',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'嗚!!..'\r\n      },{\r\n        character:'Hakuji-talk-usual',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'沒用的!!不管怎麼砍，鬼都能夠輕易地癒合傷口，這你還不明白嗎?..杏壽郎。'\r\n      },{\r\n        character:'Rengoku-talk-dead',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'不管怎麼樣，我都會用我的生命作戰到最後一刻!!'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'煉獄先生!!!!....(不好了，這樣下去煉獄先生會喪命的)'\r\n      },{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'可惡的傢伙!!難道你還要再一次浪費成為鬼的機會嗎??'\r\n      },{\r\n        character:'Rengoku-talk-dead',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'我是炎柱!煉獄杏壽郎!!我絕對不會逃避我的職責!就算是死也一樣!!!'\r\n      },{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'嗚呀呀呀呀!!!!!...那你還是死吧!!!杏壽郎!!!!!'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'!!??...(是甚麼出現了!??)'\r\n      },{\r\n        character:'Jotaro-talk-silent',\r\n        name:'????',\r\n        color:'#00ff99',\r\n        content:'這些人看起來不像是替身使者呢。'\r\n      },{\r\n        character:'Josuke-talk-usual',\r\n        name:'????',\r\n        color:'#00ff99',\r\n        content:'是呀!但有人受傷了，可不能見死不救對吧!?'\r\n      },{\r\n        character:'Jotaro-talk-dodge',\r\n        name:'????',\r\n        color:'#00ff99',\r\n        content:'真是夠了...'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'!!??...(是甚麼人??...異國人!?...)'\r\n    }],\r\n    isWin: enemyList => {\r\n      let totalLife = 0;\r\n        enemyList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    },\r\n    isLose: chessList => {\r\n      let totalLife = 0;\r\n        chessList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    }\r\n  },\r\n  stageFour: {\r\n    debutChess:[\r\n      { \r\n        name:'Jotaro',\r\n        x:7,\r\n        y:6\r\n      },{ \r\n        name:'Josuke',\r\n        x:7,\r\n        y:8\r\n      },\r\n    ],\r\n    debutEnemyChess:[\r\n      {\r\n        name:'Hakuji',\r\n        x:13,\r\n        y:7\r\n      }\r\n    ],\r\n    ruleText:{\r\n      win:'擊敗猗窩座。',\r\n      lose:'空条承太郎 / 東方仗助 戰敗。'\r\n    },\r\n    recap:'前情提要：為了保護鬼殺隊，杏壽郎正與猗窩座進行一場殊死之戰。瀕臨死亡的杏壽郎即將使出最後的力量正面迎戰猗窩座之時，眼前出現了兩位神秘的戰士前來助陣!?..',\r\n    story:[{\r\n        character:'Hakuji-talk-attack',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'除了鬼殺隊士，竟然還有異國人?..無所謂，很快就輪到你們了。'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(這兩位的服裝真奇異，不像是劍士...不過散發出了很強大的氣..我可以感覺得到!!)'\r\n      },{\r\n        character:'Jotaro-talk-dodge',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'仗助，傷患就麻煩你了!!'\r\n      },{\r\n        character:'Josuke-talk-attack',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'好的，承太郎先生!'\r\n      },{\r\n        character:'Hakuji-talk-def',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'狂妄的傢伙!膽敢無視我的忠告。'\r\n      },{\r\n        character:'Rengoku-talk-dead',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'兩位俠客..很抱歉沒辦法成功阻止惡鬼，我的生命就快到盡頭了..請務必小心，替我保護在場所有的人，麻煩了!!'\r\n      },{\r\n        character:'Josuke-talk-dodge',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'都傷得這麼重還擔心其他人，你真是超級Great的呀!..熱血劍士~'\r\n      },{\r\n        character:'Josuke-talk-attack',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'這就讓你重生!!上吧，瘋狂鑽石!!'\r\n      },{\r\n        character:'Josuke-talk-stand',\r\n        name:'瘋狂鑽石(替身)',\r\n        color:'#00ff99',\r\n        content:'哆啦啦啦啦啦啦啦!!!!'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#9d4edd',\r\n        content:'發生了什麼事??煉獄先生!??'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'哦哦哦啊啊!!!很強的劍士復活了!!'\r\n      },{\r\n        character:'Rengoku-talk-spark',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'不可思議!!我的傷勢竟然瞬間就痊癒了..'\r\n      },{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'可惡!!!難道這兩個就是迪奧大人所說的替身使者!??'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(替身使者!?和這一連串奇怪的事情有關連嗎?)'\r\n      },{\r\n        character:'Jotaro-talk-attack',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'你說了迪奧對吧!?最糟糕的情況看來還是發生了。'\r\n      },{\r\n        character:'Josuke-talk-dodge',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'熱血劍士!接下的戰鬥就交給我和承太郎先生吧!，其他的稍後再說吧!'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'非常感謝兩位俠客的相助!!那就萬事拜託了!!'\r\n      },{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'可惡的傢伙!休想阻撓我!這可是迪奧大人賜予我再次重生的機會!!!'\r\n      },{\r\n        character:'Josuke-talk-angry',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'\b\b\b\b真是超級Great的呀!!..準備上了，承太郎先生。'\r\n      },{\r\n        character:'Jotaro-talk-def',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'真是夠了!!'\r\n    }],\r\n    endStory:[{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'咿呀呀呀呀!!!!!!!!!!!......可惡的人類!!'\r\n      },{\r\n        character:'Jotaro-talk-dodge',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'快說出迪奧的下落!吸血鬼。'\r\n      },{\r\n        character:'Hakuji-talk-dead',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'嗚...迪奧大人是無所不在的!!'\r\n      },{\r\n        character:'Hakuji-talk-def',\r\n        name:'猗窩座',\r\n        color:'#9d4edd',\r\n        content:'就算我死了!!只要迪奧大人還在，我就能夠再次重生!!..等著後悔吧，人類!..哈哈哈哈哈!(話說完後消失)'\r\n      },{\r\n        character:'Josuke-talk-def',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'呿!事情果然沒這麼輕易結束。'\r\n      },{\r\n        character:'Jotaro-talk-silent',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'真是的....'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'那..那個!非常感謝兩位!!..不過..兩位到底是什麼人呢!!'\r\n      },{\r\n        character:'Josuke-talk-usual',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'哦!!我是東方仗助，另一位則是空条承太郎先生，請多指教!'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'疑!?日本國的名字?兩位也是日本國人嗎?'\r\n      },{\r\n        character:'Josuke-talk-usual',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'哦~我們應該算是吧!我媽是日本人，承太郎先生的爸爸也是日本人。我的父親是一位曾經造訪過日本的美國人，同時他也是承太郎先生的外祖父。'\r\n      },{\r\n        character:'Tanjirou-talk-error',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'蛤#$@!!??...'\r\n      },{\r\n        character:'Jotaro-talk-default',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'總之我們是從其他的時空來的，為了找到並擊敗剛才那隻吸血鬼提到的『迪奧』而來的。'\r\n      },{\r\n        character:'Tanjirou-talk-error',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'穿越時空!?疑!??...'\r\n      },{\r\n        character:'Jotaro-talk-default',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'我想你們應該也碰到一些奇怪的事情了吧?像是遇見死去的人、擊敗過的敵人..，這一切都是受到『迪奧』的力量所造成的。'\r\n      },{\r\n        character:'Josuke-talk-dodge',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'或像是承太郎先生一樣，身體突然就回到了17歲!'\r\n      },{\r\n        character:'Jotaro-talk-silent',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'真是的..'\r\n      },{\r\n        character:'Tanjirou-talk-dodge',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'原..原來如此!怪不得我會遇見曾經被我打敗過的手鬼...，以及對於我們相當熟悉的陌生敵人!!'\r\n      },{\r\n        character:'Jotaro-talk-default',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'被復活的死著，可能會是生存在不同時間線的敵人，也許存在於過去、未來...，總之我們得快點找到『迪奧』才行。'\r\n      },{\r\n        character:'Tanjirou-talk-error',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'想不到這世界這麼的複雜..'\r\n      },{\r\n        character:'Zenitsu-talk-usual',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'疑?..炭治郎?..發生什麼事了?..這兩位是誰呀??'\r\n      },{\r\n        character:'Zenitsu-talk-usual',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'咦!!?.....(是留著奇怪髮型的人，看起來好遜!)'\r\n      },{\r\n        character:'Josuke-talk-angry',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'喂!你一直盯著我的髮型看，是不是有甚麼意見呀?我可是非常在意呢!!!'\r\n      },{\r\n        character:'Zenitsu-talk-afraid',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'啊....不不不，我什麼都沒說!!!!請放過我!!!對不起!對不起!'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'東方仗助先生、空条承太郎先生。關於你們所說的『迪奧』，主公大人也許會知道些什麼...需要的話，讓我替兩位帶路見見主公大人吧!'\r\n      },{\r\n        character:'Jotaro-talk-default',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'那就麻煩你帶路了。'\r\n      },{\r\n        character:'Nezuko-talk-dodge',\r\n        name:'竈門 禰豆子',\r\n        color:'#00ff99',\r\n        content:'嗯哼...!!'\r\n      },{\r\n        character:'Josuke-talk-def',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'...!?'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'啊!..那個..她是我的妹妹，叫做禰豆子，雖然她也是鬼..但她不會傷害人的!!'\r\n      },{\r\n        character:'Josuke-talk-usual',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'放心吧!我只是好奇她要說什麼而已，看來她暫時不能說話呢!'\r\n      },{\r\n        character:'Tanjirou-talk-worry',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'啊!!..我成為殺鬼劍士就是為了讓妹妹恢復成人類的..(原來仗助先生與承太郎先生早就知道禰豆子是鬼了...)'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'哦哦哦啊啊!!!看來又有兩個厲害的傢伙出現了!!本大爺一定會超越你們的!!'\r\n      },{\r\n        character:'Josuke-talk-attack',\r\n        name:'東方 仗助',\r\n        color:'#00ff99',\r\n        content:'哈哈!!你們可真是Great的有趣呀!!熱血劍士，快替我們帶路見見主公吧!'\r\n      },{\r\n        character:'Rengoku-talk-default',\r\n        name:'煉獄 杏壽郎',\r\n        color:'#00ff99',\r\n        content:'沒問題!!'\r\n      },{\r\n        character:'Tanjirou-talk-usual',\r\n        name:'竈門 炭治郎',\r\n        color:'#00ff99',\r\n        content:'(太好了...多虧遇上了這兩位了不起的人，拯救了我們，還有煉獄先生，真是太好了...)'\r\n      },{\r\n        character:'Inosuke-talk-default',\r\n        name:'嘴平 伊之助',\r\n        color:'#00ff99',\r\n        content:'哦哦哦啊啊!!!跟我決鬥吧!!兩個變身使者!!'\r\n      },{\r\n        character:'Zenitsu-talk-afraid',\r\n        name:'我妻 善逸',\r\n        color:'#00ff99',\r\n        content:'快住手啊!伊之助...這樣會沒命的!!'\r\n      },{\r\n        character:'Jotaro-talk-default',\r\n        name:'空条 承太郎',\r\n        color:'#00ff99',\r\n        content:'(真是夠了!..)'\r\n    }],\r\n    isWin: enemyList => {\r\n      let totalLife = 0;\r\n        enemyList.map(v => {\r\n          if(v.debut){\r\n            return totalLife += v.hp;\r\n          }return null;\r\n        });\r\n      return totalLife>0 ? false : true ;\r\n    },\r\n    isLose: chessList => {\r\n      const Jotaro = chessList.filter(v=>v.name===\"Jotaro\")[0].debut;\r\n      const Josuke = chessList.filter(v=>v.name===\"Josuke\")[0].debut;\r\n      return (Jotaro===false||Josuke===false) ? true : false;\r\n    }\r\n  }\r\n});","import React,{ useState } from 'react';\r\n// import { fromJS } from 'immutable';\r\nimport { Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport * as PIXI from \"pixi.js\";\r\n// rule\r\nimport { stageRule } from \"../../constants/stageRule\";\r\n// reducers\r\nimport { chessDone } from '../../reducer/chess';\r\nexport const UsualTip = ({\r\n  props,\r\n})=> {\r\n  const {\r\n    stageStatus, chess, currentChess, enemyChess, currentBGM, animeShow,\r\n    usualTip, setMoveStep, setUsualTip, setCurrentChess, setFadeBGM,\r\n    setEnemyRoundTab, setRoundEnd, setStageStatus, setRoundNum, setRoundStart, dispatch\r\n  } = props;\r\n    const [ textColor, setTextColor ] = useState(['#ffffff', '#ffffff']);\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-90,-50,180,100,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Text\r\n      text={usualTip.title}\r\n      anchor={0.5}\r\n      x={0}\r\n      y={-20}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 20,\r\n        fill: textColor,\r\n      })}\r\n    />\r\n    <Text\r\n      interactive={true}\r\n      buttonMode={true}\r\n      anchor={0.5}\r\n      text={'確定'}\r\n      x={0}\r\n      y={22}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 24,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n      pointertap={()=>{\r\n        switch (currentChess.type) {\r\n          case \"ATTACK\":\r\n            const checkWin = stageRule.getIn([stageStatus,'isWin']);\r\n            const checkLose = stageRule.getIn([stageStatus,'isLose']);\r\n            if(checkWin(enemyChess)){\r\n              setTextColor(['#ffffff', '#06d6a0']);\r\n              setCurrentChess({\r\n                key:0,\r\n                type:\"CHECKWIN\"\r\n              });\r\n              setUsualTip({\r\n                title:`作戰獲勝!`,\r\n                status:true,\r\n              });\r\n            }else if(checkLose(chess)){\r\n              setTextColor(['#dc2f02', '#d00000']);\r\n              setCurrentChess({\r\n                key:0,\r\n                type:\"CHECKLOSE\"\r\n              });\r\n              setUsualTip({\r\n                title:`作戰失敗!`,\r\n                status:true,\r\n              });\r\n            }else {\r\n              if(!checkLose(chess)&&(animeShow.type===\"ENEMY\")){\r\n                setUsualTip({\r\n                  title:`我方回合`,\r\n                  status:true,\r\n                });\r\n                setCurrentChess({\r\n                  key:0,\r\n                  type:\"USERROUND\"\r\n                });\r\n              }else {\r\n                setMoveStep(true);\r\n                setUsualTip({\r\n                  title:``,\r\n                  status:false,\r\n                });\r\n              };\r\n            }\r\n            break;\r\n          case \"CHECKWIN\":\r\n            setRoundEnd(true);\r\n            setTextColor(['#ffffff', '#ffffff']);\r\n            setUsualTip({\r\n              title:``,\r\n              status:false,\r\n            });\r\n            break;\r\n          case \"CHECKLOSE\":\r\n            setTextColor(['#ffffff', '#ffffff']);\r\n            setUsualTip({\r\n              title:`GAME OVER`,\r\n              status:true,\r\n            });\r\n            setCurrentChess({\r\n              key:0,\r\n              type:\"GAMEOVER\"\r\n            });\r\n            break;\r\n          case \"GAMEOVER\":\r\n            setRoundEnd(false);\r\n            setRoundStart(false);\r\n            setStageStatus('stageOne');\r\n            setFadeBGM(currentBGM);\r\n            setRoundNum(1);\r\n            dispatch(chessDone());\r\n            setUsualTip({\r\n              title:``,\r\n              status:false,\r\n            });\r\n            break;\r\n          case \"ENDROUND\":\r\n            setEnemyRoundTab({\r\n              oder:0,\r\n              status:true\r\n            });\r\n            setUsualTip({\r\n              title:``,\r\n              status:false\r\n            });\r\n            break;\r\n          case \"USERROUND\":\r\n            setFadeBGM(currentBGM);\r\n            setMoveStep(true);\r\n            setUsualTip({\r\n              title:``,\r\n              status:false\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }}\r\n    />\r\n  </Graphics>\r\n};","export const ProbabilityCount = (\r\n  attackerHit,\r\n  targetDodge\r\n)=>{\r\n  const basicHit = 100;\r\n  const hitProbability = basicHit + attackerHit - targetDodge;\r\n  const checkRamdom = Math.round(Math.random()*100 + 1);\r\n  if(hitProbability < checkRamdom) {\r\n    return false\r\n  }else return true;\r\n};","import React,{ useState } from 'react';\r\nimport { Container, Sprite, Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../DataLoader';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { ProbabilityCount } from \"../Common/ProbabilityCount\";\r\nimport { chessAttackResult, chessMoved } from \"../../reducer/chess\";\r\nimport { enemyChessDefense } from \"../../reducer/enemyChess\";\r\n\r\nexport const BattleBoard = ({ props })=>{\r\n  const { \r\n    battleInfo, roundNum, setMoveStep, setBattleInfo, setAnimeShow, setCurrentBGM, dispatch\r\n  } = props;\r\n  const [ atkSelectd, setAtkSelectd ] = useState({\r\n    key:0,\r\n  });\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  const CreateAttackerInfo = ({ pX=0, pY=0, data })=>{\r\n    return <Container x={pX} y={pY} sortableChildren={true}>\r\n      <Text\r\n        text={'攻'}\r\n        x={220}\r\n        y={0}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 30,\r\n          fill:['#ffffff', '#00ff99'],\r\n        })}\r\n      />\r\n      <Text\r\n        text={data.cn}\r\n        x={60}\r\n        y={-3}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#ffffff',\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.hp} / ${data.fullValue.hp}`}\r\n        x={60}\r\n        y={17}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#ff6b6b',\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.sp} / ${data.fullValue.sp}`}\r\n        x={60}\r\n        y={34}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#0466c8',\r\n        })}\r\n      />\r\n      <Sprite\r\n        width={50}\r\n        height={50}\r\n        x={0}\r\n        y={0}\r\n        image={loader.resources[`${data.name}-head-default`].data}\r\n      />\r\n      <Text\r\n        text={`招式選擇：`}\r\n        x={0}\r\n        y={80}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#ffffff',\r\n        })}\r\n      />\r\n      <Graphics\r\n        x={0}\r\n        y={115}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.lineStyle(1,`0xffffff`,1);\r\n          g.beginFill(`0x0f0f1b`);\r\n          g.drawRoundedRect(0,0,240,180,8);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      {data.skill.map((value,key)=>{\r\n        const isCD = roundNum >= value.cd;\r\n        const skillCanUse = (data.sp - value.sp >= 0) && isCD;\r\n        return <React.Fragment key={key}>\r\n          <Text\r\n            zIndex={2}\r\n            interactive={skillCanUse}\r\n            buttonMode={true}\r\n            text={value.name}\r\n            x={18}\r\n            y={130+(key*32)}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 22,\r\n              fill: ((atkSelectd.key===key)&&skillCanUse) ? ['#ffffff', '#00ff99'] :  \r\n                skillCanUse ? '#ffffff' : '#8d99ae',\r\n              fontWeight: (atkSelectd.key===key) ? 600 : 300\r\n            })}\r\n            pointertap={()=>setAtkSelectd({\r\n              key: key\r\n            })}\r\n          />\r\n        </React.Fragment>\r\n      })}\r\n    </Container>\r\n  };\r\n  const CreateTargetInfo = ({ pX=0, pY=0, data })=>{\r\n    return <Container x={pX} y={pY} sortableChildren={true}>\r\n      <Text\r\n        text={'防'}\r\n        x={0}\r\n        y={0}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 30,\r\n          fill:['#ffffff', '#ee6c4d'],\r\n        })}\r\n      />\r\n      <Text\r\n        text={data.cn}\r\n        anchor={{x:1,y:0}}\r\n        x={190}\r\n        y={-3}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#ffffff',\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.hp} / ${data.fullValue.hp}`}\r\n        anchor={{x:1,y:0}}\r\n        x={190}\r\n        y={17}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#ff6b6b',\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.sp} / ${data.fullValue.sp}`}\r\n        anchor={{x:1,y:0}}\r\n        x={190}\r\n        y={34}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:'#0466c8',\r\n        })}\r\n      />\r\n      <Sprite\r\n        width={50}\r\n        height={50}\r\n        x={200}\r\n        y={0}\r\n        image={loader.resources[`${filterCopyChessName(data.name)}-head-default`].data}\r\n      />\r\n    </Container>\r\n  };\r\n  const ForecastInfo = ({ pX, pY, data })=>{\r\n    return <Container x={pX} y={pY} sortableChildren={true}>\r\n      <Graphics\r\n        x={0}\r\n        y={0}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.lineStyle(1,`0x00ff99`,1);\r\n          g.beginFill(`0x0f0f1b`);\r\n          g.drawRoundedRect(0,0,265,215,8);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Text\r\n        text={`招式：`}\r\n        zIndex={2}\r\n        x={20}\r\n        y={20}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.attacker.skill[atkSelectd.key].name}`}\r\n        zIndex={2}\r\n        x={80}\r\n        y={21}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#00ff99'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`攻擊力：`}\r\n        zIndex={2}\r\n        x={20}\r\n        y={50}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.attacker.skill[atkSelectd.key].atk}`}\r\n        zIndex={2}\r\n        x={100}\r\n        y={50}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#fdc500'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`命中率：`}\r\n        zIndex={2}\r\n        x={20}\r\n        y={80}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${\r\n          100 +\r\n          ((data.attacker.skill[atkSelectd.key].hitfix - data.target.dodge)>=0 ? 0 :\r\n            (data.attacker.skill[atkSelectd.key].hitfix - data.target.dodge))\r\n        }%`}\r\n        zIndex={2}\r\n        x={100}\r\n        y={80}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`消耗：`}\r\n        zIndex={2}\r\n        x={20}\r\n        y={110}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      <Text\r\n        text={`${data.attacker.skill[atkSelectd.key].sp}`}\r\n        zIndex={2}\r\n        x={80}\r\n        y={110}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#0466c8'\r\n        })}\r\n      />\r\n    </Container>\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-300,-200,600,400,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <CreateAttackerInfo\r\n      pX={-270}\r\n      pY={-180}\r\n      data={battleInfo.attacker}\r\n    />\r\n    <CreateTargetInfo\r\n      pX={20}\r\n      pY={-180}\r\n      data={battleInfo.target}\r\n    />\r\n    <ForecastInfo\r\n      pX={0}\r\n      pY={-100}\r\n      data={battleInfo}\r\n    />\r\n    <Text\r\n      interactive={true}\r\n      buttonMode={true}\r\n      text={'攻擊'}\r\n      anchor={0.5}\r\n      x={165}\r\n      y={160}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 28,\r\n        fill:'#ffffff',\r\n      })}\r\n      pointertap={()=>{\r\n        setCurrentBGM(battleInfo.attacker.name);\r\n        const isHit = ProbabilityCount(\r\n          battleInfo.attacker.skill[atkSelectd.key].hitfix,\r\n          battleInfo.target.dodge\r\n        );\r\n        dispatch(chessAttackResult({\r\n          key: battleInfo.attacker.key,\r\n          lessSp: battleInfo.attacker.skill[atkSelectd.key].sp\r\n        }));\r\n        dispatch(chessMoved({\r\n          key: battleInfo.attacker.key,\r\n        }));\r\n        if(isHit){\r\n          dispatch(enemyChessDefense({\r\n            key: battleInfo.target.key,\r\n            damage: battleInfo.attacker.skill[atkSelectd.key].atk\r\n          }));\r\n        };\r\n        setAnimeShow({\r\n          status:true,\r\n          type:'USER',\r\n          isHit: isHit,\r\n          attacker:{ \r\n            key:battleInfo.attacker.key,\r\n            skill:battleInfo.attacker.skill[atkSelectd.key],\r\n            prevSP:battleInfo.attacker.sp\r\n          },\r\n          target:{ \r\n            key:battleInfo.target.key,\r\n            isHit:isHit,\r\n            prevLife:battleInfo.target.hp\r\n          }\r\n        });\r\n        setBattleInfo({\r\n          status:false,\r\n          attacker:{ key:'' },\r\n          target:{ key:'' }\r\n        });\r\n      }}\r\n    />\r\n    <Text\r\n      interactive={true}\r\n      buttonMode={true}\r\n      text={'取消'}\r\n      anchor={0.5}\r\n      x={240}\r\n      y={160}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 28,\r\n        fill:'#ffffff',\r\n      })}\r\n      pointertap={()=>{\r\n        setMoveStep(true);\r\n        setBattleInfo({\r\n          status:false,\r\n          attacker:{ key:'' },\r\n          target:{ key:'' }\r\n        })\r\n      }}\r\n    />\r\n  </Graphics>\r\n};","import React from 'react';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { loader } from '../../DataLoader';\r\n\r\nexport const AnimeShowBG = ({\r\n  props,\r\n})=>{\r\n  const { stageStatus, BGstatus, BGprop, SkBGprop, \r\n    setSkBGpops, setBGpops } = props;\r\n  const filterBackgroundImg = (stageStatus)=>{\r\n    switch (stageStatus){\r\n      case 'stageTwo':\r\n      case 'stageFour':\r\n        return 'stageOne';\r\n      default:\r\n        return stageStatus;\r\n    };\r\n  };\r\n  return <>\r\n    {BGstatus.type==='STOP'&&<Sprite\r\n      x={-400}\r\n      y={-100}\r\n      zIndex={1}\r\n      width={1600}\r\n      height={500}\r\n      anchor={0.5}\r\n      image={loader.resources[`${filterBackgroundImg(stageStatus)}-BG`].data}\r\n    />}\r\n    {BGstatus.type==='STANDBY'&&<Spring\r\n      from={{ x:-400, y:-100 }}\r\n      to={{ x: BGprop.toX, y:-100 }}\r\n      config={{ duration: BGprop.duration }}\r\n      onRest={()=>{\r\n        if(BGprop.toX===-400){\r\n          setBGpops({\r\n            toX:400,\r\n            duration: 20000\r\n          });\r\n        }else {\r\n          setBGpops({\r\n            toX:-400,\r\n            duration:-1000\r\n          });\r\n        };\r\n      }}\r\n    >\r\n      {props => \r\n        <Sprite\r\n          zIndex={1}\r\n          width={1600}\r\n          height={500}\r\n          anchor={0.5}\r\n          image={loader.resources[`${filterBackgroundImg(stageStatus)}-BG`].data}\r\n          {...props}\r\n      />}\r\n    </Spring>}\r\n    {BGstatus.type==='ENEMYSTANDBY'&&<Spring\r\n      from={{ x:400, y:-100 }}\r\n      to={{ x: -BGprop.toX, y:-100 }}\r\n      config={{ duration: BGprop.duration }}\r\n      onRest={()=>{\r\n        if(-BGprop.toX===400){\r\n          setBGpops({\r\n            toX:400,\r\n            duration: 20000\r\n          });\r\n        }else {\r\n          setBGpops({\r\n            toX:-400,\r\n            duration:-1000\r\n          });\r\n        };\r\n      }}\r\n    >\r\n      {props => \r\n        <Sprite\r\n          zIndex={1}\r\n          width={1600}\r\n          height={500}\r\n          anchor={0.5}\r\n          image={loader.resources[`${filterBackgroundImg(stageStatus)}-BG`].data}\r\n          {...props}\r\n      />}\r\n    </Spring>}\r\n    {BGstatus.type==='SKILL'&&<Spring\r\n      from={{ x:-400, y:-100 }}\r\n      to={{ x: SkBGprop.toX, y:-100 }}\r\n      config={{ duration: SkBGprop.duration }}\r\n      onRest={()=>{\r\n        if(SkBGprop.toX===-400){\r\n          setSkBGpops({\r\n            toX:400,\r\n            duration: 500\r\n          });\r\n        }else {\r\n          setSkBGpops({\r\n            toX:-400,\r\n            duration:-1000\r\n          });\r\n        };\r\n      }}\r\n    >\r\n      {props => \r\n        <Sprite\r\n          zIndex={1}\r\n          width={1600}\r\n          height={500}\r\n          anchor={0.5}\r\n          image={loader.resources[`${filterBackgroundImg(stageStatus)}-BG`].data}\r\n          {...props}\r\n      />}\r\n    </Spring>}\r\n    {BGstatus.type==='ENEMYSKILL'&&<Spring\r\n      from={{ x:400, y:-100 }}\r\n      to={{ x: -SkBGprop.toX, y:-100 }}\r\n      config={{ duration: SkBGprop.duration }}\r\n      onRest={()=>{\r\n        if(-SkBGprop.toX===400){\r\n          setSkBGpops({\r\n            toX:400,\r\n            duration: 500\r\n          });\r\n        }else {\r\n          setSkBGpops({\r\n            toX:-400,\r\n            duration:-1000\r\n          });\r\n        };\r\n      }}\r\n    >\r\n      {props => \r\n        <Sprite\r\n          zIndex={1}\r\n          width={1600}\r\n          height={500}\r\n          anchor={0.5}\r\n          image={loader.resources[`${filterBackgroundImg(stageStatus)}-BG`].data}\r\n          {...props}\r\n      />}\r\n    </Spring>}\r\n  </>\r\n};","import React from 'react';\r\nimport { Container, Sprite, Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { loader } from '../../DataLoader';\r\nexport const TopBar = ({\r\n  right={},\r\n  left={},\r\n  showType='',\r\n  targetHp=0,\r\n  attackerSp=0\r\n})=> {\r\n  const hpBarCount = (hp,full)=>{\r\n    const leftVal =  Number(full) - Number(hp);\r\n    const percentage = Number(full) / 200;\r\n    const result = leftVal / percentage;\r\n    return result;\r\n  };\r\n  const spBarCount = (sp,full)=>{\r\n    const leftVal =  Number(full) - Number(sp);\r\n    const percentage = Number(full) / 100;\r\n    const result = leftVal / percentage;\r\n    return result;\r\n  };\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  return <Graphics \r\n    x={-400}\r\n    y={-300}\r\n    zIndex={98}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x000f23`);\r\n      g.drawRoundedRect(0,0,800,80,0);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Sprite\r\n        width={42}\r\n        height={42}\r\n        x={370}\r\n        y={40}\r\n        anchor={0.5} \r\n        image={loader.resources[`${showType===\"USER\" ? 'defIcon' : 'atkIcon' }`].data}\r\n      />\r\n      <Sprite\r\n        width={42}\r\n        height={42}\r\n        x={420}\r\n        y={40}\r\n        anchor={0.5} \r\n        image={loader.resources[`${showType===\"USER\" ? 'atkIcon' : 'defIcon' }`].data}\r\n      />\r\n      {/* left */}\r\n      <Sprite\r\n        width={50}\r\n        height={50}\r\n        x={50}\r\n        y={15}\r\n        image={loader.resources[`${filterCopyChessName(left.name)}-head-default`].data}\r\n      />\r\n      <Text \r\n        text={`${showType===\"USER\"?targetHp:left.hp} / ${left.fullValue.hp}`}\r\n        anchor={{x:1,y:0}} \r\n        x={320} y={10}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#e71d36',\r\n        })}/>\r\n      <Graphics\r\n        x={320} y={35}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0xe71d36`);\r\n          g.drawRoundedRect(0,0,-200,10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Graphics\r\n        x={320} y={35}\r\n        zIndex={2}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x333533`);\r\n          g.drawRoundedRect(-200,0,hpBarCount(showType===\"USER\"?targetHp:left.hp,left.fullValue.hp),10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Text \r\n        text={`${showType===\"USER\"? left.sp : attackerSp} / ${left.fullValue.sp}`}\r\n        anchor={{x:1,y:0.3}} \r\n        x={210} y={55}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#4A86E8',\r\n        })}/>\r\n      <Graphics\r\n        x={320} y={55}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x4A86E8`);\r\n          g.drawRoundedRect(0,0,-100,10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Graphics\r\n        x={220} y={55}\r\n        zIndex={2}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x333533`);\r\n          g.drawRoundedRect(0,0,spBarCount(showType===\"USER\"?left.sp:attackerSp,left.fullValue.sp),10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      {/* right */}\r\n      <Sprite\r\n        width={50}\r\n        height={50}\r\n        x={690}\r\n        y={15}\r\n        image={loader.resources[`${filterCopyChessName(right.name)}-head-default`].data}\r\n      />\r\n      <Text \r\n        text={`${showType===\"USER\"?right.hp:targetHp} / ${right.fullValue.hp}`}\r\n        anchor={{x:1,y:0}} \r\n        x={670} y={10}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#e71d36',\r\n        })}/>\r\n      <Graphics\r\n        x={670} y={35}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0xe71d36`);\r\n          g.drawRoundedRect(0,0,-200,10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Graphics\r\n        x={670} y={35}\r\n        zIndex={2}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x333533`);\r\n          g.drawRoundedRect(-200,0,hpBarCount(showType===\"USER\"?right.hp:targetHp,right.fullValue.hp),10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Text \r\n        text={`${showType===\"USER\"? attackerSp : right.sp} / ${right.fullValue.sp}`}\r\n        anchor={{x:1,y:0.3}} \r\n        x={560} y={55}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#4A86E8',\r\n        })}/>\r\n      <Graphics\r\n        x={670} y={55}\r\n        zIndex={1}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x4A86E8`);\r\n          g.drawRoundedRect(0,0,-100,10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n      <Graphics\r\n        x={570} y={55}\r\n        zIndex={2}\r\n        draw={g=> {\r\n          g.clear();\r\n          g.beginFill(`0x333533`);\r\n          g.drawRoundedRect(0,0,spBarCount(showType===\"USER\"?attackerSp:right.sp,right.fullValue.sp),10,0);\r\n          g.endFill();\r\n        }}\r\n      />\r\n    </Container>\r\n  </Graphics>\r\n};","import { fromJS } from \"immutable\";\r\nexport const lines = fromJS({\r\n  'Tanjirou': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '我要成為強者，用強者的力量去保護弱者。',\r\n      '無論鬼奪走多少生命，人類的意志是怎樣都不會被打敗！'\r\n    ],\r\n    dodge:[\r\n      '危險!!',\r\n      '冷靜下來! 可以戰勝的。'\r\n    ],\r\n    def:[\r\n      '鬼殺隊不會被一點小傷給打倒!',\r\n      '不好了! 調整呼吸。'\r\n    ],\r\n    dead:[\r\n      '對不起....鱗瀧師傅..',\r\n      '禰豆子...'\r\n    ]\r\n  },\r\n  'Nezuko': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '......!!(人類是家人)',\r\n      '......!!(打倒惡鬼)'\r\n    ],\r\n    dodge:[\r\n      '......!!(危險)',\r\n      '......!!(沒事的)'\r\n    ],\r\n    def:[\r\n      '......!!(危險)',\r\n      '......!!(沒事的)'\r\n    ],\r\n    dead:[\r\n      '......!?',\r\n      '.....(哥哥)'\r\n    ]\r\n  },\r\n  'Zenitsu': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '雷之呼吸...',\r\n      '雷之呼吸!!'\r\n    ],\r\n    dodge:[\r\n      '!!(呼吸)',\r\n      '..!!'\r\n    ],\r\n    def:[\r\n      '!!(調整呼吸)',\r\n      '..!!'\r\n    ],\r\n    dead:[\r\n      '....',\r\n      '....(再見了,爺爺)',\r\n    ]\r\n  },\r\n  'Inosuke':{\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '獸之呼吸...突豬猛進!!',\r\n      '讓你知道本大爺的厲害!!'\r\n    ],\r\n    dodge:[\r\n      '哈哈!! 根本不是本大爺的對手。',\r\n      '這點程度根本無法打敗我!!'\r\n    ],\r\n    def:[\r\n      '哼!..想打敗本大爺我還早的很!!',\r\n      '終於來個像樣的對手了。'\r\n    ],\r\n    dead:[\r\n      '唔....可惡啊!!...',\r\n      '想不到...本大爺竟然輸了...',\r\n    ]\r\n  },\r\n  'Rengoku': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '我是炎柱 我會盡我的職責到最後一刻!!',\r\n      '在場的人，一個都不會死!!'\r\n    ],\r\n    dodge:[\r\n      '看來我們的目標不同!',\r\n      '柱，可不會輕易被打敗!'\r\n    ],\r\n    def:[\r\n      '柱，可不會輕易被打敗!',\r\n      '就算受了傷，我也會繼續戰鬥下去!!'\r\n    ],\r\n    dead:[\r\n      '母親大人....身為您的孩子是我的榮幸。',\r\n      '我要保護所有人，直到最後一刻....',\r\n    ]\r\n  },\r\n  'Jotaro': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '真是的..',\r\n      '白金之星!!'\r\n    ],\r\n    dodge:[\r\n      '真是的..',\r\n      '...!!'\r\n    ],\r\n    def:[\r\n      '真是的..',\r\n      '呿..!!'\r\n    ],\r\n    dead:[\r\n      '呿.....',\r\n      '這樣就輸了嗎!?.......',\r\n    ]\r\n  },\r\n  'Josuke': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '嘿嘿~這可真是超級Great的呀!',\r\n      '瘋狂鑽石!!'\r\n    ],\r\n    dodge:[\r\n      '真危險~',\r\n      '哈~Lucky!'\r\n    ],\r\n    def:[\r\n      '一點小傷!',\r\n      '就這是你全部的計畫了嗎?'\r\n    ],\r\n    dead:[\r\n      '噫..不好了!',\r\n      '嗚!?...糟了....',\r\n    ]\r\n  },\r\n  'Teoni': {\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '獵鬼人是最上等的食物!!',\r\n      '看我吃了你!!'\r\n    ],\r\n    dodge:[\r\n      '沒用沒用 哈哈哈哈!',\r\n      '就這點程度嗎? 可悲的劍士。'\r\n    ],\r\n    def:[\r\n      '不久就輪到你的死期了!',\r\n      '我會吃了你!!'\r\n    ],\r\n    dead:[\r\n      '甚麼!?.....我竟然會死在獵鬼人手上.....',\r\n      '甚麼!?.....我竟然會死在獵鬼人手上.....'\r\n    ]\r\n  },\r\n  'Nomanooni':{\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '區區的獵鬼人，別想阻止我!!',\r\n      '上等的年輕女子，再不吃就來不及了!!'\r\n    ],\r\n    dodge:[\r\n      '嘰嘰嘰嘰嘰嘰!!!!!',\r\n      '嘻嘻嘻嘻嘿嘿嘿嘿!!'\r\n    ],\r\n    def:[\r\n      '我要吃光你的骨頭!!',\r\n      '我會殺了你!!'\r\n    ],\r\n    dead:[\r\n      '可惡可惡可惡可惡!!!!.....',\r\n      '嗚啊啊啊啊啊!?.......'\r\n    ]\r\n  },\r\n  'Hakuji':{\r\n    default:[\r\n      '(備戰中)',\r\n      '(備戰中)'\r\n    ],\r\n    attack:[\r\n      '不變成鬼就殺了你吧!!',\r\n      '弱小的東西沒有存活的必要!!'\r\n    ],\r\n    dodge:[\r\n      '這就是你的極限了嗎?',\r\n      '快點向我進攻呀!'\r\n    ],\r\n    def:[\r\n      '哈哈，這就對了!',\r\n      '不管怎麼攻擊，對我的不死之身都是沒用的。'\r\n    ],\r\n    dead:[\r\n      '甚麼!?......身為上弦是不可能被擊敗的!!',\r\n      '可惡呀!!!.....竟然被區區的人類擊敗!!.....'\r\n    ]\r\n  }\r\n});","import React, { useState } from 'react';\r\nimport { Container, Graphics, Sprite, Text } from '@inlet/react-pixi/animated';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { loader } from '../../DataLoader';\r\nimport { lines } from \"../../../constants/lines\";\r\nexport const BottomBar = ({\r\n  right={},\r\n  left={},\r\n  linesStatus={}\r\n})=> {\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  const showCharacter = linesStatus.character===\"USER\" ? right.name : left.name;\r\n  const randomSize = lines.getIn([filterCopyChessName(showCharacter),linesStatus.status]).size-1;\r\n  const [ random ] = useState(Math.round(Math.random()*randomSize));\r\n  return <Graphics \r\n    x={-400}\r\n    y={150}\r\n    zIndex={98}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x000f23`);\r\n      g.drawRoundedRect(0,0,800,150,0);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Sprite\r\n        width={100}\r\n        height={100}\r\n        x={50}\r\n        y={25}\r\n        image={loader.resources[`${filterCopyChessName(showCharacter)}-talk-${linesStatus.status}`].data}\r\n      />\r\n      <Text \r\n        text={lines.getIn([filterCopyChessName(showCharacter),linesStatus.status,random])}\r\n        anchor={{x:0,y:0}} \r\n        x={170} y={60}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#ffff',\r\n        })}/>\r\n    </Container>\r\n  </Graphics>\r\n};","import React,{ useState, useEffect } from \"react\";\r\nexport const SkillShowProtoType = ({\r\n  skillName,\r\n  attackerName,\r\n  isHit,\r\n  targetLife,\r\n  attackerSp,\r\n  resultLife,\r\n  resultSp,\r\n  BGstatus,\r\n  setBGstatus,\r\n  setAnimeIsDone,\r\n  setTargetHp,\r\n  setAttackerSp,\r\n  setLinesStatus,\r\n  setShowSkill,\r\n  defXPostion,\r\n  steps,\r\n  ShowType\r\n})=>{\r\n  const [ position, setPosition ] = useState({ x:0, y:0, tint:0xffffff, alpha:1, mass:1, friction:20, tension:170 });\r\n  // def\r\n  useEffect(()=>{\r\n    if(BGstatus.defence && skillName==='防禦'){\r\n      const timeout = steps({\r\n        skillName:skillName,\r\n        isHit:isHit,\r\n        BGstatus:BGstatus,\r\n        resultLife:resultLife,\r\n        setAnimeIsDone:setAnimeIsDone,\r\n        setLinesStatus:setLinesStatus,\r\n        setPosition:setPosition,\r\n      });\r\n      return ()=> clearTimeout(timeout);\r\n    };\r\n  },[ BGstatus, skillName, isHit, resultLife, setAnimeIsDone, steps, setLinesStatus ])\r\n  // atk\r\n  useEffect(()=>{\r\n    if(skillName==='防禦'){ \r\n      setPosition(prev=>{return{ ...prev, x: defXPostion, y:10 }});\r\n      return;\r\n    };\r\n    const timeout = steps({\r\n      skillName:skillName,\r\n      isHit:isHit,\r\n      targetLife:targetLife,\r\n      attackerSp:attackerSp,\r\n      resultLife:resultLife,\r\n      resultSp:resultSp,\r\n      setBGstatus:setBGstatus,\r\n      setTargetHp:setTargetHp,\r\n      setAttackerSp:setAttackerSp,\r\n      setLinesStatus:setLinesStatus,\r\n      setShowSkill:setShowSkill,\r\n      setPosition:setPosition\r\n    });\r\n    return ()=> clearTimeout(timeout);\r\n  },[ skillName, isHit, targetLife, attackerSp, resultLife, resultSp,\r\n    setBGstatus, setTargetHp, setAttackerSp, defXPostion, steps, setLinesStatus, setShowSkill ]);\r\n  return <ShowType\r\n    skillName={skillName}\r\n    attackerName={attackerName}\r\n    position={position}\r\n  />\r\n};\r\n","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '叄之型―流流舞':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '捌之型―滝壺':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n      case '拾之型―生生流轉':\r\n        setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n        setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n        const skill4atkStart = ()=>{\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n          // callback\r\n          return skill4step1();\r\n        };\r\n        const skill4step1 = ()=>{\r\n          const timeout = setTimeout(() => {\r\n            setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n            setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n            // callback\r\n            skill4step2();\r\n          },3000);\r\n          return timeout;\r\n        };\r\n        const skill4step2 = ()=>{\r\n          const run =  { number: attackerSp };\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultSp,\r\n            onUpdate: () => {\r\n              setAttackerSp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n          setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n          setShowSkill(prev=>{\r\n            const video = videos[`${prev.name}`].skill4.baseTexture.resource.source;\r\n            video.play();\r\n            return { ...prev, \r\n              status:true, \r\n              type:'4',\r\n              callback:()=>{\r\n                setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n                setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n                skill4step3();\r\n              }\r\n            };\r\n          });\r\n        };\r\n        const skill4step3 = ()=>{\r\n          const run = { number: targetLife };\r\n          if(isHit) {\r\n            TweenMax.to(run, 0.8, {\r\n              number: resultLife<0 ? 0 : resultLife,\r\n              onUpdate: () => {\r\n                setTargetHp(numeral(run.number).format(\"0\"))\r\n              },\r\n            });\r\n          };\r\n          const timeout = setTimeout(() => {\r\n            setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n          },3000);\r\n          return timeout;\r\n        };\r\n        return skill4atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `斬擊`:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight-typeA`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight-typeA`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight-typeA`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const TanjirouSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '踢擊':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const NezukoSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '壹之型―霹靂一閃':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '壹之型―霹靂一閃六連':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `斬擊`:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={200}\r\n          height={200}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const ZenitsuSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '壹之牙―穿透刺射?':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '貳之牙―利刃對劈':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    case '叄之牙―獠牙撕扯':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill4atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill4step1();\r\n      };\r\n      const skill4step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill4step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill4step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill4.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'4',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill4step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill4step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill4atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `斬擊`:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={250}\r\n          height={250}\r\n          anchor={{x:0.5,y:0.6}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={250}\r\n          height={250}\r\n          anchor={{x:0.5,y:0.6}}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={250}\r\n          height={250}\r\n          anchor={{x:0.5,y:0.6}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const InosukeSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '壹之型―不知火':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '肆之型―盛炎的蜿蜒':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    case '伍之型―炎虎':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill4atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill4step1();\r\n      };\r\n      const skill4step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill4step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill4step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill4.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'4',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill4step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill4step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill4atkStart();\r\n    case '玖之型―煉獄':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill5atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill5step1();\r\n      };\r\n      const skill5step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill5step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill5step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill5.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'5',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill5step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill5step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill5atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `斬擊`:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={300}\r\n          height={300}\r\n          anchor={{x:0.5,y:0.6}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={300}\r\n          height={300}\r\n          anchor={{x:0.5,y:0.6}}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={300}\r\n          height={300}\r\n          anchor={{x:0.5,y:0.6}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const RengokuSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '白金之星':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '白金之星―時間暫停':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={280}\r\n          height={350}\r\n          anchor={{x:0.5,y:0.72}}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={280}\r\n          height={350}\r\n          anchor={{x:0.5,y:0.72}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const JotaroSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  // 技能動畫:\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:200, y:50, tension:100 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:50, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:250, y:0 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:200, y:50, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '瘋狂鑽石':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '瘋狂鑽石―攻防交替':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:-100, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:-400, y:50, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    default:\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:550,y:50,tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:250, y:50, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, y:50, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-250, y:50, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:550, y:50, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case `防禦`:\r\n      return <Spring\r\n        from={{ x:650, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={250}\r\n          height={350}\r\n          anchor={{x:0.5,y:0.72}}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:550, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={250}\r\n          height={350}\r\n          anchor={{x:0.5,y:0.72}}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    };\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const JosukeSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={550}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};","import React from \"react\";\r\nimport { TanjirouSkill } from \"./Tanjirou/Index\";\r\nimport { NezukoSkill } from \"./Nezuko/Index\";\r\nimport { ZenitsuSkill } from \"./Zenitsu/Index\";\r\nimport { InosukeSkill } from \"./Inosuke/Index\"\r\nimport { RengokuSkill } from \"./Rengoku/Index\";\r\nimport { JotaroSkill } from \"./Jotaro/Index\";\r\nimport { JosukeSkill } from \"./Josuke/Index\";\r\nexport const ChessSkillShow = ({\r\n  attacker={},\r\n  skill={},\r\n  BGstatus,\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  setBGstatus,\r\n  setAnimeIsDone,\r\n  setTargetHp,\r\n  setAttackerSp,\r\n  setLinesStatus,\r\n  setShowSkill\r\n})=>{\r\n  const defaultprops = {\r\n    skillName: skill.name,\r\n    attackerName: attacker.name,\r\n    isHit: isHit,\r\n    targetLife: targetLife,\r\n    attackerSp: attackerSp,\r\n    resultLife: resultLife,\r\n    resultSp: resultSp,\r\n    BGstatus: BGstatus,\r\n    setBGstatus: setBGstatus,\r\n    setAnimeIsDone: setAnimeIsDone,\r\n    setTargetHp: setTargetHp,\r\n    setAttackerSp: setAttackerSp,\r\n    setLinesStatus: setLinesStatus,\r\n    setShowSkill: setShowSkill\r\n  }\r\n  switch (attacker.name) {\r\n    case `Tanjirou`:\r\n      return <TanjirouSkill {...defaultprops}/>\r\n    case `Nezuko`:\r\n      return <NezukoSkill {...defaultprops}/>\r\n    case `Zenitsu`:\r\n      return <ZenitsuSkill {...defaultprops}/>\r\n    case `Inosuke`:\r\n      return <InosukeSkill {...defaultprops}/>\r\n    case `Rengoku`:\r\n      return <RengokuSkill {...defaultprops}/>\r\n    case `Jotaro`:\r\n      return <JotaroSkill {...defaultprops}/>\r\n    case `Josuke`:\r\n      return <JosukeSkill {...defaultprops}/>\r\n    default:\r\n      return;\r\n  };\r\n};\r\n\r\n","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:-200, tension:150 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:20, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      }\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:-10 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    default:\r\n      setBGstatus({ type:'ENEMYSTANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:-600, tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{\r\n          return{ ...prev, x:-200, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'ENEMYSKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:175, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-600, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case '防禦':\r\n      return <Spring\r\n        from={{ x:-600, y:10 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass: position.mass,\r\n          tension: position.tension,\r\n          friction: position.friction,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={300}\r\n          height={300}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:-600, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={300}\r\n          height={300}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n  }\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const TeoniSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={-600}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};\r\n","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nimport { videos } from '../../../components/DataLoader';\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:-200, tension:150 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:20, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      }\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:-10 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    case '破壞殺―亂式':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:-600, tension:100 }});\r\n      const skill2atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:-200, tension:100 }});\r\n        // callback\r\n        return skill2step1();\r\n      };\r\n      const skill2step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill2step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill2step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill2.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'2',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:400, tension:1000 }});\r\n              skill2step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill2step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-600, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill2atkStart();\r\n    case '術式展開―破壞殺―羅針':\r\n      setBGstatus({ type:'STANDBY', defence:false, seconds:0 });\r\n      setPosition(prev=>{return{ ...prev, x:-600, tension:100 }});\r\n      const skill3atkStart = ()=>{\r\n        setPosition(prev=>{return{ ...prev, x:-200, tension:100 }});\r\n        // callback\r\n        return skill3step1();\r\n      };\r\n      const skill3step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'SKILL' }});\r\n          // callback\r\n          skill3step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const skill3step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        setShowSkill(prev=>{\r\n          const video = videos[`${prev.name}`].skill3.baseTexture.resource.source;\r\n          video.play();\r\n          return { ...prev, \r\n            status:true, \r\n            type:'3',\r\n            callback:()=>{\r\n              setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n              setPosition(prev=>{return{ ...prev, x:400, tension:1000 }});\r\n              skill3step3();\r\n            }\r\n          };\r\n        });\r\n      };\r\n      const skill3step3 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-600, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return skill3atkStart();\r\n    default:\r\n      setBGstatus({ type:'ENEMYSTANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:-600, tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{\r\n          return{ ...prev, x:-200, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'ENEMYSKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:175, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-600, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  switch (skillName) {\r\n    case '防禦':\r\n      return <Spring\r\n        from={{ x:-600, y:10 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass: position.mass,\r\n          tension: position.tension,\r\n          friction: position.friction,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={250}\r\n          height={250}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:-600, y:50 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={250}\r\n          height={250}\r\n          anchor={0.5}\r\n          image={loader.resources[`${attackerName}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n  }\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const HakujiSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={-600}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};\r\n","import { TweenMax } from 'gsap';\r\nimport numeral from \"numeral\";\r\nexport const steps = ({\r\n  skillName='',\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  BGstatus={},\r\n  setBGstatus=null,\r\n  setAnimeIsDone=null,\r\n  setTargetHp=null,\r\n  setAttackerSp=null,\r\n  setLinesStatus=null,\r\n  setPosition=null,\r\n  setShowSkill=null\r\n}) => {\r\n  switch (skillName) {\r\n    case '防禦':\r\n      setPosition(prev=>{return{ ...prev, x:-200, tension:150 }});\r\n      const defStart = ()=>{\r\n        if(isHit){\r\n          return isHitStep();\r\n        }else return isDodge();\r\n      };\r\n      const isHitStep = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:20, mass:2, \r\n            friction:5, tension:1000, tint:0xd00000}});\r\n          // callback\r\n          if(resultLife<=0){\r\n            return isDead({ type:'dead' });\r\n          }else return next({ type:'def' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      }\r\n      const isDodge = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-235, y:-10 }});\r\n          // callback\r\n          next({ type:'dodge' });\r\n        },BGstatus.seconds);\r\n        return timeout;\r\n      };\r\n      const isDead = ({ type })=> {\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, \r\n            friction:2, tint:0x03071e\r\n          }});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          isDeadStep2();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const isDeadStep2 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return { ...prev, alpha:0 }});\r\n          // callback\r\n          end();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const next = ({ type })=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-200, y:10, mass:1, \r\n            friction:20, tension:170, tint:0xffffff}});\r\n          setLinesStatus(prev=>{ \r\n            return { \r\n              status: type,\r\n              character: prev.character===\"USER\" ? \"ENEMY\" : \"USER\"\r\n            };\r\n          });\r\n          // callback\r\n          end();\r\n        },5000);\r\n        return timeout;\r\n      };\r\n      const end = ()=> {\r\n        const timeout = setTimeout(() => {\r\n          // callback\r\n          setAnimeIsDone(true);\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return defStart();\r\n    // ATK\r\n    default:\r\n      setBGstatus({ type:'ENEMYSTANDBY', defence:false, seconds:1200 });\r\n      setPosition(prev=>{return{ ...prev, x:-600, y:40, tension:100 }});\r\n      const atkStart = ()=>{\r\n        setPosition(prev=>{\r\n          return{ ...prev, x:-200, tension:100 }});\r\n        // callback\r\n        return step1();\r\n      };\r\n      const step1 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:0, tension:100 }});\r\n          setBGstatus(prev=>{return{ ...prev, type:'ENEMYSKILL' }});\r\n          // callback\r\n          step2();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step2 = ()=>{\r\n        const run =  { number: attackerSp };\r\n        TweenMax.to(run, 0.8, {\r\n          number: resultSp,\r\n          onUpdate: () => {\r\n            setAttackerSp(numeral(run.number).format(\"0\"))\r\n          },\r\n        });\r\n        setLinesStatus(prev=>{ return { ...prev, status:'attack' }});\r\n        const timeout = setTimeout(() => {\r\n          setBGstatus(prev=>{return{ ...prev, type:'STOP', defence:true }});\r\n          // callback\r\n          step3();\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      const step3 = ()=>{\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:175, tension:1000 }});\r\n          // callback\r\n          step4();\r\n        },1000);\r\n        return timeout;\r\n      };\r\n      const step4 = ()=>{\r\n        const run = { number: targetLife };\r\n        if(isHit) {\r\n          TweenMax.to(run, 0.8, {\r\n            number: resultLife<0 ? 0 : resultLife,\r\n            onUpdate: () => {\r\n              setTargetHp(numeral(run.number).format(\"0\"))\r\n            },\r\n          });\r\n        };\r\n        const timeout = setTimeout(() => {\r\n          setPosition(prev=>{return{ ...prev, x:-600, tension:50 }});\r\n        },3000);\r\n        return timeout;\r\n      };\r\n      return atkStart();\r\n  }\r\n};","import React from \"react\";\r\nimport { loader } from '../../../components/DataLoader';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\n\r\nexport const ShowType = ({\r\n  skillName,\r\n  attackerName,\r\n  position,\r\n}) =>{\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  switch (skillName) {\r\n    case '防禦':\r\n      return <Spring\r\n        from={{ x:-600, y:10 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass: position.mass,\r\n          tension: position.tension,\r\n          friction: position.friction,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={2}\r\n          width={280}\r\n          height={280}\r\n          anchor={0.5}\r\n          alpha={position.alpha}\r\n          tint={position.tint}\r\n          image={loader.resources[`${filterCopyChessName(attackerName)}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n    default:\r\n      return <Spring\r\n        from={{ x:-600, y:25 }}\r\n        to={{ x:position.x, y:position.y }}\r\n        config={{ \r\n          mass:1,\r\n          tension: position.tension,\r\n          friction:20,\r\n        }}\r\n      >\r\n      {props => \r\n        <Sprite\r\n          zIndex={3}\r\n          width={280}\r\n          height={280}\r\n          anchor={0.5}\r\n          image={loader.resources[`${filterCopyChessName(attackerName)}-fight`].data}\r\n          {...props}\r\n        />}\r\n      </Spring>\r\n  }\r\n};","import React from \"react\";\r\n// part\r\nimport { SkillShowProtoType } from \"../../SkillShowProtoType\";\r\nimport { steps } from \"./steps\";\r\nimport { ShowType } from \"./ShowType\";\r\n\r\nexport const NomanooniSkill = ( props )=>{\r\n  return <SkillShowProtoType \r\n    {...props}\r\n    defXPostion={-600}\r\n    steps={steps}\r\n    ShowType={ShowType}\r\n  />\r\n};\r\n","import React from \"react\";\r\nimport { TeoniSkill } from \"./Teoni/Index\";\r\nimport { HakujiSkill } from \"./Hakuji/Index\";\r\nimport { NomanooniSkill } from \"./Nomanooni/Index\";\r\nexport const EnemyChessSkillShow = ({\r\n  attacker={},\r\n  skill={},\r\n  BGstatus,\r\n  isHit=false,\r\n  targetLife=0,\r\n  attackerSp=0,\r\n  resultLife=0,\r\n  resultSp=0,\r\n  setBGstatus,\r\n  setAnimeIsDone,\r\n  setTargetHp,\r\n  setAttackerSp,\r\n  setLinesStatus,\r\n  setShowSkill\r\n})=>{\r\n  const defaultprops = {\r\n    skillName: skill.name,\r\n    attackerName: attacker.name,\r\n    isHit: isHit,\r\n    targetLife: targetLife,\r\n    attackerSp: attackerSp,\r\n    resultLife: resultLife,\r\n    resultSp: resultSp,\r\n    BGstatus: BGstatus,\r\n    setBGstatus: setBGstatus,\r\n    setAnimeIsDone: setAnimeIsDone,\r\n    setTargetHp: setTargetHp,\r\n    setAttackerSp: setAttackerSp,\r\n    setLinesStatus: setLinesStatus,\r\n    setShowSkill: setShowSkill\r\n  }\r\n  switch (attacker.name) {\r\n    case `Teoni`:\r\n      return <TeoniSkill {...defaultprops}/>\r\n    case `Hakuji`:\r\n      return <HakujiSkill {...defaultprops}/>\r\n    case `Nomanooni`:\r\n    case `Nomanooni-2`:\r\n    case `Nomanooni-3`:\r\n      return <NomanooniSkill {...defaultprops}/>\r\n    default:\r\n      return;\r\n  };\r\n};\r\n","import React,{ useState, useEffect } from 'react';\r\nimport { Container, Graphics, Sprite } from '@inlet/react-pixi/animated';\r\nimport { chessDead, chessRoundRest } from \"../../../reducer/chess\";\r\nimport { enemyChessDead } from \"../../../reducer/enemyChess\";\r\nimport { videos, loader } from '../../DataLoader';\r\n// part\r\nimport { AnimeShowBG } from \"./AinmeShowBG\";\r\nimport { TopBar } from \"./TopBar\";\r\nimport { BottomBar } from \"./BottomBar\";\r\n// skill\r\nimport { ChessSkillShow } from \"../../../constants/ChessSkillShow/Index\";\r\nimport { EnemyChessSkillShow } from \"../../../constants/EnemyChessSkillShow/Index\";\r\nexport const BattleAnimeShow = ({\r\n  props\r\n}) =>{\r\n  const { stageStatus, animeShow, chess, enemyChess, enemyRoundTab,\r\n    setMoveStep, setAnimeShow, setUsualTip, setCurrentChess, setEnemyRoundTab, dispatch } = props;\r\n  const { target, attacker } = animeShow;\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  // CreateContent\r\n  const CreateContent = ()=>{\r\n    const [ BGstatus, setBGstatus ] = useState({ \r\n      type:'STANDBY',\r\n      defence: false,\r\n      seconds: 1200\r\n    });\r\n    const [ BGprop, setBGpops ] = useState({ toX:400, duration: 20000 });\r\n    const [ SkBGprop, setSkBGpops ] = useState({ toX:400, duration: 500 });\r\n    const [ targetHp, setTargetHp ] = useState(target.prevLife);\r\n    const [ attackerSp, setAttackerSp ] = useState(attacker.prevSP);\r\n    const [ animeIsDone, setAnimeIsDone ] = useState(false);\r\n    const [ linesStatus, setLinesStatus ] = useState({ \r\n      character: animeShow.type,\r\n      status:'default'\r\n    });\r\n    const [ showSkill, setShowSkill ] = useState({ \r\n      status:false,\r\n      type:'0',\r\n      name: (animeShow.type===\"USER\") ? chess[attacker.key].name :\r\n        enemyChess[attacker.key].name,\r\n      callback: null\r\n    });\r\n    const fetchChessType = ( type='' )=>{\r\n      switch (type) {\r\n        case 'CHESS':\r\n          if(animeShow.type===\"USER\"){\r\n            return chess[typeof(animeShow.attacker.key)!=='number'?0:animeShow.attacker.key];\r\n          }else return chess[typeof(animeShow.target.key)!=='number'?0:animeShow.target.key];\r\n        case 'ENEMYCHESS':\r\n          if(animeShow.type===\"USER\"){\r\n            return enemyChess[typeof(animeShow.target.key)!=='number'?0:animeShow.target.key];\r\n          }else return enemyChess[typeof(animeShow.attacker.key)!=='number'?0:animeShow.attacker.key];\r\n        default:\r\n          break;\r\n      }; \r\n    };\r\n    const CreateSkillSprite = () => {\r\n      const video = (animeShow.type===\"USER\") ?\r\n        videos[`${chess[attacker.key].name}`][`skill${showSkill.type}`]:\r\n        videos[`${filterCopyChessName(enemyChess[attacker.key].name)}`][`skill${showSkill.type}`];\r\n      const videoDom = video.baseTexture.resource.source;\r\n      videoDom.onended = function() {\r\n        setShowSkill(prev=>{\r\n          videoDom.currentTime = 0;\r\n          return { ...prev, status:false }\r\n        });\r\n        showSkill.callback();\r\n      };\r\n      return <Sprite\r\n        zIndex={99}\r\n        width={600}\r\n        height={370}\r\n        anchor={0.5}\r\n        x={0}\r\n        y={-35}\r\n        image={loader.resources[`${\r\n          (animeShow.type===\"USER\") ?\r\n            chess[attacker.key].name : filterCopyChessName(enemyChess[attacker.key].name)\r\n        }-talk-attack`].data}\r\n        texture={video}\r\n      />\r\n    }\r\n    //  關閉動畫判斷\r\n    useEffect(()=>{\r\n      if(!animeIsDone){ return };\r\n      setAnimeShow({\r\n        status:false,\r\n        type:'',\r\n        isHit:false,\r\n        attacker:{ key:'', skill:{}, prevSP:0 },\r\n        target:{ key:'', isHit:false, prevLife:0 }\r\n      });\r\n      // result check line\r\n      if(animeShow.type===\"USER\" &&\r\n        enemyChess[target.key].hp <= 0\r\n      ){\r\n        dispatch(enemyChessDead({ key:target.key }));\r\n        setUsualTip({\r\n          title:`已擊敗 ${enemyChess[target.key].cn}!`,\r\n          status:true,\r\n        });\r\n      }else if(animeShow.type===\"ENEMY\" &&\r\n        chess[target.key].hp <= 0\r\n      ){\r\n        dispatch(chessDead({ key:target.key }));\r\n        setUsualTip({\r\n          title:`${chess[target.key].cn} 戰敗`,\r\n          status:true,\r\n        });\r\n      }else if(animeShow.type===\"ENEMY\") {\r\n        dispatch(chessRoundRest());\r\n        setCurrentChess(prev=>{\r\n          return { ...prev, type:\"USERROUND\"\r\n        }});\r\n        const enemyList = enemyChess.filter(v=>v.debut);\r\n        if(enemyRoundTab.oder < (enemyList.length-1)) {\r\n          setEnemyRoundTab(prev=>{\r\n            return{\r\n              oder:prev.oder+=1,\r\n              status:true\r\n            }\r\n          });\r\n        }else {\r\n          setUsualTip({\r\n            title:`我方回合`,\r\n            status:true,\r\n          });\r\n        };\r\n      }else {\r\n        setMoveStep(true);\r\n      };\r\n    },[ animeIsDone ]);\r\n    return <Container sortableChildren={true}>\r\n      <AnimeShowBG\r\n        props={{stageStatus, BGstatus, BGprop, SkBGprop, setBGpops, setSkBGpops}}\r\n      />\r\n      <TopBar\r\n        right={fetchChessType('CHESS')}\r\n        left={fetchChessType('ENEMYCHESS')}\r\n        showType={animeShow.type}\r\n        targetHp={targetHp}\r\n        attackerSp={attackerSp}\r\n      />\r\n      <ChessSkillShow\r\n        attacker={fetchChessType('CHESS')}\r\n        skill={\r\n          animeShow.type===\"USER\"?\r\n          animeShow.attacker.skill:\r\n          { name:'防禦' }\r\n        }\r\n        BGstatus={BGstatus}\r\n        isHit={animeShow.isHit}\r\n        targetLife={target.prevLife}\r\n        attackerSp={attacker.prevSP}\r\n        resultLife={\r\n          target.prevLife -\r\n          animeShow.attacker.skill.atk \r\n        }\r\n        resultSp={\r\n          attacker.prevSP -\r\n          animeShow.attacker.skill.sp\r\n        }\r\n        setBGstatus={setBGstatus}\r\n        setAnimeIsDone={setAnimeIsDone}\r\n        setTargetHp={setTargetHp}\r\n        setAttackerSp={setAttackerSp}\r\n        setLinesStatus={setLinesStatus}\r\n        setShowSkill={setShowSkill}\r\n      />\r\n      <EnemyChessSkillShow\r\n        attacker={fetchChessType('ENEMYCHESS')}\r\n        skill={\r\n          animeShow.type===\"USER\"?\r\n          { name:'防禦' }:\r\n          animeShow.attacker.skill\r\n        }\r\n        BGstatus={BGstatus}\r\n        isHit={animeShow.isHit}\r\n        targetLife={target.prevLife}\r\n        attackerSp={attacker.prevSP}\r\n        resultLife={\r\n          target.prevLife -\r\n          animeShow.attacker.skill.atk \r\n        }\r\n        resultSp={\r\n          attacker.prevSP -\r\n          animeShow.attacker.skill.sp\r\n        }\r\n        setBGstatus={setBGstatus}\r\n        setAnimeIsDone={setAnimeIsDone}\r\n        setTargetHp={setTargetHp}\r\n        setAttackerSp={setAttackerSp}\r\n        setLinesStatus={setLinesStatus}\r\n        setShowSkill={setShowSkill}\r\n      />\r\n      {showSkill.status && <CreateSkillSprite/>}\r\n      <BottomBar\r\n        right={fetchChessType('CHESS')}\r\n        left={fetchChessType('ENEMYCHESS')}\r\n        linesStatus={linesStatus}\r\n      />\r\n      <Sprite\r\n        zIndex={99}\r\n        interactive={true}\r\n        buttonMode={true}\r\n        width={75}\r\n        height={35}\r\n        x={310}\r\n        y={240}\r\n        image={loader.resources[`fightOff`].data}\r\n        pointertap={()=>{\r\n          setAnimeShow({\r\n            status:false,\r\n            type:'',\r\n            isHit:false,\r\n            attacker:{ key:'', skill:{}, prevSP:0 },\r\n            target:{ key:'', isHit:false, prevLife:0 }\r\n          });\r\n          // result check line\r\n          if(animeShow.type===\"USER\" &&\r\n            enemyChess[target.key].hp <= 0\r\n          ){\r\n            dispatch(enemyChessDead({ key:target.key }));\r\n            setUsualTip({\r\n              title:`已擊敗 ${enemyChess[target.key].cn}!`,\r\n              status:true,\r\n            });\r\n          }else if(animeShow.type===\"ENEMY\" &&\r\n            chess[target.key].hp <= 0\r\n          ){\r\n            dispatch(chessDead({ key:target.key }));\r\n            setUsualTip({\r\n              title:`${chess[target.key].cn} 戰敗`,\r\n              status:true,\r\n            });\r\n          }else if(animeShow.type===\"ENEMY\") {\r\n            dispatch(chessRoundRest());\r\n            setCurrentChess(prev=>{\r\n              return { ...prev, type:\"USERROUND\"\r\n            }});\r\n            const enemyList = enemyChess.filter(v=>v.debut);\r\n            if(enemyRoundTab.oder < (enemyList.length-1)) {\r\n              setEnemyRoundTab(prev=>{\r\n                return{\r\n                  oder:prev.oder+=1,\r\n                  status:true\r\n                }\r\n              });\r\n            }else {\r\n              setUsualTip({\r\n                title:`我方回合`,\r\n                status:true,\r\n              });\r\n            };\r\n          }else {\r\n            setMoveStep(true);\r\n          };\r\n          const clearAllTimeouts = ()=>{\r\n            let id = window.setTimeout(null,0);\r\n            while (id--) { window.clearTimeout(id); };\r\n          };\r\n          clearAllTimeouts();\r\n        }}\r\n      />\r\n    </Container>\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x011627`);\r\n      g.drawRoundedRect(-400,-300,800,600,0);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <CreateContent/>\r\n  </Graphics>\r\n};","import React from 'react';\r\nimport { Sprite, Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../DataLoader';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { stageRule } from \"../../constants/stageRule\";\r\nexport const OtherTab = ({ props })=> {\r\n  const {\r\n    stageStatus='',\r\n    roundNum=Number,\r\n    setMoveStep,\r\n    setOtherTab,\r\n    setTipStatus,\r\n    setCurrentChess\r\n  } = props;\r\n  const checkStageRound = ()=>{\r\n    switch (stageStatus) {\r\n      case 'stageOne':\r\n        return 1;\r\n      case 'stageTwo':\r\n        return 2;\r\n      case 'stageThree':\r\n        return 3;\r\n      case 'stageFour':\r\n        return 4;\r\n      default:\r\n        return 1;\r\n    };\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-200,-150,400,300,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Sprite\r\n      interactive={true}\r\n      buttonMode={true}\r\n      width={30}\r\n      height={30}\r\n      anchor={0.5}\r\n      x={173}\r\n      y={-123}\r\n      image={loader.resources[`closeIcon`].data}\r\n      pointertap={()=>{\r\n        setMoveStep(true);\r\n        setOtherTab(false);\r\n        setTipStatus(prev=>{\r\n          return {...prev, status:false }\r\n        });\r\n      }}\r\n    />\r\n    <Sprite\r\n      interactive={true}\r\n      buttonMode={true}\r\n      width={75}\r\n      height={35}\r\n      x={105}\r\n      y={90}\r\n      image={loader.resources[`endBtn`].data}\r\n      pointertap={()=>{\r\n        setCurrentChess({\r\n          key:0,\r\n          type:\"ENDROUND\"\r\n        });\r\n        setTipStatus(prev=>{\r\n          return {...prev,\r\n            title:`結束回合?`, \r\n            status:true\r\n          }\r\n        });\r\n      }}\r\n    />\r\n    <Text\r\n      text={`【 第 ${checkStageRound()} 話 】作戰目的`}\r\n      x={-170}\r\n      y={-125}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:['#ffffff', '#00ff99'],\r\n      })}\r\n    />\r\n    <Text\r\n      text={stageRule.getIn([stageStatus,'ruleText','win'])}\r\n      x={-150}\r\n      y={-90}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 16,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n    />\r\n    <Text\r\n      text={'戰敗條件'}\r\n      x={-170}\r\n      y={-40}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:['#ffffff', '#ee6c4d'],\r\n      })}\r\n    />\r\n    <Text\r\n      text={stageRule.getIn([stageStatus,'ruleText','lose'])}\r\n      x={-150}\r\n      y={-5}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 16,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n    />\r\n    <Text\r\n      text={'回合數'}\r\n      x={-170}\r\n      y={45}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:['#ffffff', '#8d99ae'],\r\n      })}\r\n    />\r\n    <Text\r\n      text={`第 ${roundNum} 回`}\r\n      x={-150}\r\n      y={80}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 16,\r\n        fill:['#ffffff', '#ffffff'],\r\n      })}\r\n    />\r\n  </Graphics>\r\n};\r\n\r\n","import React from 'react';\r\nimport { Container, Sprite, Text } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../../DataLoader';\r\nimport * as PIXI from \"pixi.js\";\r\nexport const EnemyList = ({ \r\n  oder=0,\r\n  enemyRandomSkill=0,\r\n  enemyList=[]\r\n})=>{\r\n  const skill = enemyList[oder].skill;\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  return <Container sortableChildren={true}>\r\n    <Sprite\r\n      width={65}\r\n      height={65}\r\n      anchor={0.5}\r\n      x={175}\r\n      y={-75}\r\n      image={loader.resources[`${filterCopyChessName(enemyList[oder].name)}-head-default`].data}\r\n    />\r\n    <Text \r\n      text={`${enemyList[oder].cn} / 技能`}\r\n      anchor={{x:0.5}}\r\n      x={175} y={-30}\r\n      style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#ffffff',\r\n      })}/>\r\n    <Text \r\n      text={`${skill[enemyRandomSkill].name}`}\r\n      anchor={{x:0.5}}\r\n      x={175} y={10}\r\n      style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 20,\r\n        fill:['#f15bb5','#e0aaff'],\r\n      })}/>\r\n    <Text \r\n      text={`ATK / ${skill[enemyRandomSkill].atk}`}\r\n      anchor={{x:0.5}}\r\n      x={175} y={40}\r\n      style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:['#f15bb5','#e0aaff'],\r\n      })}/>\r\n  </Container>\r\n};","import React from 'react';\r\nimport { Container, Graphics, Sprite } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../../DataLoader';\r\nexport const ChessList = ({\r\n  chessList,\r\n  defChess,\r\n  setDefChess\r\n})=>{\r\n  return <Container sortableChildren={true}>\r\n    <Graphics\r\n      x={-250}\r\n      y={-180}\r\n      zIndex={1}\r\n      draw={g=> {\r\n        g.clear();\r\n        g.lineStyle(1,`0xffffff`,1);\r\n        g.beginFill(`0x0f0f1b`);\r\n        g.drawRoundedRect(0,0,100,360,8);\r\n        g.endFill();\r\n      }}\r\n    />\r\n    {chessList.map((v,k)=>{\r\n      const distance = k * 85;\r\n      return <React.Fragment key={k}>\r\n        <Sprite\r\n          interactive={true}\r\n          buttonMode={true}\r\n          width={65}\r\n          height={65}\r\n          anchor={0.5}\r\n          zIndex={2}\r\n          x={-200}\r\n          y={-125 + distance}\r\n          image={loader.resources[`${v.name}-head-default`].data}\r\n          pointertap={()=>setDefChess(k)}\r\n        />\r\n        {k===defChess&&<Graphics\r\n          anchor={0.5}\r\n          x={-200}\r\n          y={-125 + distance}\r\n          zIndex={1}\r\n          draw={g=> {\r\n            g.clear();\r\n            g.beginFill(`0x7b2cbf`);\r\n            g.drawRoundedRect(-38,-38,76,76,5);\r\n            g.endFill();\r\n          }}\r\n        />}\r\n      </React.Fragment>\r\n    })}\r\n  </Container>\r\n};","import React from 'react';\r\nimport { Container, Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const Information = ({\r\n  defChess, chessList, atkEnemy\r\n})=>{\r\n  const dodge = chessList[defChess].dodge - atkEnemy.hitfix>=0 ? chessList[defChess].dodge - atkEnemy.hitfix : 0;\r\n  return <Container sortableChildren={true}>\r\n    <Graphics\r\n      x={-125} y={-150}\r\n    >\r\n      <Text \r\n        text={`選擇防禦：${chessList[defChess].cn}`}\r\n        anchor={{x:0}}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#ffffff',\r\n        })}/>\r\n      <Text \r\n        text={`HP：${chessList[defChess].hp}`}\r\n        anchor={{x:0}}\r\n        y={30}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:'#ff6b6b',\r\n        })}/>\r\n      <Text \r\n        text={`迴避率：${dodge}%`}\r\n        anchor={{x:0}}\r\n        y={60}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:['#ffffff', '#4cc9f0'],\r\n        })}/>\r\n    </Graphics>\r\n  </Container>\r\n}","import React,{ useState } from 'react';\r\nimport { Graphics, Sprite } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../../DataLoader';\r\nimport { ProbabilityCount } from \"../../Common/ProbabilityCount\";\r\nimport { chessDefense } from \"../../../reducer/chess\";\r\nimport { enemyChessAttackResult } from \"../../../reducer/enemyChess\";\r\n// common part\r\nimport { EnemyList } from \"./EnemyList\";\r\nimport { ChessList } from \"./ChessList\";\r\nimport { Information } from \"./Information\";\r\nexport const EnemyRoundTab = ({ props })=> {\r\n  const { enemyRoundTab, chess, enemyChess,\r\n    setEnemyRoundTab, setAnimeShow, setCurrentChess, setCurrentBGM, dispatch } = props;\r\n  const chessList = chess.filter(v=>v.debut);\r\n  const enemyList = enemyChess.filter(v=>v.debut);\r\n  const enemySkill = enemyList[enemyRoundTab.oder].skill;\r\n  const enemySp = enemyList[enemyRoundTab.oder].sp;\r\n  const [ defChess, setDefChess ] = useState(0);\r\n  const [ random ] = useState(\r\n    Math.round(Math.random()*(enemySkill.length-1))\r\n  );\r\n  const getAtkSkill = ()=>{\r\n    const checkSp = (enemySp===0)||(enemySkill[random].sp>enemySp);\r\n    return checkSp ? 0 : random;\r\n  };\r\n  const enemyRandomSkill = getAtkSkill();\r\n  const getCurrentChessKey = ({ chess, debut, key })=>{\r\n    let getKey;\r\n    chess.find((v,k)=>{\r\n      if(v.id===debut[key].id){\r\n        return getKey = k;\r\n      }else return null;\r\n    });\r\n    return getKey;\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-300,-200,600,400,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <ChessList\r\n      chessList={chessList}\r\n      defChess={defChess}\r\n      setDefChess={setDefChess}\r\n    />\r\n    <Information\r\n      defChess={defChess}\r\n      chessList={chessList}\r\n      atkEnemy={enemyList[enemyRoundTab.oder].skill[enemyRandomSkill]}\r\n    />\r\n    <EnemyList\r\n      oder={enemyRoundTab.oder}\r\n      enemyRandomSkill={enemyRandomSkill}\r\n      enemyList={enemyList}\r\n    />\r\n    <Sprite\r\n      interactive={true}\r\n      buttonMode={true}\r\n      width={90}\r\n      height={42}\r\n      anchor={0.5}\r\n      zIndex={2}\r\n      x={230}\r\n      y={155}\r\n      image={loader.resources[`fightDef`].data}\r\n      pointertap={()=>{\r\n        setCurrentBGM(enemyList[enemyRoundTab.oder].name);\r\n        const isHit = ProbabilityCount(\r\n          enemyList[enemyRoundTab.oder].skill[enemyRandomSkill].hitfix,\r\n          chessList[defChess].dodge\r\n        );\r\n        setCurrentChess(prev=>{return{...prev,type:\"ATTACK\"}});\r\n        dispatch(enemyChessAttackResult({\r\n          key: getCurrentChessKey({\r\n            chess: enemyChess,\r\n            debut: enemyList,\r\n            key: enemyRoundTab.oder\r\n          }),\r\n          lessSp:enemyList[enemyRoundTab.oder].skill[enemyRandomSkill].sp\r\n        }));\r\n        if(isHit){\r\n          dispatch(chessDefense({\r\n            key: getCurrentChessKey({\r\n              chess: chess,\r\n              debut: chessList,\r\n              key: defChess\r\n            }),\r\n            damage: enemyList[enemyRoundTab.oder].skill[enemyRandomSkill].atk\r\n          }));\r\n        };\r\n        setEnemyRoundTab(prev=>{return{...prev, status:false}});\r\n        setAnimeShow({\r\n          status:true,\r\n          type:'ENEMY',\r\n          isHit: isHit,\r\n          attacker:{ \r\n            key: getCurrentChessKey({\r\n              chess: enemyChess,\r\n              debut: enemyList,\r\n              key: enemyRoundTab.oder\r\n            }),\r\n            skill:enemyList[enemyRoundTab.oder].skill[enemyRandomSkill],\r\n            prevSP:enemyList[enemyRoundTab.oder].sp\r\n          },\r\n          target:{ \r\n            key: getCurrentChessKey({\r\n              chess: chess,\r\n              debut: chessList,\r\n              key: defChess\r\n            }),\r\n            isHit:isHit,\r\n            prevLife:chessList[defChess].hp\r\n          }\r\n        });\r\n      }}\r\n    />\r\n  </Graphics>\r\n};","import React,{ useState } from 'react';\r\nimport { fromJS } from 'immutable';\r\nimport { Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { GetMove, GetAttack } from '../../reducer/map';\r\nimport { chessSelected, chessCheckStatus } from \"../../reducer/chess\";\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const ChessUIBoard = ({\r\n  ChessData,\r\n  ChessVal,\r\n  ChessKey,\r\n  EnemyChessData,\r\n  positionX,\r\n  positionY,\r\n  setCurrentChess,\r\n  setMoveStep,\r\n  dispatch\r\n})=> {\r\n  const specialPosition = {\r\n    x: 715,\r\n    y: 445\r\n  };\r\n  const forMoveArray = [];\r\n  const forAttackArray = [];\r\n  const [textInforArray, setTextInforArray] = useState(fromJS([{\r\n      id:1, \r\n      title:\"移動\",\r\n      textColor:['#ffffff', '#ffffff']\r\n    },{ \r\n      id:2,\r\n      title:\"攻擊\",\r\n      textColor:['#ffffff', '#ffffff']\r\n    },{ \r\n      id:3,\r\n      title:\"狀態\",\r\n      textColor:['#ffffff', '#ffffff']\r\n    },{ \r\n      id:4,\r\n      title:\"返回\",\r\n      textColor:['#ffffff', '#ffffff']\r\n  }]));\r\n  ChessData.filter(v=>v.debut).map((v)=>{\r\n    return (\r\n      forMoveArray.push({ x:v.x, y:v.y }),\r\n      forAttackArray.push({ x:v.x, y:v.y })\r\n    );\r\n  });\r\n  EnemyChessData.filter(v=>v.debut).map((v)=>{\r\n    return forMoveArray.push({ x:v.x, y:v.y });\r\n  });\r\n  const compareAttack = (\r\n    chessX,\r\n    chessY,\r\n    chessAtk\r\n  )=>{\r\n    let isAttack = false;\r\n    const limitPosition = { x:19, y:14 };\r\n    const positionRange = [];\r\n    for(let i=0; i < chessAtk; i++){\r\n      const getaddX = (chessX+(i+1)>=limitPosition.x) ? limitPosition.x : chessX+(i+1);\r\n      const getaddY = (chessY+(i+1)>=limitPosition.y) ? limitPosition.y : chessY+(i+1);\r\n      const getlessX = (chessX-(i+1)<=0) ? 0 : chessX-(i+1);\r\n      const getlessY = (chessY-(i+1)<=0) ? 0 : chessY-(i+1);\r\n      positionRange.push(\r\n        { x:getaddX, y:chessY },\r\n        { x:getlessX, y:chessY },\r\n        { x:chessX, y:getaddY },\r\n        { x:chessX, y:getlessY }\r\n      );\r\n    };\r\n    EnemyChessData.filter(v=>v.debut).map(val=>{\r\n      return positionRange.map(v=>{\r\n        if(val.x===v.x&&val.y===v.y){\r\n          return isAttack = true;\r\n        }else return null\r\n      })\r\n    });\r\n    return isAttack;\r\n  };\r\n  const compareUsed = (\r\n    chessX,\r\n    chessY,\r\n    checkType\r\n  )=>{\r\n    let isUnused = false;\r\n    const isDebutChess = ChessData.filter(v=>v.debut);\r\n    isDebutChess.map(val=>{\r\n      if(val.x===chessX&&val.y===chessY){\r\n        switch (checkType) {\r\n          case 'MOVE':\r\n          case 'ATTACK':\r\n            const moved = val.roundMove>0;\r\n            return isUnused = moved;\r\n          default:\r\n            return true;\r\n        };\r\n      }else return null;\r\n    });\r\n    return isUnused;\r\n  };\r\n  const CreateText = ({ noop })=>{\r\n    const isAttack = compareAttack(ChessVal.x,ChessVal.y,ChessVal.attack);\r\n    return textInforArray.map((val,key)=>{\r\n      const fetchInteractive = ()=>{\r\n        switch (val.get('id')) {\r\n          case 1:\r\n            return compareUsed(ChessVal.x,ChessVal.y,'MOVE');\r\n          case 2:\r\n            const result = isAttack && compareUsed(ChessVal.x,ChessVal.y,'ATTACK');\r\n            return result;\r\n          default:\r\n            return true;\r\n        };\r\n      }\r\n      return <Text\r\n        key={key}\r\n        interactive={fetchInteractive()}\r\n        buttonMode={true}\r\n        text={val.get('title')}\r\n        x={11}\r\n        y={8+(34*key)}\r\n        style={new PIXI.TextStyle({\r\n          fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize:30,\r\n          fill:fetchInteractive()?val.get('textColor').toJS():'#8d99ae',\r\n        })}\r\n        pointerover={()=>{\r\n          setTextInforArray(prev=>\r\n            prev.setIn([key,'textColor',1],'#00ff99')\r\n          );\r\n        }}\r\n        pointerout={()=>{\r\n          setTextInforArray(prev=>\r\n            prev.setIn([key,'textColor',1],'#ffffff')\r\n          );\r\n        }}\r\n        pointertap={(e)=>{\r\n          switch (val.get('id')) {\r\n            case 1:\r\n              setCurrentChess({ \r\n                key:ChessKey,\r\n                type:\"MOVE\"\r\n              });\r\n              dispatch(GetMove({\r\n                position:{ \r\n                  x:ChessVal.x, \r\n                  y:ChessVal.y,\r\n                },\r\n                step:ChessVal.step,\r\n                changeColor:'0x06d6a0',\r\n                currentChessPositions: forMoveArray\r\n              }));\r\n              dispatch(chessSelected({\r\n                key:ChessKey\r\n              }));\r\n              break;\r\n            case 2:\r\n              setCurrentChess({ \r\n                key:ChessKey,\r\n                type:\"ATTACK\"\r\n              });\r\n              dispatch(chessSelected({\r\n                key:ChessKey\r\n              }));\r\n              dispatch(GetAttack({\r\n                position:{ \r\n                  x:ChessVal.x, \r\n                  y:ChessVal.y,\r\n                },\r\n                step:ChessVal.attack,\r\n                changeColor:'0x00bbf9',\r\n                currentChessPositions: forAttackArray\r\n              }));\r\n              break;\r\n            case 3:\r\n              setCurrentChess({ \r\n                key:ChessKey,\r\n                type:\"STATUS\"\r\n              });\r\n              dispatch(chessCheckStatus({\r\n                key:ChessKey\r\n              }));\r\n              dispatch(chessSelected({\r\n                key:ChessKey\r\n              }));\r\n              break;\r\n            case 4 :\r\n              setMoveStep(true);\r\n              dispatch(chessSelected({\r\n                key:ChessKey\r\n              }));\r\n              break;\r\n            default:\r\n              return console.log(e.target)\r\n          };\r\n        }}\r\n      />\r\n    }\r\n  )};\r\n  return <Graphics\r\n    x={positionX!==800&&positionX!==760?positionX:specialPosition.x}\r\n    y={(positionY!==560&&positionY!==520)?positionY:specialPosition.y}\r\n    zIndex={3}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(0,0,80,155,8);\r\n      g.endFill();\r\n    }}\r\n  ><CreateText/></Graphics>\r\n};","import React from 'react';\r\nimport { Sprite, Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../DataLoader';\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const ChessStatus = ({\r\n  ChessData,\r\n  ChessKey,\r\n  CheckStatus,\r\n  setMoveStep,\r\n  dispatch\r\n})=> {\r\n  const CreateSkillList = ()=>{\r\n    return ChessData.skill.map((value,key)=>{\r\n        return <React.Fragment key={key}>\r\n        <Text\r\n          x={-50}\r\n          y={-70+(key*22)}\r\n          text={`${value.name}(${value.cd})`}\r\n          style={new PIXI.TextStyle({\r\n            fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n            fontSize: 16,\r\n            fill:'#ffb700',\r\n          })}\r\n        />\r\n        <Text\r\n          x={-42+((value.name.length+1) * 16)}\r\n          y={-70+(key*22)}\r\n          text={`ATK:${value.atk}(${value.sp}sp)`}\r\n          style={new PIXI.TextStyle({\r\n            fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n            fontSize: 14,\r\n            fill:'#ffffff',\r\n          })}\r\n        />\r\n      </React.Fragment>\r\n    });  \r\n  };\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(-250,-150,500,300,8);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Sprite\r\n      interactive={true}\r\n      buttonMode={true}\r\n      width={30}\r\n      height={30}\r\n      anchor={0.5}\r\n      x={220}\r\n      y={-120}\r\n      image={loader.resources[`closeIcon`].data}\r\n      pointertap={()=>{\r\n        setMoveStep(true);\r\n        dispatch(CheckStatus({\r\n          key:ChessKey\r\n        }));\r\n      }}\r\n    />\r\n    <Sprite\r\n      width={80}\r\n      height={80}\r\n      x={-200}\r\n      y={-90}\r\n      image={loader.resources[`${filterCopyChessName(ChessData.name)}-head-default`].data}\r\n    />\r\n    <Text\r\n      x={-200}\r\n      y={10}\r\n      text={ChessData.cn}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#ffffff',\r\n      })}\r\n    />\r\n    <Text\r\n      x={-200}\r\n      y={35}\r\n      text={`HP:`}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#ffffff',\r\n      })}\r\n    />\r\n    <Text\r\n      x={-168}\r\n      y={35}\r\n      text={`${ChessData.hp} / ${ChessData.fullValue.hp}`}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#ff6b6b',\r\n      })}\r\n    />\r\n    <Text\r\n      x={-200}\r\n      y={60}\r\n      text={`SP:`}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#ffffff',\r\n      })}\r\n    />\r\n    <Text\r\n      x={-168}\r\n      y={60}\r\n      text={`${ChessData.sp} / ${ChessData.fullValue.sp}`}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 18,\r\n        fill:'#0466c8',\r\n      })}\r\n    />\r\n    <Text\r\n      x={-60}\r\n      y={-95}\r\n      text={'招式'}\r\n      style={new PIXI.TextStyle({\r\n        fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n        fontSize: 16,\r\n        fill:'#ffffff',\r\n      })}\r\n    />\r\n    <CreateSkillList/>\r\n  </Graphics>\r\n};","import React from 'react';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../DataLoader';\r\n// reducers\r\nimport { MoveSelect } from '../../reducer/map';\r\nimport { chessSelected, chessCheckStatus } from \"../../reducer/chess\";\r\n// other part\r\nimport { ChessUIBoard } from \"./ChessUIBoard\";\r\nimport { ChessStatus } from \"../Common/ChessStatus\";\r\n\r\nexport const Chess = ({\r\n  chessProps\r\n})=>{\r\n  const { \r\n    chess,\r\n    enemyChess,\r\n    moveStep=Boolean,\r\n    setMoveStep,\r\n    setCurrentChess,\r\n    dispatch\r\n  } = chessProps;\r\n  return chess.map((value,key)=>{\r\n    const roundMoveDone = value.roundMove===0;\r\n    return <React.Fragment key={key}>\r\n      {value.debut&&<Sprite\r\n        interactive={moveStep}\r\n        buttonMode={true}\r\n        width={40}\r\n        height={40}\r\n        x={value.x*40}\r\n        y={value.y*40}\r\n        zIndex={2}\r\n        tint={roundMoveDone?0x495057:0xffffff}\r\n        pointerover={()=>{\r\n          dispatch(MoveSelect({\r\n            position:{ \r\n              x:value.x, \r\n              y:value.y,\r\n            },\r\n            step:value.step,\r\n            changeColor:'0x06d6a0',\r\n            alphaVal:0.5\r\n          }));\r\n        }}\r\n        pointerout={()=>{\r\n          dispatch(MoveSelect({\r\n            position:{ \r\n              x:value.x, \r\n              y:value.y,\r\n            },\r\n            step:value.step,\r\n            changeColor:'0x383838',\r\n            alphaVal:0\r\n          }));\r\n        }}\r\n        pointertap={()=>{\r\n          setMoveStep(false);\r\n          dispatch(chessSelected({\r\n            key:key\r\n          }));\r\n          dispatch(MoveSelect({\r\n            position:{ \r\n              x:value.x, \r\n              y:value.y,\r\n            },\r\n            step:value.step,\r\n            changeColor:'0x383838',\r\n            alphaVal:0\r\n          }));\r\n        }}\r\n        image={loader.resources[`${value.name}-head-default`].data}\r\n      />}\r\n      {value.boardStatus&&<ChessUIBoard\r\n        ChessData={chess}\r\n        ChessVal={value}\r\n        ChessKey={key}\r\n        EnemyChessData={enemyChess}\r\n        positionX={(value.x*40)+40}\r\n        positionY={(value.y*40)}\r\n        setCurrentChess={setCurrentChess}\r\n        setMoveStep={setMoveStep}\r\n        dispatch={dispatch}\r\n      />}\r\n      {value.checkStatus&&<ChessStatus\r\n        ChessData={value}\r\n        ChessKey={key}\r\n        CheckStatus={chessCheckStatus}\r\n        setMoveStep={setMoveStep}\r\n        dispatch={dispatch}\r\n      />}\r\n    </React.Fragment>\r\n  })\r\n};","import React,{ useState } from 'react';\r\nimport { fromJS } from 'immutable';\r\nimport { Graphics, Text } from '@inlet/react-pixi/animated';\r\nimport { enemyChessSelected, enemyChessCheckStatus } from \"../../reducer/enemyChess\";\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const EnemyChessUIBoard = ({\r\n  ChessKey,\r\n  positionX,\r\n  positionY,\r\n  setMoveStep,\r\n  dispatch\r\n})=> {\r\n  const specialPosition = {\r\n    x: 715,\r\n    y: 515\r\n  };\r\n  const [textInforArray, setTextInforArray] = useState(fromJS([{\r\n      id:1,\r\n      title:\"狀態\",\r\n      textColor:['#ffffff', '#ffffff']\r\n    },{ \r\n      id:2,\r\n      title:\"返回\",\r\n      textColor:['#ffffff', '#ffffff']\r\n  }]));\r\n  const CreateText = ()=>{\r\n    return textInforArray.map((val,key)=>{\r\n      return <Text\r\n        key={key}\r\n        interactive={true}\r\n        buttonMode={true}\r\n        text={val.get('title')}\r\n        x={11}\r\n        y={8+(34*key)}\r\n        style={new PIXI.TextStyle({\r\n          fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize:30,\r\n          fill:val.get('textColor').toJS(),\r\n        })}\r\n        pointerover={()=>{\r\n          setTextInforArray(prev=>\r\n            prev.setIn([key,'textColor',1],'#9d4edd')\r\n          );\r\n        }}\r\n        pointerout={()=>{\r\n          setTextInforArray(prev=>\r\n            prev.setIn([key,'textColor',1],'#ffffff')\r\n          );\r\n        }}\r\n        pointertap={(e)=>{\r\n          switch (val.get('id')) {\r\n            case 1:\r\n              dispatch(enemyChessCheckStatus({\r\n                key:ChessKey\r\n              }));\r\n              dispatch(enemyChessSelected({\r\n                key:ChessKey\r\n              }));\r\n              break;\r\n            case 2 :\r\n              setMoveStep(true);\r\n              dispatch(enemyChessSelected({\r\n                key:ChessKey\r\n              }));\r\n              break;\r\n            default:\r\n              return console.log(e.target)\r\n          };\r\n        }}\r\n      />\r\n    }\r\n  )};\r\n  return <Graphics\r\n    x={positionX!==800&&positionX!==760?positionX:specialPosition.x}\r\n    y={(positionY!==560&&positionY!==520)?positionY:specialPosition.y}\r\n    zIndex={3}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.lineStyle(1,`0xffffff`,1);\r\n      g.beginFill(`0x22223b`);\r\n      g.drawRoundedRect(0,0,80,85,8);\r\n      g.endFill();\r\n    }}\r\n  ><CreateText/></Graphics>\r\n}","import React from 'react';\r\nimport { Sprite } from '@inlet/react-pixi/animated';\r\nimport { loader } from '../DataLoader';\r\n// reducers\r\nimport { enemyChessSelected, enemyChessCheckStatus } from \"../../reducer/enemyChess\";\r\n// other part\r\nimport { EnemyChessUIBoard } from \"./EnemyChessUIBoard\";\r\nimport { ChessStatus } from \"../Common/ChessStatus\";\r\n\r\nexport const EnemyChess = ({\r\n  enemyChessProps\r\n})=>{\r\n  const { \r\n    enemyChess,\r\n    moveStep=Boolean,\r\n    setMoveStep,\r\n    dispatch\r\n  } = enemyChessProps;\r\n  const filterCopyChessName = (name)=>{\r\n    if(!!~name.indexOf('Nomanooni')){\r\n      return 'Nomanooni';\r\n    }else return name;\r\n  };\r\n  return enemyChess.map((value,key)=>{\r\n    return <React.Fragment key={key}>\r\n      {value.debut&&<Sprite\r\n        interactive={moveStep}\r\n        buttonMode={true}\r\n        width={40}\r\n        height={40}\r\n        x={value.x*40}\r\n        y={value.y*40}\r\n        zIndex={2}\r\n        pointertap={()=>{\r\n          setMoveStep(false);\r\n          dispatch(enemyChessSelected({\r\n            key:key\r\n          }));\r\n        }}\r\n        image={loader.resources[`${filterCopyChessName(value.name)}-head-default`].data}\r\n      />}\r\n      {value.boardStatus&&<EnemyChessUIBoard\r\n        ChessKey={key}\r\n        positionX={(value.x*40)+40}\r\n        positionY={(value.y*40)}\r\n        setMoveStep={setMoveStep}\r\n        dispatch={dispatch}\r\n      />}\r\n      {value.checkStatus&&<ChessStatus\r\n        ChessData={value}\r\n        ChessKey={key}\r\n        CheckStatus={enemyChessCheckStatus}\r\n        setMoveStep={setMoveStep}\r\n        dispatch={dispatch}\r\n      />}\r\n    </React.Fragment>\r\n  })\r\n};\r\n","import React,{ useState } from 'react';\r\nimport * as PIXI from \"pixi.js\";\r\nimport { loader } from '../../DataLoader';\r\nimport { stageRule } from '../../../constants/stageRule';\r\nimport { Container, Graphics, Sprite, Text } from '@inlet/react-pixi/animated';\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport { audioData } from \"../../DataLoader\";\r\n// reducers\r\nimport { chessDone } from '../../../reducer/chess';\r\nexport const Conversation = ({ props })=> {\r\n  const { stageStatus, setRoundStart, setOtherTab } = props;\r\n  const currentConversation = stageRule.getIn([stageStatus,'story']);\r\n  const currentRecap = stageRule.getIn([stageStatus,'recap']);\r\n  const [ isRecap, setIsRecap ] = useState(true);\r\n  const [ textRest, setTextRest ] = useState(false);\r\n  const [ currentStory, setCurrentStory ] = useState(0);\r\n  const checkStageRound = ()=>{\r\n    switch (stageStatus) {\r\n      case 'stageOne':\r\n        return 1;\r\n      case 'stageTwo':\r\n        return 2;\r\n      case 'stageThree':\r\n        return 3;\r\n      case 'stageFour':\r\n        return 4;\r\n      default:\r\n        return 1;\r\n    };\r\n  };\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x011627`);\r\n      g.drawRoundedRect(-300,-125,600,250,5);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Text\r\n        text={`【 第 ${checkStageRound()} 話 】`}\r\n        anchor={0.5}\r\n        x={0}\r\n        y={-80}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 20,\r\n          fill:'#ffffff'\r\n        })}\r\n      />\r\n      {isRecap ?\r\n        <>\r\n          <Spring\r\n            from={{ x:0, y:0, alpha:0 }}\r\n            to={{ x:0, y:-50, alpha:1 }}\r\n            config={{ duration: 1000 }}\r\n          >\r\n            {props =>\r\n              <Text\r\n                text={currentRecap}\r\n                anchor={{x:0.5}}\r\n                style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n                  fontSize: 16,\r\n                  fill:'#ffffff',\r\n                  lineHeight:24,\r\n                  breakWords: true,\r\n                  wordWrap: true,\r\n                  wordWrapWidth:500\r\n                })}\r\n                {...props}\r\n              />\r\n            }\r\n          </Spring>\r\n          <Sprite\r\n            width={40}\r\n            height={30}\r\n            anchor={0.5}\r\n            y={90}\r\n            interactive={true}\r\n            buttonMode={true}\r\n            image={loader.resources[`next`].data}\r\n            pointertap={()=>setIsRecap(false)}\r\n          />\r\n        </>:\r\n        <>\r\n          <Sprite\r\n            width={85}\r\n            height={85}\r\n            x={-250}\r\n            y={0}\r\n            anchor={{y:0.5}}\r\n            image={loader.resources[`${currentConversation.getIn([currentStory,'character'])}`].data}\r\n          />\r\n          <Text\r\n            text={currentConversation.getIn([currentStory,'name'])}\r\n            anchor={{y:0.5}}\r\n            x={-250}\r\n            y={65}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 18,\r\n              fill:['#ffffff', currentConversation.getIn([currentStory,'color'])],\r\n            })}\r\n          />\r\n          <Spring\r\n            from={{ x:-140, y: 25, alpha:0 }}\r\n            to={{ x:-140, y:0, alpha:1 }}\r\n            config={{ duration: 250 }}\r\n            reset={textRest}\r\n            onStart={()=>setTextRest(false)}\r\n          >\r\n            {props =>\r\n              <Text\r\n                text={currentConversation.getIn([currentStory,'content'])}\r\n                anchor={{y:0.5}}\r\n                style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n                  fontSize: 18,\r\n                  fill:'#ffffff',\r\n                  breakWords: true,\r\n                  wordWrap: true,\r\n                  wordWrapWidth:400\r\n                })}\r\n                {...props}\r\n              />\r\n            }\r\n          </Spring>\r\n          <Sprite\r\n            width={40}\r\n            height={30}\r\n            anchor={0.5}\r\n            x={255}\r\n            y={90}\r\n            interactive={true}\r\n            buttonMode={true}\r\n            image={loader.resources[`next`].data}\r\n            pointertap={()=>{\r\n              const converLength = currentConversation.size-1;\r\n              if(currentStory<converLength){\r\n                setCurrentStory(prev=>prev+=1);\r\n                setTextRest(true);\r\n              }else {\r\n                setRoundStart(true);\r\n                setOtherTab(true);\r\n              };    \r\n            }}\r\n          />\r\n        </>\r\n      }\r\n    </Container>\r\n  </Graphics>\r\n};\r\nexport const RoundEndConversation = ({ props })=> {\r\n  const { stageStatus, currentBGM, \r\n    setFadeBGM, setRoundStart, setStageStatus, setRoundEnd, \r\n    setRoundNum, setStageClear, setCurrentBGM, dispatch } = props;\r\n  const currentConversation = stageRule.getIn([stageStatus,'endStory']);\r\n  const [ textRest, setTextRest ] = useState(false);\r\n  const [ currentEndStory, setCurrentEndStory ] = useState(0);\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x011627`);\r\n      g.drawRoundedRect(-300,-125,600,250,5);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Sprite\r\n        width={85}\r\n        height={85}\r\n        x={-250}\r\n        y={-20}\r\n        anchor={{y:0.5}}\r\n        image={loader.resources[`${currentConversation.getIn([currentEndStory,'character'])}`].data}\r\n      />\r\n      <Text\r\n        text={currentConversation.getIn([currentEndStory,'name'])}\r\n        anchor={{y:0.5}}\r\n        x={-250}\r\n        y={45}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:['#ffffff', currentConversation.getIn([currentEndStory,'color'])],\r\n        })}\r\n      />\r\n      <Spring\r\n        from={{ x:-140, y: 5, alpha:0 }}\r\n        to={{ x:-140, y:-20, alpha:1 }}\r\n        config={{ duration: 250 }}\r\n        reset={textRest}\r\n        onStart={()=>setTextRest(false)}\r\n      >\r\n        {props =>\r\n          <Text\r\n            text={currentConversation.getIn([currentEndStory,'content'])}\r\n            anchor={{y:0.5}}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 18,\r\n              fill:'#ffffff',\r\n              breakWords: true,\r\n              wordWrap: true,\r\n              wordWrapWidth:400\r\n            })}\r\n            {...props}\r\n          />\r\n        }\r\n      </Spring>\r\n      {!(currentEndStory<(currentConversation.size-1))&&<Text\r\n        text={'下一話'}\r\n        anchor={{y:0.5}}\r\n        x={160}\r\n        y={85}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:['#ffffff', '#ffffff'],\r\n        })}\r\n      />}\r\n      <Sprite\r\n        width={40}\r\n        height={30}\r\n        anchor={0.5}\r\n        x={255}\r\n        y={90}\r\n        interactive={true}\r\n        buttonMode={true}\r\n        image={loader.resources[`next`].data}\r\n        pointertap={()=>{\r\n          const converLength = currentConversation.size-1;\r\n          if(currentEndStory<converLength){\r\n            setCurrentEndStory(prev=>prev+=1);\r\n            setTextRest(true);\r\n          }else {\r\n            setRoundEnd(false);\r\n            // stage clear\r\n            if(stageStatus==='stageFour'){\r\n              audioData[currentBGM].fade(0.6,0,1000);\r\n              audioData.open.stop();\r\n              audioData.open.volume(1);\r\n              audioData.open.play();\r\n              setRoundNum(1);\r\n              dispatch(chessDone());\r\n              setStageClear(true);\r\n              setFadeBGM('');\r\n              setCurrentBGM('');\r\n              return;\r\n            };\r\n            setRoundStart(false);\r\n            setStageStatus(prev=>{\r\n              switch (prev){\r\n                case 'stageOne':\r\n                  return 'stageTwo'\r\n                case 'stageTwo':\r\n                  return 'stageThree'\r\n                case 'stageThree':\r\n                  return 'stageFour'\r\n                default:\r\n                  return prev;\r\n              }\r\n            });\r\n            setFadeBGM(currentBGM);\r\n            setRoundNum(1);\r\n            dispatch(chessDone());\r\n          };    \r\n        }}\r\n      />\r\n    </Container>\r\n  </Graphics>\r\n};\r\nexport const StageClear = ({ props })=> {\r\n  const { setStageStatus, setStageStart, setStageClear, setRoundStart, setCurrentBGM } = props;\r\n  return <Graphics\r\n    x={400}\r\n    y={300}\r\n    zIndex={99}\r\n    draw={g=> {\r\n      g.clear();\r\n      g.beginFill(`0x011627`);\r\n      g.drawRoundedRect(-300,-125,600,250,5);\r\n      g.endFill();\r\n    }}\r\n  >\r\n    <Container sortableChildren={true}>\r\n      <Text\r\n        text={`恭喜您完成挑戰!!`}\r\n        anchor={0.5}\r\n        y={-70}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 22,\r\n          fill:['#ffffff', '#00bcd4'],\r\n          lineHeight:24,\r\n          breakWords: true,\r\n          wordWrap: true,\r\n          wordWrapWidth:500\r\n        })}\r\n      />\r\n      <Spring\r\n        from={{ x:0, y:25, alpha:0 }}\r\n        to={{ x:0, y:0, alpha:1 }}\r\n        config={{ duration: 1000 }}\r\n      >\r\n        {props =>\r\n          <Text\r\n            text={`本篇創作已完結，未來將可能持續創作更新遊戲新篇章，敬請期待。 感謝您的遊玩!!`}\r\n            anchor={0.5}\r\n            style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n              fontSize: 16,\r\n              fill:'#ffffff',\r\n              lineHeight:24,\r\n              breakWords: true,\r\n              wordWrap: true,\r\n              wordWrapWidth:500\r\n            })}\r\n            {...props}\r\n          />\r\n        }\r\n      </Spring>\r\n      <Text\r\n        text={`2021 Steve © Present`}\r\n        anchor={0.5}\r\n        x={0}\r\n        y={85}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 16,\r\n          fill:['#ffffff', '#ffffff'],\r\n        })}\r\n      />\r\n      <Text\r\n        text={`重新開始`}\r\n        anchor={{y:0.5}}\r\n        x={150}\r\n        y={85}\r\n        style={new PIXI.TextStyle({ fontFamily: '\"Source Sans Pro\", Helvetica, sans-serif',\r\n          fontSize: 18,\r\n          fill:['#ffffff', '#ffffff'],\r\n        })}\r\n      />\r\n      <Sprite\r\n        width={40}\r\n        height={30}\r\n        anchor={0.5}\r\n        x={255}\r\n        y={90}\r\n        interactive={true}\r\n        buttonMode={true}\r\n        image={loader.resources[`next`].data}\r\n        pointertap={()=>{\r\n          audioData.open.fade(0.6,0,1000);\r\n          setStageClear(false);\r\n          setStageStart(true);\r\n          setRoundStart(false);\r\n          setStageStatus('stageOne');\r\n          setCurrentBGM('userRounds');\r\n        }}\r\n      />\r\n    </Container>\r\n  </Graphics>\r\n};","import { audioData } from './DataLoader';\r\nconst userBGMList = [\r\n  'KimetsuNoYaiba',\r\n  'Jotaro',\r\n  'Josuke'\r\n];\r\nconst characterBGMPlay = (round='',main='')=>{\r\n  for(let i =0; i < userBGMList.length ; i++){\r\n    if(audioData[userBGMList[i]].playing() && audioData[userBGMList[i]]._volume>0 && userBGMList[i] !== main){ \r\n      audioData[userBGMList[i]].fade(0.6,0,1000);\r\n    };\r\n  };\r\n  if(audioData[round]._volume>0 && round===main){ return; };\r\n  if(audioData[round]._volume===0.6){ audioData[round].fade(0.6,0,1000); };\r\n  if(audioData[main].playing() && audioData[main]._volume===1){ return; };\r\n  audioData[main].stop();\r\n  audioData[main].volume(1);\r\n  audioData[main].play();\r\n};\r\nconst roundBGMPlay = (stageStatus)=> {\r\n  let round ='';\r\n  switch (stageStatus) {\r\n    case 'stageThree':\r\n      round = 'HakujiRound';\r\n      break;\r\n    case 'stageFour':\r\n      round = 'Jotaro';\r\n      break;\r\n    default:\r\n      round = 'round';\r\n      break;\r\n  };\r\n  audioData[round].stop();\r\n  audioData[round].volume(0.6);\r\n  audioData[round].play();\r\n};\r\nexport const currentBGMStatus = ( currentBGM, stageStatus )=>{\r\n  switch (currentBGM) {\r\n    case 'Tanjirou':\r\n    case 'Nezuko':\r\n    case 'Zenitsu':\r\n    case 'Inosuke':\r\n    case 'Rengoku':\r\n      if(stageStatus==='stageThree'){\r\n        characterBGMPlay('HakujiRound','KimetsuNoYaiba');\r\n      }else if(stageStatus==='stageFour'){\r\n        characterBGMPlay('Jotaro','KimetsuNoYaiba');\r\n      }else {\r\n        characterBGMPlay('round','KimetsuNoYaiba');\r\n      };\r\n      break;\r\n    case 'Teoni':\r\n    case 'Nomanooni':\r\n    case 'Nomanooni-2':\r\n    case 'Nomanooni-3':\r\n      if(stageStatus==='stageThree'){\r\n        characterBGMPlay('round','Hakuji');\r\n      }else if(stageStatus==='stageFour'){\r\n        characterBGMPlay('Jotaro','KimetsuNoYaibaEnemy');\r\n      }else {\r\n        characterBGMPlay('round','KimetsuNoYaibaEnemy');\r\n      };\r\n      break;\r\n    case 'Hakuji':\r\n      if(stageStatus==='stageThree'){\r\n        characterBGMPlay('HakujiRound','Hakuji');\r\n      }else if(stageStatus==='stageFour'){\r\n        characterBGMPlay('Jotaro','Hakuji');\r\n      }else {\r\n        characterBGMPlay('round','Hakuji');\r\n      };\r\n      break;\r\n    case 'Jotaro':\r\n      if(stageStatus==='stageThree'){\r\n        characterBGMPlay('HakujiRound','Jotaro');\r\n      }else if(stageStatus==='stageFour'){\r\n        characterBGMPlay('Jotaro','Jotaro');\r\n      }else {\r\n        characterBGMPlay('round','Jotaro');\r\n      };\r\n      break;\r\n    case 'Josuke':\r\n      if(stageStatus==='stageThree'){\r\n        characterBGMPlay('HakujiRound','Josuke');\r\n      }else if(stageStatus==='stageFour'){\r\n        characterBGMPlay('Jotaro','Josuke');\r\n      }else {\r\n        characterBGMPlay('round','Josuke');\r\n      };\r\n      break;\r\n    case 'userRounds':\r\n    case 'enemyRounds':\r\n      roundBGMPlay(stageStatus);\r\n      break;\r\n    default:\r\n      break;\r\n  };\r\n};\r\nexport const fadeBGMStatus = ( fadeBGM, setCurrentBGM )=>{\r\n  switch (fadeBGM){\r\n    case 'Tanjirou':\r\n    case 'Nezuko':\r\n    case 'Zenitsu':\r\n    case 'Inosuke':\r\n    case 'Rengoku':\r\n      audioData.KimetsuNoYaiba.fade(1,0,1000);\r\n      setCurrentBGM('enemyRounds');\r\n      break;\r\n    case 'Jotaro':\r\n      if(audioData.Jotaro.playing() && audioData.Jotaro._volume===1){ return; };\r\n      audioData.Jotaro.fade(1,0,1000);\r\n      setCurrentBGM('enemyRounds');\r\n      break;\r\n    case 'Josuke':\r\n      audioData.Josuke.fade(1,0,1000);\r\n      setCurrentBGM('enemyRounds');\r\n      break;\r\n    case 'Teoni':\r\n    case 'Nomanooni':\r\n    case 'Nomanooni-2':\r\n    case 'Nomanooni-3':\r\n      audioData.KimetsuNoYaibaEnemy.fade(1,0,1000);\r\n      setCurrentBGM('userRounds');\r\n      break;\r\n    case 'Hakuji':\r\n      audioData.Hakuji.fade(1,0,1000);\r\n      setCurrentBGM('userRounds');\r\n      break;\r\n    default:\r\n      break;\r\n  };\r\n};","import React,{ useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Stage, Container, Sprite } from '@inlet/react-pixi/animated';\r\nimport { Howler } from 'howler';\r\n// reducers\r\nimport { stageDebut } from \"../reducer/chess\";\r\nimport { enemyStageDebut } from \"../reducer/enemyChess\";\r\n// other part\r\nimport { GameStart } from './Common/GameStart/Index';\r\nimport { CreateCheckerboard } from './Common/Checkerboard';\r\nimport { ConfirmTip } from \"./Common/ConfirmTips\";\r\nimport { UsualTip } from \"./Common/UsualTip\";\r\nimport { BattleBoard } from \"./Common/BattleBoard\";\r\nimport { BattleAnimeShow } from \"./Common/BattleAnimeShow/Index\";\r\nimport { OtherTab } from \"./Common/OtherTab\";\r\nimport { EnemyRoundTab } from \"./Common/EnemyRoundTab/Index\";\r\nimport { Chess } from \"../components/Chess/Chess\";\r\nimport { EnemyChess } from \"../components/EnemyChess/EnemyChess\";\r\nimport { Conversation, RoundEndConversation, StageClear } from \"../components/Common/Conversation/Index\";\r\n// rule\r\nimport { stageRule } from \"../constants/stageRule\";\r\nimport { loader } from './DataLoader';\r\nimport { currentBGMStatus, fadeBGMStatus } from './BGMStatus';\r\nexport const Canvas = ()=> {\r\n  const [ roundStart, setRoundStart ] = useState(false);\r\n  const [ stageStart, setStageStart ] = useState(false);\r\n  const [ roundEnd, setRoundEnd ] = useState(false);\r\n  const [ stageStatus, setStageStatus ] = useState('stageOne');\r\n  const [ stageClear, setStageClear ] = useState(false);\r\n  const [ roundNum, setRoundNum ] = useState(1);\r\n  const [ otherTab, setOtherTab ] = useState(false);\r\n  const [ volume, setVolume ] = useState(true);\r\n  const [ enemyRoundTab, setEnemyRoundTab ] = useState({\r\n    oder:0,\r\n    status:false\r\n  });\r\n  const [ currentChess, setCurrentChess ] = useState({\r\n    key:0,\r\n    type:\"MOVE\"\r\n  });\r\n  const [ usualTip, setUsualTip ] = useState({\r\n    title:``,\r\n    status:false,\r\n  });\r\n  const [ tipStatus, setTipStatus ] = useState({\r\n    title:``,\r\n    status:false,\r\n    position:{\r\n      x:0,y:0\r\n    },\r\n  });\r\n  const [ battleInfo, setBattleInfo ] = useState({\r\n    status:false,\r\n    attacker:{ key:'' },\r\n    target:{ key:'' }\r\n  });\r\n  const [ animeShow, setAnimeShow ] = useState({\r\n    status:false,\r\n    type:'',\r\n    attacker:{ key:'', skill:{}, prevSP:0 },\r\n    target:{ key:'', isHit:false, prevLife:0 }\r\n  });\r\n  const [ moveStep, setMoveStep ] = useState(false);\r\n  const [ currentBGM, setCurrentBGM ] = useState('');\r\n  const [ fadeBGM, setFadeBGM ] = useState('');\r\n  const chessMap = useSelector(state=>state.chessMap);\r\n  const chess = useSelector(state=>state.chess);\r\n  const enemyChess = useSelector(state=>state.enemyChess);\r\n  const dispatch = useDispatch();\r\n  const filterBackgroundImg = (stageStatus)=>{\r\n    switch (stageStatus){\r\n      case 'stageTwo':\r\n      case 'stageFour':\r\n        return 'stageOne';\r\n      default:\r\n        return stageStatus;\r\n    };\r\n  };\r\n  // bgm\r\n  useEffect(()=>{\r\n    currentBGMStatus(currentBGM, stageStatus);\r\n  },[ currentBGM, stageStatus ]);\r\n  useEffect(()=>{\r\n    fadeBGMStatus(fadeBGM,setCurrentBGM);\r\n  },[ fadeBGM ]);\r\n  // debut\r\n  useEffect(()=>{\r\n    if(roundStart){\r\n      dispatch(stageDebut({ \r\n        isDebutChess:stageRule.getIn([stageStatus,'debutChess'])\r\n      }));\r\n      dispatch(enemyStageDebut({ \r\n        isDebutChess:stageRule.getIn([stageStatus,'debutEnemyChess'])\r\n      }));\r\n    };\r\n  },[ dispatch, roundStart, stageStatus ]);\r\n  return <Stage\r\n    width={800}\r\n    height={600}\r\n    options={{\r\n      autoDensity: true, \r\n      antialias: true,\r\n      backgroundColor:0x01262a\r\n    }}>\r\n    <Container sortableChildren={true}>\r\n      {roundStart&&<Sprite\r\n        width={32}\r\n        height={32}\r\n        anchor={0.5} \r\n        x={760}\r\n        y={40}\r\n        zIndex={99}\r\n        interactive={moveStep}\r\n        buttonMode={true}\r\n        image={loader.resources[`otherIcon`].data}\r\n        pointertap={()=>{\r\n          setOtherTab(true);\r\n          setMoveStep(false);\r\n        }}\r\n      />}\r\n      <Sprite\r\n        width={32}\r\n        height={32}\r\n        anchor={0.5} \r\n        x={40}\r\n        y={40}\r\n        zIndex={99}\r\n        interactive={!animeShow.status}\r\n        buttonMode={true}\r\n        image={loader.resources[volume?`volumeIcon`:`muteIcon`].data}\r\n        pointertap={()=>{\r\n          setVolume(prev=>!prev);\r\n          volume ? Howler.volume(0): Howler.volume(1);\r\n        }}\r\n      />\r\n      <Sprite\r\n        width={800}\r\n        height={600}\r\n        zIndex={1}\r\n        image={loader.resources[`${filterBackgroundImg(stageStatus)}-main-BG`].data}\r\n      />\r\n      <CreateCheckerboard reduxProps={{ \r\n        chess,\r\n        enemyChess,\r\n        chessMap,\r\n        currentChess,\r\n        dispatch,\r\n        setTipStatus,\r\n        setMoveStep,\r\n        setBattleInfo\r\n      }}/>\r\n      <Chess chessProps={{\r\n        chess,\r\n        enemyChess,\r\n        moveStep,\r\n        setMoveStep,\r\n        setCurrentChess,\r\n        dispatch\r\n      }}/>\r\n      <EnemyChess enemyChessProps={{\r\n        enemyChess,\r\n        moveStep,\r\n        setMoveStep,\r\n        dispatch\r\n      }}/>\r\n    </Container>\r\n    {otherTab&&\r\n      <OtherTab\r\n        props={{\r\n          stageStatus,\r\n          roundNum,\r\n          setMoveStep,\r\n          setOtherTab,\r\n          setTipStatus,\r\n          setCurrentChess\r\n        }}\r\n      />}\r\n    {tipStatus.status&&\r\n      <ConfirmTip \r\n        props={{\r\n          chess,\r\n          currentChess,\r\n          tipStatus,\r\n          currentBGM,\r\n          dispatch,\r\n          setMoveStep,\r\n          setTipStatus,\r\n          setOtherTab,\r\n          setRoundNum,\r\n          setUsualTip,\r\n          setFadeBGM\r\n        }}\r\n      />}\r\n    {usualTip.status&&\r\n      <UsualTip\r\n        props={{\r\n          stageStatus,\r\n          chess,\r\n          currentChess,\r\n          enemyChess,\r\n          usualTip,\r\n          currentBGM,\r\n          animeShow,\r\n          setMoveStep,\r\n          setUsualTip,\r\n          setCurrentChess,\r\n          setFadeBGM,\r\n          setEnemyRoundTab,\r\n          setRoundEnd,\r\n          setStageStatus,\r\n          setRoundNum,\r\n          setRoundStart,\r\n          dispatch\r\n        }}\r\n      />}\r\n    {battleInfo.status&&\r\n      <BattleBoard\r\n        props={{\r\n          battleInfo,\r\n          roundNum,\r\n          setMoveStep,\r\n          setBattleInfo,\r\n          setAnimeShow,\r\n          setCurrentBGM,\r\n          dispatch\r\n        }}\r\n      />}\r\n    {animeShow.status&&\r\n      <BattleAnimeShow \r\n        props={{\r\n          stageStatus,\r\n          animeShow,\r\n          chess,\r\n          enemyChess,\r\n          enemyRoundTab,\r\n          setMoveStep,\r\n          setAnimeShow,\r\n          setUsualTip,\r\n          setCurrentChess,\r\n          setEnemyRoundTab,\r\n          dispatch\r\n        }}\r\n      />}\r\n    {enemyRoundTab.status&&\r\n      <EnemyRoundTab\r\n        props={{\r\n          enemyRoundTab,\r\n          chess,\r\n          enemyChess,\r\n          setEnemyRoundTab,\r\n          setAnimeShow,\r\n          setCurrentChess,\r\n          setCurrentBGM,\r\n          dispatch\r\n        }}\r\n      />}\r\n    {(stageStart&&!roundStart)&&\r\n      <Conversation\r\n        props={{\r\n          stageStatus,\r\n          setRoundStart,\r\n          setOtherTab\r\n        }}\r\n      />}\r\n    {roundEnd&&<RoundEndConversation \r\n      props={{\r\n        stageStatus,\r\n        currentBGM,\r\n        setFadeBGM,\r\n        setRoundStart,\r\n        setStageStatus,\r\n        setRoundEnd,\r\n        setRoundNum,\r\n        setStageClear,\r\n        setCurrentBGM,\r\n        dispatch\r\n      }}\r\n    />}\r\n    {stageClear&&\r\n      <StageClear\r\n        props={{\r\n          setStageStatus,\r\n          setStageClear,\r\n          setStageStart,\r\n          setRoundStart,\r\n          setCurrentBGM\r\n        }}\r\n      />}\r\n    {!stageStart&&\r\n      <GameStart \r\n        props={{\r\n          setStageStart,\r\n          setCurrentBGM\r\n        }}\r\n      />}\r\n  </Stage>\r\n};","import React, { useState, useEffect } from 'react';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport device from \"current-device\";\r\nimport { Canvas } from './Canvas';\r\nimport { audioData, loader } from './DataLoader';\r\nconst isDesktop = device.desktop();\r\nconst GlobalStyle = createGlobalStyle`\r\n  body { background:#1d2430; }\r\n`;\r\nconst StyledApp = styled.div`\r\n  position: relative;\r\n  display:flex;\r\n  align-items:center;\r\n  justify-content:center;\r\n  width:100%;\r\n  height:100vh;\r\n  .loading {\r\n    color: #fff;\r\n    font-size:24px;\r\n  }\r\n  canvas {\r\n    width:${({ isDesktop })=>!isDesktop&&`\r\n      75% !important\r\n    `};\r\n    height:${({ isDesktop })=>!isDesktop&&`\r\n      100% !important\r\n    `};\r\n  }\r\n  .mobile-cover {\r\n    @keyframes trun {\r\n      0% { transform: translate(-50%,-50%)rotate(0deg) }\r\n      75% { transform: translate(0%,-50%)rotate(90deg) }\r\n      100% { transform: translate(0%,-50%)rotate(90deg) }\r\n    }\r\n    position: fixed;\r\n    width:100%;\r\n    height:100vh;\r\n    z-index:99;\r\n    background-color:#000;\r\n    img { \r\n      position: absolute;\r\n      transform:translate(-50%,-50%);\r\n      top:40%;\r\n      left:50%;\r\n      width:15%;\r\n      max-width:75px;\r\n      animation:trun 2s infinite;\r\n    }\r\n    .subtitle {\r\n      position: absolute;\r\n      transform:translate(-50%,-50%);\r\n      top:50%;\r\n      left:50%;\r\n      color:#f90;\r\n      font-size:18px;\r\n    }\r\n  }\r\n`;\r\nexport const App = ()=> {\r\n  const [ dataIsDone, setDataIsDone ] = useState(false);\r\n  const [ gameStart, setGameStart ] = useState(false);\r\n  const [ mobileResize, setMobileResize ] = useState((window.innerHeight > window.innerWidth));\r\n  const [ progress, setProgress ] = useState(0);\r\n  const [ mp3load, setMp3load ] = useState({\r\n    open:false,\r\n    KimetsuNoYaiba:false,\r\n  });\r\n  // mp3 load\r\n  audioData.KimetsuNoYaiba.on('load', function(){\r\n    setMp3load(prev=>{return{...prev,KimetsuNoYaiba:true}});\r\n  });\r\n  audioData.open.on('load', function(){\r\n    setMp3load(prev=>{return{...prev,open:true}});\r\n  });\r\n  useEffect(()=>{\r\n    loader.onProgress.add((loader)=>{\r\n      setProgress(Math.floor(loader.progress));\r\n    });\r\n    loader.onComplete.add((loader,resources)=>{\r\n      setProgress(100);\r\n      setDataIsDone(true);\r\n    });\r\n  });\r\n  useEffect(()=>{\r\n    const handleResize = function(){\r\n      const width = window.innerWidth;\r\n      const height = window.innerHeight;\r\n      setMobileResize(height > width);\r\n    };\r\n    window.addEventListener('resize',handleResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  },[]);\r\n  useEffect(()=>{\r\n    const state = \r\n      mp3load.KimetsuNoYaiba&&\r\n      mp3load.open&&\r\n      dataIsDone;\r\n    if(state){\r\n      setGameStart(true);\r\n    }; \r\n  },[dataIsDone, mp3load]);\r\n  return <StyledApp isDesktop={isDesktop}>\r\n    <GlobalStyle/>\r\n    {gameStart?<Canvas/>:\r\n      <span className=\"loading\">\r\n        {dataIsDone ? `讀取音訊中...` :\r\n        `Loading ${progress}%..`}\r\n      </span>}\r\n    {(mobileResize&&!isDesktop) &&\r\n      <div className=\"mobile-cover\">\r\n        <img alt=''src={loader.resources[`trun`].url}/>\r\n        <div className=\"subtitle\">請橫放裝置</div>\r\n      </div>}\r\n  </StyledApp>\r\n};\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { createStore, combineReducers } from 'redux';\r\nimport chess from './chess';\r\nimport chessMap from './map';\r\nimport enemyChess from './enemyChess';\r\nconst rootReducer = combineReducers({\r\n  chess,\r\n  chessMap,\r\n  enemyChess\r\n});\r\nexport const store = createStore(rootReducer);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './reducer/index';\r\n\r\nReactDOM.render(<Provider store={store}><App /></Provider>,document.getElementById('root'));\r\nreportWebVitals();\r\n"],"sourceRoot":""}